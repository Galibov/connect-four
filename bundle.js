!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/connect-four/",r(r.s=26)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e,r){t.exports=r.p+"assets/img/favicon.ico"},function(t,e,r){t.exports=r.p+"assets/img/board_block.png"},function(t,e,r){t.exports=r.p+"assets/img/arrow.png"},function(t,e,r){t.exports=r.p+"assets/img/result_red.png"},function(t,e,r){t.exports=r.p+"assets/img/result_blue.png"},function(t,e,r){t.exports=r.p+"assets/img/result_tie.png"},function(t,e,r){t.exports=r.p+"assets/img/chip_red.png"},function(t,e,r){t.exports=r.p+"assets/img/chip_blue.png"},function(t,e,r){t.exports=r.p+"assets/img/chip_red_drop.png"},function(t,e,r){t.exports=r.p+"assets/img/chip_blue_drop.png"},function(t,e,r){t.exports=r.p+"assets/img/chip_red_win.png"},function(t,e,r){t.exports=r.p+"assets/img/chip_blue_win.png"},function(t,e,r){t.exports=r.p+"assets/img/chip_red_shadow.png"},function(t,e,r){t.exports=r.p+"assets/img/chip_blue_shadow.png"},function(t,e,r){t.exports=r.p+"assets/img/message_board.png"},function(t,e,r){t.exports=r.p+"assets/img/try_again_red.png"},function(t,e,r){t.exports=r.p+"assets/img/try_again_blue.png"},function(t,e,r){t.exports=r.p+"assets/img/rocket_red.png"},function(t,e,r){t.exports=r.p+"assets/img/rocket_blue.png"},function(t,e,r){t.exports=r.p+"assets/img/btn_replay.png"},function(t,e,r){t.exports=r.p+"index.html"},function(t,e,r){r(24)(r(25))},function(t,e){t.exports=function(t){function e(t){"undefined"!=typeof console&&(console.error||console.log)("[Script Loader]",t)}try{"undefined"!=typeof execScript&&"undefined"!=typeof attachEvent&&"undefined"==typeof addEventListener?execScript(t):"undefined"!=typeof eval?eval.call(null,t):e("EvalError: No eval function available")}catch(t){e(t)}}},function(t,e){t.exports='/*!\n * pixi.js - v4.8.6\n * Compiled Fri, 15 Feb 2019 18:14:00 UTC\n *\n * pixi.js is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\n!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.PIXI=t()}}(function(){var t;return function(){function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module \'"+s+"\'");throw h.code="MODULE_NOT_FOUND",h}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return i(r||t)},l,l.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}return t}()({1:[function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(t){return(t>0)-(t<0)},r.abs=function(t){var e=t>>31;return(t^e)-e},r.min=function(t,e){return e^(t^e)&-(t<e)},r.max=function(t,e){return t^(t^e)&-(t<e)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var e,r;return e=(t>65535)<<4,t>>>=e,r=(t>255)<<3,t>>>=r,e|=r,r=(t>15)<<2,t>>>=r,e|=r,r=(t>3)<<1,t>>>=r,(e|=r)|t>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),r.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},r.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},r.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),(t=65535&(t|t>>>16))<<16>>16},r.interleave3=function(t,e,r){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|r<<2},r.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),(t=1023&(t|t>>>16))<<22>>22},r.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},{}],2:[function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n=e&&e.length,o=n?e[0]*r:t.length,a=i(t,0,o,r,!0),u=[];if(!a||a.next===a.prev)return u;var h,l,d,f,p,v,g;if(n&&(a=c(t,e,a,r)),t.length>80*r){h=d=t[0],l=f=t[1];for(var y=r;y<o;y+=r)p=t[y],v=t[y+1],p<h&&(h=p),v<l&&(l=v),p>d&&(d=p),v>f&&(f=v);g=Math.max(d-h,f-l),g=0!==g?1/g:0}return s(a,u,r,h,l,g),u}function i(t,e,r,n,i){var o,s;if(i===A(t,e,r,n)>0)for(o=e;o<r;o+=n)s=P(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=P(o,t[o],t[o+1],s);return s&&T(s,s.next)&&(C(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!T(n,n.next)&&0!==x(n.prev,n,n.next))n=n.next;else{if(C(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function s(t,e,r,n,i,c,d){if(t){!d&&c&&v(t,n,i,c);for(var f,p,g=t;t.prev!==t.next;)if(f=t.prev,p=t.next,c?u(t,n,i,c):a(t))e.push(f.i/r),e.push(t.i/r),e.push(p.i/r),C(t),t=p.next,g=p.next;else if((t=p)===g){d?1===d?(t=h(t,e,r),s(t,e,r,n,i,c,2)):2===d&&l(t,e,r,n,i,c):s(o(t),e,r,n,i,c,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(x(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(_(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,s=t.next;if(x(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,h=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,l=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=y(a,u,e,r,n),d=y(h,l,e,r,n),f=t.prevZ,p=t.nextZ;f&&f.z>=c&&p&&p.z<=d;){if(f!==t.prev&&f!==t.next&&_(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==t.prev&&p!==t.next&&_(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&_(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==t.prev&&p!==t.next&&_(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function h(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!T(i,o)&&w(i,n,n.next,o)&&S(i,o)&&S(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),C(n),C(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,r,n,i,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&b(u,h)){var l=M(u,h);return u=o(u,u.next),l=o(l,l.next),s(u,e,r,n,i,a),void s(l,e,r,n,i,a)}h=h.next}u=u.next}while(u!==t)}function c(t,e,r,n){var s,a,u,h,l,c=[];for(s=0,a=e.length;s<a;s++)u=e[s]*n,h=s<a-1?e[s+1]*n:t.length,l=i(t,u,h,n,!1),l===l.next&&(l.steiner=!0),c.push(m(l));for(c.sort(d),s=0;s<c.length;s++)f(c[s],r),r=o(r,r.next);return r}function d(t,e){return t.x-e.x}function f(t,e){if(e=p(t,e)){var r=M(e,t);o(r,r.next)}}function p(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r.prev;var u,h=r,l=r.x,c=r.y,d=1/0;for(n=r.next;n!==h;)i>=n.x&&n.x>=l&&i!==n.x&&_(o<c?i:s,o,l,c,o<c?s:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<d||u===d&&n.x>r.x)&&S(n,t)&&(r=n,d=u),n=n.next;return r}function v(t,e,r,n){var i=t;do{null===i.z&&(i.z=y(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,g(i)}function g(t){var e,r,n,i,o,s,a,u,h=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ);e++);for(u=h;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(s>1);return t}function y(t,e,r,n,i){return t=32767*(t-r)*i,e=32767*(e-n)*i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function m(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function _(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&S(t,e)&&S(e,t)&&O(t,e)}function x(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function T(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,r,n){return!!(T(t,e)&&T(r,n)||T(t,n)&&T(r,e))||x(t,e,r)>0!=x(t,e,n)>0&&x(r,n,t)>0!=x(r,n,e)>0}function E(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&w(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function S(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function O(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}function M(t,e){var r=new R(t.i,t.x,t.y),n=new R(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function P(t,e,r,n){var i=new R(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function R(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}e.exports=n,e.exports.default=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(A(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,l=a<u-1?e[a+1]*r:t.length;s-=Math.abs(A(t,h,l,r))}var c=0;for(a=0;a<n.length;a+=3){var d=n[a]*r,f=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},{}],3:[function(t,e,r){"use strict";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(){this._events=new n,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,a="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),o.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)s.call(t,e)&&r.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},o.prototype.listeners=function(t,e){var r=a?a+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},o.prototype.emit=function(t,e,r,n,i,o){var s=a?a+t:t;if(!this._events[s])return!1;var u,h,l=this._events[s],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,i),!0;case 6:return l.fn.call(l.context,e,r,n,i,o),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l.fn.apply(l.context,u)}else{var d,f=l.length;for(h=0;h<f;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),c){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,e);break;case 3:l[h].fn.call(l[h].context,e,r);break;case 4:l[h].fn.call(l[h].context,e,r,n);break;default:if(!u)for(d=1,u=new Array(c-1);d<c;d++)u[d-1]=arguments[d];l[h].fn.apply(l[h].context,u)}}return!0},o.prototype.on=function(t,e,r){var n=new i(e,r||this),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.once=function(t,e,r){var n=new i(e,r||this,!0),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.removeListener=function(t,e,r,i){var o=a?a+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new n:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||(0==--this._eventsCount?this._events=new n:delete this._events[o]);else{for(var u=0,h=[],l=s.length;u<l;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&h.push(s[u]);h.length?this._events[o]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new n:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=a?a+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,void 0!==e&&(e.exports=o)},{}],4:[function(e,r,n){!function(e){function n(t,e){return t.test(e)}function i(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),r=e.split("[FBAN");void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]);var i={apple:{phone:n(o,e)&&!n(d,e),ipod:n(s,e),tablet:!n(o,e)&&n(a,e)&&!n(d,e),device:(n(o,e)||n(s,e)||n(a,e))&&!n(d,e)},amazon:{phone:n(l,e),tablet:!n(l,e)&&n(c,e),device:n(l,e)||n(c,e)},android:{phone:!n(d,e)&&n(l,e)||!n(d,e)&&n(u,e),tablet:!n(d,e)&&!n(l,e)&&!n(u,e)&&(n(c,e)||n(h,e)),device:!n(d,e)&&(n(l,e)||n(c,e)||n(u,e)||n(h,e))},windows:{phone:n(d,e),tablet:n(f,e),device:n(d,e)||n(f,e)},other:{blackberry:n(p,e),blackberry10:n(v,e),opera:n(g,e),firefox:n(m,e),chrome:n(y,e),device:n(p,e)||n(v,e)||n(g,e)||n(m,e)||n(y,e)}};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}var o=/iPhone/i,s=/iPod/i,a=/iPad/i,u=/\\bAndroid(?:.+)Mobile\\b/i,h=/Android/i,l=/\\bAndroid(?:.+)SD4930UR\\b/i,c=/\\bAndroid(?:.+)(?:KF[A-Z]{2,4})\\b/i,d=/Windows Phone/i,f=/\\bWindows(?:.+)ARM\\b/i,p=/BlackBerry/i,v=/BB10/i,g=/Opera Mini/i,y=/\\b(CriOS|Chrome)(?:.+)Mobile/i,m=/\\Mobile(?:.+)Firefox\\b/i;void 0!==r&&r.exports&&"undefined"==typeof window?r.exports=i:void 0!==r&&r.exports&&"undefined"!=typeof window?r.exports=i():"function"==typeof t&&t.amd?t([],e.isMobile=i()):e.isMobile=i()}(this)},{}],5:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return o(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}(),a=function(){function t(){n(this,t),this._head=this._tail=void 0}return o(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return i(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return i(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=s,r.default=a,e.exports=r.default},{}],6:[function(t,e,r){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,a,u=n(t),h=1;h<arguments.length;h++){r=Object(arguments[h]);for(var l in r)o.call(r,l)&&(u[l]=r[l]);if(i){a=i(r);for(var c=0;c<a.length;c++)s.call(r,a[c])&&(u[a[c]]=r[a[c]])}}return u}},{}],7:[function(t,e,r){"use strict";e.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(i[r.q.name][e]=n)}),i}},{}],8:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var i=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/,o=function(t){return i.exec(t).slice(1)};r.resolve=function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,i="/"===s.charAt(0))}return r=e(n(r.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+r||"."},r.normalize=function(t){var i=r.isAbsolute(t),o="/"===s(t,-1);return t=e(n(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var i=n(t.split("/")),o=n(e.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}for(var h=[],u=a;u<i.length;u++)h.push("..");return h=h.concat(o.slice(a)),h.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:26}],9:[function(t,e,r){var n=new ArrayBuffer(0),i=function(t,e,r,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=n,r&&this.upload(r),this._updateID=0};i.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},i.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(t,e,r){return new i(t,t.ARRAY_BUFFER,e,r)},i.createIndexBuffer=function(t,e,r){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,r)},i.create=function(t,e,r,n){return new i(t,e,r,n)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=i},{}],10:[function(t,e,r){var n=t("./GLTexture"),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},e.exports=i},{"./GLTexture":12}],11:[function(t,e,r){var n=t("./shader/compileProgram"),i=t("./shader/extractAttributes"),o=t("./shader/extractUniforms"),s=t("./shader/setPrecision"),a=t("./shader/generateUniformAccessObject"),u=function(t,e,r,u,h){this.gl=t,u&&(e=s(e,u),r=s(r,u)),this.program=n(t,e,r,h),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=u},{"./shader/compileProgram":17,"./shader/extractAttributes":19,"./shader/extractUniforms":20,"./shader/generateUniformAccessObject":21,"./shader/setPrecision":25}],12:[function(t,e,r){var n=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var i=!1;n.prototype.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!i){if(!n.getExtension("OES_texture_float"))throw new Error("floating point textures not available");i=!0}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},n.fromSource=function(t,e,r){var i=new n(t);return i.premultiplyAlpha=r||!1,i.upload(e),i},n.fromData=function(t,e,r,i){var o=new n(t);return o.uploadData(e,r,i),o},e.exports=n},{}],13:[function(t,e,r){function n(t,e){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var i=t("./setVertexAttribArrays");n.prototype.constructor=n,e.exports=n,n.FORCE_NATIVE=!1,n.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),t.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return i(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},n.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},n.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},n.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},{"./setVertexAttribArrays":16}],14:[function(t,e,r){var n=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r};e.exports=n},{}],15:[function(t,e,r){var n={createContext:t("./createContext"),setVertexAttribArrays:t("./setVertexAttribArrays"),GLBuffer:t("./GLBuffer"),GLFramebuffer:t("./GLFramebuffer"),GLShader:t("./GLShader"),GLTexture:t("./GLTexture"),VertexArrayObject:t("./VertexArrayObject"),shader:t("./shader")};void 0!==e&&e.exports&&(e.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},{"./GLBuffer":9,"./GLFramebuffer":10,"./GLShader":11,"./GLTexture":12,"./VertexArrayObject":13,"./createContext":14,"./setVertexAttribArrays":16,"./shader":22}],16:[function(t,e,r){var n=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}};e.exports=n},{}],17:[function(t,e,r){var n=function(t,e,r,n){var o=i(t,t.VERTEX_SHADER,e),s=i(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),n)for(var u in n)t.bindAttribLocation(a,n[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a},i=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};e.exports=n},{}],18:[function(t,e,r){var n=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return i(2*e);case"bvec3":return i(3*e);case"bvec4":return i(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},i=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};e.exports=n},{}],19:[function(t,e,r){var n=t("./mapType"),i=t("./mapSize"),o=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<o;a++){var u=t.getActiveAttrib(e,a),h=n(t,u.type);r[u.name]={type:h,size:i(h),location:t.getAttribLocation(e,u.name),pointer:s}}return r},s=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};e.exports=o},{"./mapSize":23,"./mapType":24}],20:[function(t,e,r){var n=t("./mapType"),i=t("./defaultValue"),o=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\\[.*?\\]/,""),h=n(t,a.type);r[u]={type:h,size:a.size,location:t.getUniformLocation(e,u),value:i(h,a.size)}}return r};e.exports=o},{"./defaultValue":18,"./mapType":24}],21:[function(t,e,r){function n(t,e){return function(r){this.data[t].value=r;var n=this.data[t].location;1===e.size?a[e.type](this.gl,n,r):u[e.type](this.gl,n,r)}}function i(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}var o=function(t,e){var r={data:{}};r.gl=t\n;for(var o=Object.keys(e),a=0;a<o.length;a++){var u=o[a],h=u.split("."),l=h[h.length-1],c=i(h,r),d=e[u];c.data[l]=d,c.gl=t,Object.defineProperty(c,l,{get:s(l),set:n(l,d)})}return r},s=function(t){return function(){return this.data[t].value}},a={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},u={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)}};e.exports=o},{}],22:[function(t,e,r){e.exports={compileProgram:t("./compileProgram"),defaultValue:t("./defaultValue"),extractAttributes:t("./extractAttributes"),extractUniforms:t("./extractUniforms"),generateUniformAccessObject:t("./generateUniformAccessObject"),setPrecision:t("./setPrecision"),mapSize:t("./mapSize"),mapType:t("./mapType")}},{"./compileProgram":17,"./defaultValue":18,"./extractAttributes":19,"./extractUniforms":20,"./generateUniformAccessObject":21,"./mapSize":23,"./mapType":24,"./setPrecision":25}],23:[function(t,e,r){var n=function(t){return i[t]},i={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=n},{}],24:[function(t,e,r){var n=function(t,e){if(!i){var r=Object.keys(o);i={};for(var n=0;n<r.length;++n){var s=r[n];i[t[s]]=o[s]}}return i[e]},i=null,o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=n},{}],25:[function(t,e,r){var n=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\\n"+t:t};e.exports=n},{}],26:[function(t,e,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){g&&p&&(g=!1,p.length?v=p.concat(v):y=-1,v.length&&u())}function u(){if(!g){var t=o(a);g=!0;for(var e=v.length;e;){for(p=v,v=[];++y<e;)p&&p[y].run();y=-1,e=v.length}p=null,g=!1,s(t)}}function h(t,e){this.fun=t,this.array=e}function l(){}var c,d,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var p,v=[],g=!1,y=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];v.push(new h(t,e)),1!==v.length||g||o(u)},h.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],27:[function(e,r,n){(function(e){!function(i){function o(t){throw new RangeError(L[t])}function s(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function a(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(D,"."),n+s(t.split("."),e).join(".")}function u(t){for(var e,r,n=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function h(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=k(t>>>10&1023|55296),t=56320|1023&t),e+=k(t)}).join("")}function l(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:w}function c(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,r){var n=0;for(t=r?B(t/M):t>>1,t+=B(t/e);t>N*S>>1;n+=w)t=B(t/N);return B(n+(N+1)*t/(t+O))}function f(t){var e,r,n,i,s,a,u,c,f,p,v=[],g=t.length,y=0,m=C,_=P;for(r=t.lastIndexOf(R),r<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&o("not-basic"),v.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<g;){for(s=y,a=1,u=w;i>=g&&o("invalid-input"),c=l(t.charCodeAt(i++)),(c>=w||c>B((T-y)/a))&&o("overflow"),y+=c*a,f=u<=_?E:u>=_+S?S:u-_,!(c<f);u+=w)p=w-f,a>B(T/p)&&o("overflow"),a*=p;e=v.length+1,_=d(y-s,e,0==s),B(y/e)>T-m&&o("overflow"),m+=B(y/e),y%=e,v.splice(y++,0,m)}return h(v)}function p(t){var e,r,n,i,s,a,h,l,f,p,v,g,y,m,_,b=[];for(t=u(t),g=t.length,e=C,r=0,s=P,a=0;a<g;++a)(v=t[a])<128&&b.push(k(v));for(n=i=b.length,i&&b.push(R);n<g;){for(h=T,a=0;a<g;++a)(v=t[a])>=e&&v<h&&(h=v);for(y=n+1,h-e>B((T-r)/y)&&o("overflow"),r+=(h-e)*y,e=h,a=0;a<g;++a)if(v=t[a],v<e&&++r>T&&o("overflow"),v==e){for(l=r,f=w;p=f<=s?E:f>=s+S?S:f-s,!(l<p);f+=w)_=l-p,m=w-p,b.push(k(c(p+_%m,0))),l=B(_/m);b.push(k(c(l,0))),s=d(r,y,n==i),r=0,++n}++r,++e}return b.join("")}function v(t){return a(t,function(t){return A.test(t)?f(t.slice(4).toLowerCase()):t})}function g(t){return a(t,function(t){return I.test(t)?"xn--"+p(t):t})}var y="object"==typeof n&&n&&!n.nodeType&&n,m="object"==typeof r&&r&&!r.nodeType&&r,_="object"==typeof e&&e;_.global!==_&&_.window!==_&&_.self!==_||(i=_);var b,x,T=2147483647,w=36,E=1,S=26,O=38,M=700,P=72,C=128,R="-",A=/^xn--/,I=/[^\\x20-\\x7E]/,D=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=w-E,B=Math.floor,k=String.fromCharCode;if(b={version:"1.4.1",ucs2:{decode:u,encode:h},decode:f,encode:p,toASCII:g,toUnicode:v},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return b});else if(y&&m)if(r.exports==y)m.exports=b;else for(x in b)b.hasOwnProperty(x)&&(y[x]=b[x]);else i.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var l=0;l<h;++l){var c,d,f,p,v=t[l].replace(a,"%20"),g=v.indexOf(r);g>=0?(c=v.substr(0,g),d=v.substr(g+1)):(c=v,d=""),f=decodeURIComponent(c),p=decodeURIComponent(d),n(s,f)?i(s[f])?s[f].push(p):s[f]=[s[f],p]:s[f]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],29:[function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?n(s(t),function(s){var a=encodeURIComponent(i(s))+r;return o(t[s])?n(t[s],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[s]))}).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],30:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":28,"./encode":29}],31:[function(t,e,r){"use strict";e.exports=function(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){r=e+r>i?i-e:r;var o=i-r;for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}},{}],32:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0,r.Loader=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("mini-signals"),u=n(a),h=t("parse-uri"),l=n(h),c=t("./async"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(c),f=t("./Resource"),p=/(#[\\w-]+)?$/,v=r.Loader=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;i(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=d.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new u.default,this.onError=new u.default,this.onLoad=new u.default,this.onStart=new u.default,this.onComplete=new u.default;for(var o=0;o<t._defaultBeforeMiddleware.length;++o)this.pre(t._defaultBeforeMiddleware[o]);for(var s=0;s<t._defaultAfterMiddleware.length;++s)this.use(t._defaultAfterMiddleware[s])}return t.prototype.add=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"===(void 0===t?"undefined":o(t))&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error(\'Resource named "\'+t+\'" already exists.\');if(e=this._prepareUrl(e),this.resources[t]=new f.Resource(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var s=r.parentResource,a=[],u=0;u<s.children.length;++u)s.children[u].isComplete||a.push(s.children[u]);var h=s.progressChunk*(a.length+1),l=h/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=this._queue._tasks.length,r=100/e,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=r;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,l.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=p.exec(r)[0];r=r.substr(0,r.length-n.length),-1!==r.indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=n}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,d.eachSeries(this._beforeMiddleware,function(e,n){e.call(r,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),d.eachSeries(this._afterMiddleware,function(r,n){r.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},s(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();v._defaultBeforeMiddleware=[],v._defaultAfterMiddleware=[],v.pre=function(t){return v._defaultBeforeMiddleware.push(t),v},v.use=function(t){return v._defaultAfterMiddleware.push(t),v}},{"./Resource":33,"./async":34,"mini-signals":5,"parse-uri":7}],33:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){}function s(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function a(t){return t.toString().replace("object ","")}r.__esModule=!0,r.Resource=void 0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),h=t("parse-uri"),l=n(h),c=t("mini-signals"),d=n(c),f=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),p=null,v=r.Resource=function(){function t(e,r,n){if(i(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=o,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new d.default,this.onProgress=new d.default,this.onComplete=new d.default,this.onAfterMiddleware=new d.default}return t.setExtensionLoadType=function(e,r){s(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){s(t._xhrTypeMap,e,r)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete)return void(e&&setTimeout(function(){return e(r)},1));switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:f&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return void this.abort("Unsupported element: "+t);if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=r,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(a(t)+" Request failed. Status: "+t.status+\', text: "\'+t.statusText+\'"\')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(a(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(a(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===n&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2!=(n/100|0))return void this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,p||(p=document.createElement("a")),p.href=t,t=(0,l.default)(p.href,{strictMode:!0});var r=!t.port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);t=t.substring(0,o),e=t.substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},u(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();v.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},v.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},v.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},v.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},v._loadTypeMap={gif:v.LOAD_TYPE.IMAGE,png:v.LOAD_TYPE.IMAGE,bmp:v.LOAD_TYPE.IMAGE,jpg:v.LOAD_TYPE.IMAGE,jpeg:v.LOAD_TYPE.IMAGE,tif:v.LOAD_TYPE.IMAGE,tiff:v.LOAD_TYPE.IMAGE,webp:v.LOAD_TYPE.IMAGE,tga:v.LOAD_TYPE.IMAGE,svg:v.LOAD_TYPE.IMAGE,"svg+xml":v.LOAD_TYPE.IMAGE,mp3:v.LOAD_TYPE.AUDIO,ogg:v.LOAD_TYPE.AUDIO,wav:v.LOAD_TYPE.AUDIO,mp4:v.LOAD_TYPE.VIDEO,webm:v.LOAD_TYPE.VIDEO},v._xhrTypeMap={xhtml:v.XHR_RESPONSE_TYPE.DOCUMENT,html:v.XHR_RESPONSE_TYPE.DOCUMENT,htm:v.XHR_RESPONSE_TYPE.DOCUMENT,xml:v.XHR_RESPONSE_TYPE.DOCUMENT,tmx:v.XHR_RESPONSE_TYPE.DOCUMENT,svg:v.XHR_RESPONSE_TYPE.DOCUMENT,tsx:v.XHR_RESPONSE_TYPE.DOCUMENT,gif:v.XHR_RESPONSE_TYPE.BLOB,png:v.XHR_RESPONSE_TYPE.BLOB,bmp:v.XHR_RESPONSE_TYPE.BLOB,jpg:v.XHR_RESPONSE_TYPE.BLOB,jpeg:v.XHR_RESPONSE_TYPE.BLOB,tif:v.XHR_RESPONSE_TYPE.BLOB,tiff:v.XHR_RESPONSE_TYPE.BLOB,webp:v.XHR_RESPONSE_TYPE.BLOB,tga:v.XHR_RESPONSE_TYPE.BLOB,json:v.XHR_RESPONSE_TYPE.JSON,text:v.XHR_RESPONSE_TYPE.TEXT,txt:v.XHR_RESPONSE_TYPE.TEXT,ttf:v.XHR_RESPONSE_TYPE.BUFFER,otf:v.XHR_RESPONSE_TYPE.BUFFER},v.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",void 0!==e&&(e.exports.default=v)},{"mini-signals":5,"parse-uri":7}],34:[function(t,e,r){"use strict";function n(){}function i(t,e,r,n){var i=0,o=t.length;!function s(a){if(a||i===o)return void(r&&r(a));n?setTimeout(function(){e(t[i++],s)},1):e(t[i++],s)}()}function o(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function s(t,e){function r(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(a.started=!0,null==t&&a.idle())return void setTimeout(function(){return a.drain()},1);var i={data:t,callback:"function"==typeof r?r:n};e?a._tasks.unshift(i):a._tasks.push(i),setTimeout(function(){return a.process()},1)}function i(t){return function(){s-=1,t.callback.apply(t,arguments),null!=arguments[0]&&a.error(arguments[0],t.data),s<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var s=0,a={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){r(t,!1,e)},kill:function(){s=0,a.drain=n,a.started=!1,a._tasks=[]},unshift:function(t,e){r(t,!0,e)},process:function(){for(;!a.paused&&s<a.concurrency&&a._tasks.length;){var e=a._tasks.shift();0===a._tasks.length&&a.empty(),s+=1,s===a.concurrency&&a.saturated(),t(e.data,o(i(e)))}},length:function(){return a._tasks.length},running:function(){return s},idle:function(){return a._tasks.length+s===0},pause:function(){!0!==a.paused&&(a.paused=!0)},resume:function(){if(!1!==a.paused){a.paused=!1;for(var t=1;t<=a.concurrency;t++)a.process()}}};return a}r.__esModule=!0,r.eachSeries=i,r.queue=s},{}],35:[function(t,e,r){"use strict";function n(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],o=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=255&t.charCodeAt(r++):n[s]=0;o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2];switch(r-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var a=0;a<o.length;++a)e+=i.charAt(o[a])}return e}r.__esModule=!0,r.encodeBinary=n;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0!==e&&(e.exports.default=n)},{}],36:[function(t,e,r){"use strict";var n=t("./Loader").Loader,i=t("./Resource").Resource,o=t("./async"),s=t("./b64");n.Resource=i,n.async=o,n.encodeBinary=s,n.base64=s,e.exports=n,e.exports.Loader=n,e.exports.default=n},{"./Loader":32,"./Resource":33,"./async":34,"./b64":35}],37:[function(t,e,r){"use strict";function n(){return function(t,e){if(!t.data)return void e();if(t.xhr&&t.xhrType===i.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=s.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=i.Resource.TYPE.IMAGE,void(t.data.onload=function(){s.revokeObjectURL(r),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+(0,o.encodeBinary)(t.xhr.responseText),t.type=i.Resource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}}r.__esModule=!0,r.blobMiddlewareFactory=n;var i=t("../../Resource"),o=t("../../b64"),s=window.URL||window.webkitURL},{"../../Resource":33,"../../b64":35}],38:[function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,r){if(t&&h.isObject(t)&&t instanceof n)return t;var i=new n;return i.parse(t,e,r),i}function o(t){return h.isString(t)&&(t=i(t)),t instanceof n?t.format():n.prototype.format.call(t)}function s(t,e){return i(t,!1,!0).resolve(e)}function a(t,e){return t?i(t,!1,!0).resolveObject(e):e}var u=t("punycode"),h=t("./util");r.parse=i,r.resolve=s,r.resolveObject=a,r.format=o,r.Url=n;var l=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,d=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,f=["<",">",\'"\',"`"," ","\\r","\\n","\\t"],p=["{","}","|","\\\\","^","`"].concat(f),v=["\'"].concat(p),g=["%","/","?",";","#"].concat(v),y=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=t("querystring");n.prototype.parse=function(t,e,r){if(!h.isString(t))throw new TypeError("Parameter \'url\' must be a string, not "+typeof t);var n=t.indexOf("?"),i=-1!==n&&n<t.indexOf("#")?"?":"#",o=t.split(i),s=/\\\\/g;o[0]=o[0].replace(s,"/"),t=o.join(i);var a=t;if(a=a.trim(),!r&&1===t.split("#").length){var c=d.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],this.query=e?w.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var f=l.exec(a);if(f){f=f[0];var p=f.toLowerCase();this.protocol=p,a=a.substr(f.length)}if(r||f||a.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var E="//"===a.substr(0,2);!E||f&&x[f]||(a=a.substr(2),this.slashes=!0)}if(!x[f]&&(E||f&&!T[f])){for(var S=-1,O=0;O<y.length;O++){var M=a.indexOf(y[O]);-1!==M&&(-1===S||M<S)&&(S=M)}var P,C;C=-1===S?a.lastIndexOf("@"):a.lastIndexOf("@",S),-1!==C&&(P=a.slice(0,C),a=a.slice(C+1),this.auth=decodeURIComponent(P)),S=-1;for(var O=0;O<g.length;O++){var M=a.indexOf(g[O]);-1!==M&&(-1===S||M<S)&&(S=M)}-1===S&&(S=a.length),this.host=a.slice(0,S),a=a.slice(S),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var A=this.hostname.split(/\\./),O=0,I=A.length;O<I;O++){var D=A[O];if(D&&!D.match(m)){for(var L="",N=0,B=D.length;N<B;N++)D.charCodeAt(N)>127?L+="x":L+=D[N];if(!L.match(m)){var k=A.slice(0,O),F=A.slice(O+1),j=D.match(_);j&&(k.push(j[1]),F.unshift(j[2])),F.length&&(a="/"+F.join(".")+a),this.hostname=k.join(".");break}}}\nthis.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=u.toASCII(this.hostname));var U=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+U,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!b[p])for(var O=0,I=v.length;O<I;O++){var G=v[O];if(-1!==a.indexOf(G)){var W=encodeURIComponent(G);W===G&&(W=escape(G)),a=a.split(G).join(W)}}var H=a.indexOf("#");-1!==H&&(this.hash=a.substr(H),a=a.slice(0,H));var Y=a.indexOf("?");if(-1!==Y?(this.search=a.substr(Y),this.query=a.substr(Y+1),e&&(this.query=w.parse(this.query)),a=a.slice(0,Y)):e&&(this.search="",this.query={}),a&&(this.pathname=a),T[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",V=this.search||"";this.path=U+V}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(o=w.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||T[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+i+r+s+n},n.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(h.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var l=a[u];"protocol"!==l&&(r[l]=t[l])}return T[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!T[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var f=c[d];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||x[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",g=r.search||"";r.path=v+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=m||y||r.host&&t.pathname,b=_,w=r.pathname&&r.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],E=r.protocol&&!T[r.protocol];if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),_=_&&(""===p[0]||""===w[0])),m)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=t.search,r.query=t.query;else if(!h.isNullOrUndefined(t.search)){if(E){r.hostname=r.host=w.shift();var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return r.search=t.search,r.query=t.query,h.isNull(r.pathname)&&h.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=w.slice(-1)[0],M=(r.host||t.host||w.length>1)&&("."===O||".."===O)||""===O,P=0,C=w.length;C>=0;C--)O=w[C],"."===O?w.splice(C,1):".."===O?(w.splice(C,1),P++):P&&(w.splice(C,1),P--);if(!_&&!b)for(;P--;P)w.unshift("..");!_||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),M&&"/"!==w.join("/").substr(-1)&&w.push("");var R=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(E){r.hostname=r.host=R?"":w.length?w.shift():"";var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return _=_||r.host&&w.length,_&&!R&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),h.isNull(r.pathname)&&h.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=c.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":39,punycode:27,querystring:30}],39:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],40:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=t("ismobilejs"),u=n(a),h=t("./accessibleTarget"),l=n(h);s.utils.mixins.delayMixin(s.DisplayObject.prototype,l.default);var c=100,d=0,f=0,p=2,v=function(){function t(e){i(this,t),!u.default.tablet&&!u.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=c+"px",r.style.height=c+"px",r.style.position="absolute",r.style.top=d+"px",r.style.left=f+"px",r.style.zIndex=p,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var i=0;i<this.children.length;i++){var o=this.children[i];if(o.renderId!==this.renderId)o._accessibleActive=!1,s.utils.removeItems(this.children,i,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,i--,0===this.children.length&&this.deactivate();else{n=o._accessibleDiv;var a=o.hitArea,u=o.worldTransform;o.hitArea?(n.style.left=(u.tx+a.x*u.a)*e+"px",n.style.top=(u.ty+a.y*u.d)*r+"px",n.style.width=a.width*u.a*e+"px",n.style.height=a.height*u.d*r+"px"):(a=o.getBounds(),this.capHitArea(a),n.style.left=a.x*e+"px",n.style.top=a.y*r+"px",n.style.width=a.width*e+"px",n.style.height=a.height*r+"px",n.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(n.title=o.accessibleTitle),n.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&n.setAttribute("aria-label",o.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=c+"px",e.style.height=c+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=p,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();r.default=v,s.WebGLRenderer.registerPlugin("accessibility",v),s.CanvasRenderer.registerPlugin("accessibility",v)},{"../core":65,"./accessibleTarget":41,ismobilejs:4}],41:[function(t,e,r){"use strict";r.__esModule=!0,r.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],42:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./accessibleTarget");Object.defineProperty(r,"accessibleTarget",{enumerable:!0,get:function(){return n(i).default}});var o=t("./AccessibilityManager");Object.defineProperty(r,"AccessibilityManager",{enumerable:!0,get:function(){return n(o).default}})},{"./AccessibilityManager":40,"./accessibleTarget":41}],43:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("./autoDetectRenderer"),a=t("./display/Container"),u=n(a),h=t("./ticker"),l=t("./settings"),c=n(l),d=t("./const"),f=function(){function t(e,r,n,o,a){i(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:r||c.default.RENDER_OPTIONS.height,forceCanvas:!!o,sharedTicker:!!a},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,s.autoDetectRenderer)(e),this.stage=new u.default,this._ticker=null,this.ticker=e.sharedTicker?h.shared:new h.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,e){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},o(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,d.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();r.default=f},{"./autoDetectRenderer":45,"./const":46,"./display/Container":48,"./settings":101,"./ticker":121}],44:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\\n"+t;return t}r.__esModule=!0;var a=t("pixi-gl-core"),u=t("./settings"),h=function(t){return t&&t.__esModule?t:{default:t}}(u),l=function(t){function e(r,o,a,u,l){return n(this,e),i(this,t.call(this,r,s(o,l||h.default.PRECISION_VERTEX),s(a,l||h.default.PRECISION_FRAGMENT),void 0,u))}return o(e,t),e}(a.GLShader);r.default=l},{"./settings":101,"pixi-gl-core":15}],45:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,r,n){var i=t&&t.forceCanvas;return void 0!==n&&(i=n),!i&&s.isWebGLSupported()?new l.default(t,e,r):new u.default(t,e,r)}r.__esModule=!0,r.autoDetectRenderer=i;var o=t("./utils"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=t("./renderers/canvas/CanvasRenderer"),u=n(a),h=t("./renderers/webgl/WebGLRenderer"),l=n(h)},{"./renderers/canvas/CanvasRenderer":77,"./renderers/webgl/WebGLRenderer":84,"./utils":125}],46:[function(t,e,r){"use strict";r.__esModule=!0;r.VERSION="4.8.6",r.PI_2=2*Math.PI,r.RAD_TO_DEG=180/Math.PI,r.DEG_TO_RAD=Math.PI/180,r.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},r.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},r.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},r.SCALE_MODES={LINEAR:0,NEAREST:1},r.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},r.GC_MODES={AUTO:0,MANUAL:1},r.URL_FILE_EXTENSION=/\\.(\\w{3,4})(?:$|\\?|#)/i,r.DATA_URI=/^\\s*data:(?:([\\w-]+)\\/([\\w+.-]+))?(?:;charset=([\\w-]+))?(?:;(base64))?,(.*)/i,r.SVG_SIZE=/<svg[^>]*(?:\\s(width|height)=(\'|")(\\d*(?:\\.\\d+)?)(?:px)?(\'|"))[^>]*(?:\\s(width|height)=(\'|")(\\d*(?:\\.\\d+)?)(?:px)?(\'|"))[^>]*>/i,r.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},r.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},r.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},r.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},r.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],47:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../math"),o=function(){function t(){n(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:(t=t||new i.Rectangle(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[2],s=t[3],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[4],s=t[5],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[6],s=t[7],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,h=o.d,l=o.tx,c=o.ty,d=this.minX,f=this.minY,p=this.maxX,v=this.maxY,g=s*e+u*r+l,y=a*e+h*r+c;d=g<d?g:d,f=y<f?y:f,p=g>p?g:p,v=y>v?y:v,g=s*n+u*r+l,y=a*n+h*r+c,d=g<d?g:d,f=y<f?y:f,p=g>p?g:p,v=y>v?y:v,g=s*e+u*i+l,y=a*e+h*i+c,d=g<d?g:d,f=y<f?y:f,p=g>p?g:p,v=y>v?y:v,g=s*n+u*i+l,y=a*n+h*i+c,d=g<d?g:d,f=y<f?y:f,p=g>p?g:p,v=y>v?y:v,this.minX=d,this.minY=f,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,r,n){for(var i=t.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=this.minX,d=this.minY,f=this.maxX,p=this.maxY,v=r;v<n;v+=2){var g=e[v],y=e[v+1],m=o*g+a*y+h,_=u*y+s*g+l;c=m<c?m:c,d=_<d?_:d,f=m>f?m:f,p=_>p?_:p}this.minX=c,this.minY=d,this.maxX=f,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t}();r.default=o},{"../math":70}],48:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../utils"),u=t("./DisplayObject"),h=function(t){return t&&t.__esModule?t:{default:t}}(u),l=function(t){function e(){n(this,e);var r=i(this,t.call(this));return r.children=[],r}return o(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);(0,a.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,a.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,a.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,n="number"==typeof e?e:this.children.length,i=n-r,o=void 0;if(i>0&&i<=n){o=this.children.splice(r,i);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},s(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(h.default);r.default=l,l.prototype.containerUpdateTransform=l.prototype.updateTransform},{"../utils":125,"./DisplayObject":49}],49:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("eventemitter3"),h=n(u),l=t("../const"),c=t("../settings"),d=n(c),f=t("./TransformStatic"),p=n(f),v=t("./Transform"),g=n(v),y=t("./Bounds"),m=n(y),_=t("../math"),b=function(t){function e(){i(this,e);var r=o(this,t.call(this)),n=d.default.TRANSFORM_MODE===l.TRANSFORM_MODE.STATIC?p.default:g.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new m.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return s(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new _.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new _.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},a(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(h.default);r.default=b,b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},{"../const":46,"../math":70,"../settings":101,"./Bounds":47,"./Transform":50,"./TransformStatic":52,eventemitter3:3}],50:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}\nfunction i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../math"),u=t("./TransformBase"),h=function(t){return t&&t.__esModule?t:{default:t}}(u),l=function(t){function e(){n(this,e);var r=i(this,t.call(this));return r.position=new a.Point(0,0),r.scale=new a.Point(1,1),r.skew=new a.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new a.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return o(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},s(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(h.default);r.default=l},{"../math":70,"./TransformBase":51}],51:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../math"),o=function(){function t(){n(this,t),this.worldTransform=new i.Matrix,this.localTransform=new i.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();r.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},{"../math":70}],52:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../math"),u=t("./TransformBase"),h=function(t){return t&&t.__esModule?t:{default:t}}(u),l=function(t){function e(){n(this,e);var r=i(this,t.call(this));return r.position=new a.ObservablePoint(r.onChange,r,0,0),r.scale=new a.ObservablePoint(r.onChange,r,1,1),r.pivot=new a.ObservablePoint(r.onChange,r,0,0),r.skew=new a.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return o(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},s(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}]),e}(h.default);r.default=l},{"../math":70,"./TransformBase":51}],53:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../display/Container"),u=n(a),h=t("../textures/RenderTexture"),l=n(h),c=t("../textures/Texture"),d=n(c),f=t("./GraphicsData"),p=n(f),v=t("../sprites/Sprite"),g=n(v),y=t("../math"),m=t("../utils"),_=t("../const"),b=t("../display/Bounds"),x=n(b),T=t("./utils/bezierCurveTo"),w=n(T),E=t("../renderers/canvas/CanvasRenderer"),S=n(E),O=void 0,M=new y.Matrix,P=new y.Point,C=new Float32Array(4),R=new Float32Array(4),A=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,e);var n=o(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.lineAlignment=.5,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=_.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new x.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n._prevRectTint=null,n._prevRectFillColor=null,n}return s(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,r,n,i,o){var s=t-2*r+i,a=e-2*n+o,u=2*r-2*t,h=2*n-2*e,l=4*(s*s+a*a),c=4*(s*u+a*h),d=u*u+h*h,f=2*Math.sqrt(l+c+d),p=Math.sqrt(l),v=2*l*p,g=2*Math.sqrt(d),y=c/p;return(v*f+p*c*(f-g)+(4*d*l-c*c)*Math.log((2*p+y+f)/(y+g)))/(4*v)},e.prototype._bezierCurveLength=function(t,e,r,n,i,o,s,a){for(var u=0,h=0,l=0,c=0,d=0,f=0,p=0,v=0,g=0,y=0,m=0,_=t,b=e,x=1;x<=10;++x)h=x/10,l=h*h,c=l*h,d=1-h,f=d*d,p=f*d,v=p*t+3*f*h*r+3*d*l*i+c*s,g=p*e+3*f*h*n+3*d*l*o+c*a,y=_-v,m=b-g,_=v,b=g,u+=Math.sqrt(y*y+m*m);return u},e.prototype._segmentsCount=function(t){var r=Math.ceil(t/e.CURVES.maxLength);return r<e.CURVES.minSegments?r=e.CURVES.minSegments:r>e.CURVES.maxSegments&&(r=e.CURVES.maxSegments),r},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.lineAlignment=n,this.currentPath)if(this.currentPath.shape.points.length){var i=new y.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var r=new y.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){var r=this.currentPath.shape.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||(r.push(t,e),this.dirty++),this},e.prototype.quadraticCurveTo=function(t,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,s=0,a=0;0===o.length&&this.moveTo(0,0);for(var u=o[o.length-2],h=o[o.length-1],l=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(u,h,t,r,n,i)):20,c=1;c<=l;++c){var d=c/l;s=u+(t-u)*d,a=h+(r-h)*d,o.push(s+(t+(n-t)*d-s)*d,a+(r+(i-r)*d-a)*d)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,r,n,i,o,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,u=a[a.length-2],h=a[a.length-1];a.length-=2;var l=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(u,h,t,r,n,i,o,s)):20;return(0,w.default)(u,h,t,r,n,i,o,s,l,a),this.dirty++,this},e.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],u=a-e,h=s-t,l=n-e,c=r-t,d=Math.abs(u*c-h*l);if(d<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=u*u+h*h,p=l*l+c*c,v=u*l+h*c,g=i*Math.sqrt(f)/d,y=i*Math.sqrt(p)/d,m=g*v/f,_=y*v/p,b=g*c+y*h,x=g*l+y*u,T=h*(y+m),w=u*(y+m),E=c*(g+_),S=l*(g+_),O=Math.atan2(w-x,T-b),M=Math.atan2(S-x,E-b);this.arc(b+t,x+e,i,O,M,h*l>c*u)}return this.dirty++,this},e.prototype.arc=function(t,r,n,i,o){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===o)return this;!s&&o<=i?o+=_.PI_2:s&&i<=o&&(i+=_.PI_2);var a=o-i,u=e.CURVES.adaptive?this._segmentsCount(Math.abs(a)*n):40*Math.ceil(Math.abs(a)/_.PI_2);if(0===a)return this;var h=t+Math.cos(i)*n,l=r+Math.sin(i)*n,c=this.currentPath?this.currentPath.shape.points:null;if(c){var d=Math.abs(c[c.length-2]-h),f=Math.abs(c[c.length-1]-l);d<.001&&f<.001||c.push(h,l)}else this.moveTo(h,l),c=this.currentPath.shape.points;for(var p=a/(2*u),v=2*p,g=Math.cos(p),y=Math.sin(p),m=u-1,b=m%1/m,x=0;x<=m;++x){var T=x+b*x,w=p+i+v*T,E=Math.cos(w),S=-Math.sin(w);c.push((g*E+y*S)*n+t,(g*-S+y*E)*n+r)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new y.Rectangle(t,e,r,n)),this},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new y.RoundedRectangle(t,e,r,n,i)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new y.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new y.Ellipse(t,e,r,n)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof y.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new y.Polygon(e);return i.closed=r,this.drawShape(i),this},e.prototype.drawStar=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||n/2;for(var s=-1*Math.PI/2+o,a=2*r,u=_.PI_2/a,h=[],l=0;l<a;l++){var c=l%2?i:n,d=l*u+s;h.push(t+c*Math.cos(d),e+c*Math.sin(d))}return this.drawPolygon(h)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===_.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new g.default(new d.default(d.default.WHITE)));var r=this._spriteRect,n=this.graphicsData[0].fillColor;if(16777215===this.tint)r.tint=n;else if(this.tint!==this._prevRectTint||n!==this._prevRectFillColor){var i=C,o=R;(0,m.hex2rgb)(n,i),(0,m.hex2rgb)(this.tint,o),i[0]*=o[0],i[1]*=o[1],i[2]*=o[2],r.tint=(0,m.rgb2hex)(i),this._prevRectTint=this.tint,this._prevRectFillColor=n}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,P);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&(n.shape&&n.shape.contains(P.x,P.y))){if(n.holes)for(var i=0;i<n.holes.length;i++){var o=n.holes[i];if(o.contains(P.x,P.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,s=0,a=0,u=0,h=0;h<this.graphicsData.length;h++){var l=this.graphicsData[h],c=l.type,d=l.lineWidth,f=l.lineAlignment,p=d*f;if(i=l.shape,c===_.SHAPES.RECT||c===_.SHAPES.RREC)o=i.x-p,s=i.y-p,a=i.width+2*p,u=i.height+2*p,t=o<t?o:t,e=o+a>e?o+a:e,r=s<r?s:r,n=s+u>n?s+u:n;else if(c===_.SHAPES.CIRC)o=i.x,s=i.y,a=i.radius+p,u=i.radius+p,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else if(c===_.SHAPES.ELIP)o=i.x,s=i.y,a=i.width+p,u=i.height+p,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else for(var v=i.points,g=0,y=0,m=0,b=0,x=0,T=0,w=0,E=0,S=0;S+2<v.length;S+=2)o=v[S],s=v[S+1],g=v[S+2],y=v[S+3],m=Math.abs(g-o),b=Math.abs(y-s),u=2*p,(a=Math.sqrt(m*m+b*b))<1e-9||(x=(u/a*b+m)/2,T=(u/a*m+b)/2,w=(g+o)/2,E=(y+s)/2,t=w-x<t?w-x:t,e=w+x>e?w+x:e,r=E-T<r?E-T:r,n=E+T>n?E+T:n)}else t=0,e=0,r=0,n=0;var O=this.boundsPadding;this._localBounds.minX=t-O,this._localBounds.maxX=e+O,this._localBounds.minY=r-O,this._localBounds.maxY=n+O},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new p.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===_.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=l.default.create(r.width,r.height,t,e);O||(O=new S.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(M),M.invert(),M.tx-=r.x,M.ty-=r.y,O.render(this,n,!0,M);var i=d.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t,"graphics");return i.baseTexture.resolution=e,i.baseTexture.update(),i},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webGL)for(var i=0;i<this._webGL[n].data.length;++i)this._webGL[n].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(u.default);r.default=A,A._SPRITE_TEXTURE=null,A.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},{"../const":46,"../display/Bounds":47,"../display/Container":48,"../math":70,"../renderers/canvas/CanvasRenderer":77,"../sprites/Sprite":102,"../textures/RenderTexture":113,"../textures/Texture":115,"../utils":125,"./GraphicsData":54,"./utils/bezierCurveTo":56}],54:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e,r,i,o,s,a,u,h,l){n(this,t),this.lineWidth=e,this.lineAlignment=l,this.nativeLines=u,this.lineColor=r,this.lineAlpha=i,this._lineTint=r,this.fillColor=o,this.fillAlpha=s,this._fillTint=o,this.fill=a,this.holes=[],this.shape=h,this.type=h.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();r.default=i},{}],55:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../renderers/canvas/CanvasRenderer"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../../const"),a=function(){function t(e){n(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],h=u.shape,l=u._fillTint,c=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===s.SHAPES.POLY){r.beginPath();var d=h.points,f=u.holes,p=void 0,v=void 0;r.moveTo(d[0],d[1]);for(var g=2;g<d.length;g+=2)r.lineTo(d[g],d[g+1]);if(h.closed&&r.closePath(),f.length>0){p=0;for(var y=0;y<d.length;y+=2)p+=d[y]*d[y+3]-d[y+1]*d[y+2];for(var m=0;m<f.length;m++){d=f[m].points,v=0;for(var _=0;_<d.length;_+=2)v+=d[_]*d[_+3]-d[_+1]*d[_+2];if(r.moveTo(d[0],d[1]),v*p<0)for(var b=2;b<d.length;b+=2)r.lineTo(d[b],d[b+1]);else for(var x=d.length-2;x>=2;x-=2)r.lineTo(d[x],d[x+1]);f[m].closed&&r.closePath()}}u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fillRect(h.x,h.y,h.width,h.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(h.x,h.y,h.width,h.height));else if(u.type===s.SHAPES.CIRC)r.beginPath(),r.arc(h.x,h.y,h.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(u.type===s.SHAPES.ELIP){var T=2*h.width,w=2*h.height,E=h.x-T/2,S=h.y-w/2;r.beginPath();var O=T/2*.5522848,M=w/2*.5522848,P=E+T,C=S+w,R=E+T/2,A=S+w/2;r.moveTo(E,A),r.bezierCurveTo(E,A-M,R-O,S,R,S),r.bezierCurveTo(R+O,S,P,A-M,P,A),r.bezierCurveTo(P,A+M,R+O,C,R,C),r.bezierCurveTo(R-O,C,E,A+M,E,A),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RREC){var I=h.x,D=h.y,L=h.width,N=h.height,B=h.radius,k=Math.min(L,N)/2|0;B=B>k?k:B,r.beginPath(),r.moveTo(I,D+B),r.lineTo(I,D+N-B),r.quadraticCurveTo(I,D+N,I+B,D+N),r.lineTo(I+L-B,D+N),r.quadraticCurveTo(I+L,D+N,I+L,D+N-B),r.lineTo(I+L,D+B),r.quadraticCurveTo(I+L,D,I+L-B,D),r.lineTo(I+B,D),r.quadraticCurveTo(I,D,I,D+B),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();r.default=a,o.default.registerPlugin("graphics",a)},{"../../const":46,"../../renderers/canvas/CanvasRenderer":77}],56:[function(t,e,r){"use strict";function n(t,e,r,n,i,o,s,a,u){var h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],l=0,c=0,d=0,f=0,p=0;h.push(t,e);for(var v=1,g=0;v<=u;++v)g=v/u,l=1-g,c=l*l,d=c*l,f=g*g,p=f*g,h.push(d*t+3*c*g*r+3*l*f*i+p*s,d*e+3*c*g*n+3*l*f*o+p*a);return h}r.__esModule=!0,r.default=n},{}],57:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../utils"),u=t("../../const"),h=t("../../renderers/webgl/utils/ObjectRenderer"),l=n(h),c=t("../../renderers/webgl/WebGLRenderer"),d=n(c),f=t("./WebGLGraphicsData"),p=n(f),v=t("./shaders/PrimitiveShader"),g=n(v),y=t("./utils/buildPoly"),m=n(y),_=t("./utils/buildRectangle"),b=n(_),x=t("./utils/buildRoundedRectangle"),T=n(x),w=t("./utils/buildCircle"),E=n(w),S=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return s(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new g.default(this.gl)},e.prototype.destroy=function(){l.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,n=void 0,i=t._webGL[this.CONTEXT_UID];i&&t.dirty===i.dirty||(this.updateGraphics(t),i=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;e.bindShader(o),e.state.setBlendMode(t.blendMode);for(var s=0,u=i.data.length;s<u;s++){n=i.data[s];var h=n.shader;e.bindShader(h),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.tint=(0,a.hex2rgb)(t.tint),h.uniforms.alpha=t.worldAlpha,e.bindVao(n.vao),n.nativeLines?r.drawArrays(r.LINES,0,n.points.length/6):n.vao.draw(r.TRIANGLE_STRIP,n.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var i=void 0,o=void 0,s=r.lastIndex;s<t.graphicsData.length;s++){var a=t.graphicsData[s];i=this.getWebGLData(r,0),a.nativeLines&&a.lineWidth&&(o=this.getWebGLData(r,0,!0),r.lastIndex++),a.type===u.SHAPES.POLY&&(0,m.default)(a,i,o),a.type===u.SHAPES.RECT?(0,b.default)(a,i,o):a.type===u.SHAPES.CIRC||a.type===u.SHAPES.ELIP?(0,E.default)(a,i,o):a.type===u.SHAPES.RREC&&(0,T.default)(a,i,o),r.lastIndex++}this.renderer.bindVao(null);for(var h=0;h<r.data.length;h++)i=r.data[h],i.dirty&&i.upload()},e.prototype.getWebGLData=function(t,e,r){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==r||n.points.length>32e4)&&(n=this.graphicsDataPool.pop()||new p.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),n.nativeLines=r,n.reset(e),t.data.push(n)),n.dirty=!0,n},e}(l.default);r.default=S,d.default.registerPlugin("graphics",S)},{"../../const":46,"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../utils":125,"./WebGLGraphicsData":58,"./shaders/PrimitiveShader":59,"./utils/buildCircle":60,"./utils/buildPoly":62,"./utils/buildRectangle":63,"./utils/buildRoundedRectangle":64}],58:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("pixi-gl-core"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(e,r,i){n(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new o.default.VertexArrayObject(e,i).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();r.default=s},{"pixi-gl-core":15}],59:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("../../../Shader"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(r){return n(this,e),i(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\\n")))}return o(e,t),e}(a.default);r.default=u},{"../../../Shader":44}],60:[function(t,e,r){"use strict";function n(t,e,r){var n=t.shape,i=n.x,u=n.y,h=void 0,l=void 0;if(t.type===s.SHAPES.CIRC?(h=n.radius,l=n.radius):(h=n.width,l=n.height),0!==h&&0!==l){var c=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),d=2*Math.PI/c;if(t.fill){var f=(0,a.hex2rgb)(t.fillColor),p=t.fillAlpha,v=f[0]*p,g=f[1]*p,y=f[2]*p,m=e.points,_=e.indices,b=m.length/6;_.push(b);for(var x=0;x<c+1;x++)m.push(i,u,v,g,y,p),m.push(i+Math.sin(d*x)*h,u+Math.cos(d*x)*l,v,g,y,p),_.push(b++,b++);_.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var w=0;w<c;w++)t.points.push(i+Math.sin(d*-w)*h,u+Math.cos(d*-w)*l);t.points.push(t.points[0],t.points[1]),(0,o.default)(t,e,r),t.points=T}}}r.__esModule=!0,r.default=n;var i=t("./buildLine"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../../../const"),a=t("../../../utils")},{"../../../const":46,"../../../utils":125,"./buildLine":61}],61:[function(t,e,r){"use strict";function n(t,e){var r=t.points;if(0!==r.length){var n=new o.Point(r[0],r[1]),i=new o.Point(r[r.length-2],r[r.length-1]);if(n.x===i.x&&n.y===i.y){r=r.slice(),r.pop(),r.pop(),i=new o.Point(r[r.length-2],r[r.length-1]);var a=i.x+.5*(n.x-i.x),u=i.y+.5*(n.y-i.y);r.unshift(a,u),r.push(a,u)}var h=e.points,l=e.indices,c=r.length/2,d=r.length,f=h.length/6,p=t.lineWidth/2,v=(0,s.hex2rgb)(t.lineColor),g=t.lineAlpha,y=v[0]*g,m=v[1]*g,_=v[2]*g,b=r[0],x=r[1],T=r[2],w=r[3],E=0,S=0,O=-(x-w),M=b-T,P=0,C=0,R=0,A=0,I=Math.sqrt(O*O+M*M);O/=I,M/=I,O*=p,M*=p;var D=t.lineAlignment,L=2*(1-D),N=2*D;h.push(b-O*L,x-M*L,y,m,_,g),h.push(b+O*N,x+M*N,y,m,_,g);for(var B=1;B<c-1;++B){b=r[2*(B-1)],x=r[2*(B-1)+1],T=r[2*B],w=r[2*B+1],E=r[2*(B+1)],S=r[2*(B+1)+1],O=-(x-w),M=b-T,I=Math.sqrt(O*O+M*M),O/=I,M/=I,O*=p,M*=p,P=-(w-S),C=T-E,I=Math.sqrt(P*P+C*C),P/=I,C/=I,P*=p,C*=p;var k=-M+x-(-M+w),F=-O+T-(-O+b),j=(-O+b)*(-M+w)-(-O+T)*(-M+x),U=-C+S-(-C+w),X=-P+T-(-P+E),G=(-P+E)*(-C+w)-(-P+T)*(-C+S),W=k*X-U*F;if(Math.abs(W)<.1)W+=10.1,h.push(T-O*L,w-M*L,y,m,_,g),h.push(T+O*N,w+M*N,y,m,_,g);else{var H=(F*G-X*j)/W,Y=(U*j-k*G)/W;(H-T)*(H-T)+(Y-w)*(Y-w)>196*p*p?(R=O-P,A=M-C,I=Math.sqrt(R*R+A*A),R/=I,A/=I,R*=p,A*=p,h.push(T-R*L,w-A*L),h.push(y,m,_,g),h.push(T+R*N,w+A*N),h.push(y,m,_,g),\nh.push(T-R*N*L,w-A*L),h.push(y,m,_,g),d++):(h.push(T+(H-T)*L,w+(Y-w)*L),h.push(y,m,_,g),h.push(T-(H-T)*N,w-(Y-w)*N),h.push(y,m,_,g))}}b=r[2*(c-2)],x=r[2*(c-2)+1],T=r[2*(c-1)],w=r[2*(c-1)+1],O=-(x-w),M=b-T,I=Math.sqrt(O*O+M*M),O/=I,M/=I,O*=p,M*=p,h.push(T-O*L,w-M*L),h.push(y,m,_,g),h.push(T+O*N,w+M*N),h.push(y,m,_,g),l.push(f);for(var V=0;V<d;++V)l.push(f++);l.push(f-1)}}function i(t,e){var r=0,n=t.points;if(0!==n.length){var i=e.points,o=n.length/2,a=(0,s.hex2rgb)(t.lineColor),u=t.lineAlpha,h=a[0]*u,l=a[1]*u,c=a[2]*u;for(r=1;r<o;r++){var d=n[2*(r-1)],f=n[2*(r-1)+1],p=n[2*r],v=n[2*r+1];i.push(d,f),i.push(h,l,c,u),i.push(p,v),i.push(h,l,c,u)}}}r.__esModule=!0,r.default=function(t,e,r){t.nativeLines?i(t,r):n(t,e)};var o=t("../../../math"),s=t("../../../utils")},{"../../../math":70,"../../../utils":125}],62:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,r){t.points=t.shape.points.slice();var n=t.points;if(t.fill&&n.length>=6){for(var i=[],o=t.holes,u=0;u<o.length;u++){var l=o[u];i.push(n.length/2),n=n.concat(l.points)}var c=e.points,d=e.indices,f=n.length/2,p=(0,a.hex2rgb)(t.fillColor),v=t.fillAlpha,g=p[0]*v,y=p[1]*v,m=p[2]*v,_=(0,h.default)(n,i,2);if(!_)return;for(var b=c.length/6,x=0;x<_.length;x+=3)d.push(_[x]+b),d.push(_[x]+b),d.push(_[x+1]+b),d.push(_[x+2]+b),d.push(_[x+2]+b);for(var T=0;T<f;T++)c.push(n[2*T],n[2*T+1],g,y,m,v)}t.lineWidth>0&&(0,s.default)(t,e,r)}r.__esModule=!0,r.default=i;var o=t("./buildLine"),s=n(o),a=t("../../../utils"),u=t("earcut"),h=n(u)},{"../../../utils":125,"./buildLine":61,earcut:2}],63:[function(t,e,r){"use strict";function n(t,e,r){var n=t.shape,i=n.x,a=n.y,u=n.width,h=n.height;if(t.fill){var l=(0,s.hex2rgb)(t.fillColor),c=t.fillAlpha,d=l[0]*c,f=l[1]*c,p=l[2]*c,v=e.points,g=e.indices,y=v.length/6;v.push(i,a),v.push(d,f,p,c),v.push(i+u,a),v.push(d,f,p,c),v.push(i,a+h),v.push(d,f,p,c),v.push(i+u,a+h),v.push(d,f,p,c),g.push(y,y,y+1,y+2,y+3,y+3)}if(t.lineWidth){var m=t.points;t.points=[i,a,i+u,a,i+u,a+h,i,a+h,i,a],(0,o.default)(t,e,r),t.points=m}}r.__esModule=!0,r.default=n;var i=t("./buildLine"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../../../utils")},{"../../../utils":125,"./buildLine":61}],64:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,r){var n=t.shape,i=n.x,o=n.y,a=n.width,h=n.height,d=n.radius,f=[];if(f.push(i+d,o),s(i+a-d,o,i+a,o,i+a,o+d,f),s(i+a,o+h-d,i+a,o+h,i+a-d,o+h,f),s(i+d,o+h,i,o+h,i,o+h-d,f),s(i,o+d,i,o,i+d+1e-10,o,f),t.fill){for(var p=(0,c.hex2rgb)(t.fillColor),v=t.fillAlpha,g=p[0]*v,y=p[1]*v,m=p[2]*v,_=e.points,b=e.indices,x=_.length/6,T=(0,u.default)(f,null,2),w=0,E=T.length;w<E;w+=3)b.push(T[w]+x),b.push(T[w]+x),b.push(T[w+1]+x),b.push(T[w+2]+x),b.push(T[w+2]+x);for(var S=0,O=f.length;S<O;S++)_.push(f[S],f[++S],g,y,m,v)}if(t.lineWidth){var M=t.points;t.points=f,(0,l.default)(t,e,r),t.points=M}}function o(t,e,r){return t+(e-t)*r}function s(t,e,r,n,i,s){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=a,h=0,l=0,c=0,d=0,f=0,p=0,v=0,g=0;v<=20;++v)g=v/20,h=o(t,r,g),l=o(e,n,g),c=o(r,i,g),d=o(n,s,g),f=o(h,c,g),p=o(l,d,g),u.push(f,p);return u}r.__esModule=!0,r.default=i;var a=t("earcut"),u=n(a),h=t("./buildLine"),l=n(h),c=t("../../../utils")},{"../../../utils":125,"./buildLine":61,earcut:2}],65:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.autoDetectRenderer=r.Application=r.Filter=r.SpriteMaskFilter=r.Quad=r.RenderTarget=r.ObjectRenderer=r.WebGLManager=r.Shader=r.CanvasRenderTarget=r.TextureUvs=r.VideoBaseTexture=r.BaseRenderTexture=r.RenderTexture=r.BaseTexture=r.TextureMatrix=r.Texture=r.Spritesheet=r.CanvasGraphicsRenderer=r.GraphicsRenderer=r.GraphicsData=r.Graphics=r.TextMetrics=r.TextStyle=r.Text=r.SpriteRenderer=r.CanvasTinter=r.CanvasSpriteRenderer=r.Sprite=r.TransformBase=r.TransformStatic=r.Transform=r.Container=r.DisplayObject=r.Bounds=r.glCore=r.WebGLRenderer=r.CanvasRenderer=r.ticker=r.utils=r.settings=void 0;var o=t("./const");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return o[t]}})});var s=t("./math");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return s[t]}})});var a=t("pixi-gl-core");Object.defineProperty(r,"glCore",{enumerable:!0,get:function(){return i(a).default}});var u=t("./display/Bounds");Object.defineProperty(r,"Bounds",{enumerable:!0,get:function(){return i(u).default}});var h=t("./display/DisplayObject");Object.defineProperty(r,"DisplayObject",{enumerable:!0,get:function(){return i(h).default}});var l=t("./display/Container");Object.defineProperty(r,"Container",{enumerable:!0,get:function(){return i(l).default}});var c=t("./display/Transform");Object.defineProperty(r,"Transform",{enumerable:!0,get:function(){return i(c).default}});var d=t("./display/TransformStatic");Object.defineProperty(r,"TransformStatic",{enumerable:!0,get:function(){return i(d).default}});var f=t("./display/TransformBase");Object.defineProperty(r,"TransformBase",{enumerable:!0,get:function(){return i(f).default}});var p=t("./sprites/Sprite");Object.defineProperty(r,"Sprite",{enumerable:!0,get:function(){return i(p).default}});var v=t("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(r,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return i(v).default}});var g=t("./sprites/canvas/CanvasTinter");Object.defineProperty(r,"CanvasTinter",{enumerable:!0,get:function(){return i(g).default}});var y=t("./sprites/webgl/SpriteRenderer");Object.defineProperty(r,"SpriteRenderer",{enumerable:!0,get:function(){return i(y).default}});var m=t("./text/Text");Object.defineProperty(r,"Text",{enumerable:!0,get:function(){return i(m).default}});var _=t("./text/TextStyle");Object.defineProperty(r,"TextStyle",{enumerable:!0,get:function(){return i(_).default}});var b=t("./text/TextMetrics");Object.defineProperty(r,"TextMetrics",{enumerable:!0,get:function(){return i(b).default}});var x=t("./graphics/Graphics");Object.defineProperty(r,"Graphics",{enumerable:!0,get:function(){return i(x).default}});var T=t("./graphics/GraphicsData");Object.defineProperty(r,"GraphicsData",{enumerable:!0,get:function(){return i(T).default}});var w=t("./graphics/webgl/GraphicsRenderer");Object.defineProperty(r,"GraphicsRenderer",{enumerable:!0,get:function(){return i(w).default}});var E=t("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(r,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return i(E).default}});var S=t("./textures/Spritesheet");Object.defineProperty(r,"Spritesheet",{enumerable:!0,get:function(){return i(S).default}});var O=t("./textures/Texture");Object.defineProperty(r,"Texture",{enumerable:!0,get:function(){return i(O).default}});var M=t("./textures/TextureMatrix");Object.defineProperty(r,"TextureMatrix",{enumerable:!0,get:function(){return i(M).default}});var P=t("./textures/BaseTexture");Object.defineProperty(r,"BaseTexture",{enumerable:!0,get:function(){return i(P).default}});var C=t("./textures/RenderTexture");Object.defineProperty(r,"RenderTexture",{enumerable:!0,get:function(){return i(C).default}});var R=t("./textures/BaseRenderTexture");Object.defineProperty(r,"BaseRenderTexture",{enumerable:!0,get:function(){return i(R).default}});var A=t("./textures/VideoBaseTexture");Object.defineProperty(r,"VideoBaseTexture",{enumerable:!0,get:function(){return i(A).default}});var I=t("./textures/TextureUvs");Object.defineProperty(r,"TextureUvs",{enumerable:!0,get:function(){return i(I).default}});var D=t("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(r,"CanvasRenderTarget",{enumerable:!0,get:function(){return i(D).default}});var L=t("./Shader");Object.defineProperty(r,"Shader",{enumerable:!0,get:function(){return i(L).default}});var N=t("./renderers/webgl/managers/WebGLManager");Object.defineProperty(r,"WebGLManager",{enumerable:!0,get:function(){return i(N).default}});var B=t("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(r,"ObjectRenderer",{enumerable:!0,get:function(){return i(B).default}});var k=t("./renderers/webgl/utils/RenderTarget");Object.defineProperty(r,"RenderTarget",{enumerable:!0,get:function(){return i(k).default}});var F=t("./renderers/webgl/utils/Quad");Object.defineProperty(r,"Quad",{enumerable:!0,get:function(){return i(F).default}});var j=t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(r,"SpriteMaskFilter",{enumerable:!0,get:function(){return i(j).default}});var U=t("./renderers/webgl/filters/Filter");Object.defineProperty(r,"Filter",{enumerable:!0,get:function(){return i(U).default}});var X=t("./Application");Object.defineProperty(r,"Application",{enumerable:!0,get:function(){return i(X).default}});var G=t("./autoDetectRenderer");Object.defineProperty(r,"autoDetectRenderer",{enumerable:!0,get:function(){return G.autoDetectRenderer}});var W=t("./utils"),H=n(W),Y=t("./ticker"),V=n(Y),z=t("./settings"),q=i(z),K=t("./renderers/canvas/CanvasRenderer"),Z=i(K),J=t("./renderers/webgl/WebGLRenderer"),Q=i(J);r.settings=q.default,r.utils=H,r.ticker=V,r.CanvasRenderer=Z.default,r.WebGLRenderer=Q.default},{"./Application":43,"./Shader":44,"./autoDetectRenderer":45,"./const":46,"./display/Bounds":47,"./display/Container":48,"./display/DisplayObject":49,"./display/Transform":50,"./display/TransformBase":51,"./display/TransformStatic":52,"./graphics/Graphics":53,"./graphics/GraphicsData":54,"./graphics/canvas/CanvasGraphicsRenderer":55,"./graphics/webgl/GraphicsRenderer":57,"./math":70,"./renderers/canvas/CanvasRenderer":77,"./renderers/canvas/utils/CanvasRenderTarget":79,"./renderers/webgl/WebGLRenderer":84,"./renderers/webgl/filters/Filter":86,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":89,"./renderers/webgl/managers/WebGLManager":93,"./renderers/webgl/utils/ObjectRenderer":94,"./renderers/webgl/utils/Quad":95,"./renderers/webgl/utils/RenderTarget":96,"./settings":101,"./sprites/Sprite":102,"./sprites/canvas/CanvasSpriteRenderer":103,"./sprites/canvas/CanvasTinter":104,"./sprites/webgl/SpriteRenderer":106,"./text/Text":108,"./text/TextMetrics":109,"./text/TextStyle":110,"./textures/BaseRenderTexture":111,"./textures/BaseTexture":112,"./textures/RenderTexture":113,"./textures/Spritesheet":114,"./textures/Texture":115,"./textures/TextureMatrix":116,"./textures/TextureUvs":117,"./textures/VideoBaseTexture":118,"./ticker":121,"./utils":125,"pixi-gl-core":15}],66:[function(t,e,r){"use strict";function n(t){return t<0?-1:t>0?1:0}r.__esModule=!0;var i=t("./Matrix"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[];!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var r=0;r<16;r++)for(var i=n(s[t]*s[r]+u[t]*a[r]),d=n(a[t]*s[r]+h[t]*a[r]),f=n(s[t]*u[r]+u[t]*h[r]),p=n(a[t]*u[r]+h[t]*h[r]),v=0;v<16;v++)if(s[v]===i&&a[v]===d&&u[v]===f&&h[v]===p){e.push(v);break}}for(var g=0;g<16;g++){var y=new o.default;y.set(s[g],a[g],u[g],h[g],0,0),l.push(y)}}();var d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return s[t]},uY:function(t){return a[t]},vX:function(t){return u[t]},vY:function(t){return h[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][d.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?d.S:d.N:2*Math.abs(e)<=Math.abs(t)?t>0?d.E:d.W:e>0?t>0?d.SE:d.SW:t>0?d.NE:d.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=l[d.inv(e)];i.tx=r,i.ty=n,t.append(i)}};r.default=d},{"./Matrix":67}],67:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("./Point"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=t("../const"),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n(this,t),this.a=e,this.b=r,this.c=i,this.d=o,this.tx=s,this.ty=a,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new s.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new s.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){return this.a=Math.cos(s+u)*i,this.b=Math.sin(s+u)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),s=Math.atan2(r,e),u=Math.abs(o+s);return u<1e-5||Math.abs(a.PI_2-u)<1e-5?(t.rotation=s,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();r.default=u},{"../const":46,"./Point":69}],68:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this._x=i,this._y=o,this.cb=e,this.scope=r}return t.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t(e||this.cb,r||this.scope,this._x,this._y)},t.prototype.set=function(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},i(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();r.default=o},{}],69:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(this,t),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();r.default=i},{}],70:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./Point");Object.defineProperty(r,"Point",{enumerable:!0,get:function(){return n(i).default}});var o=t("./ObservablePoint");Object.defineProperty(r,"ObservablePoint",{enumerable:!0,get:function(){return n(o).default}});var s=t("./Matrix");Object.defineProperty(r,"Matrix",{enumerable:!0,get:function(){return n(s).default}});var a=t("./GroupD8");Object.defineProperty(r,"GroupD8",{enumerable:!0,get:function(){return n(a).default}});var u=t("./shapes/Circle");Object.defineProperty(r,"Circle",{enumerable:!0,get:function(){return n(u).default}});var h=t("./shapes/Ellipse");Object.defineProperty(r,"Ellipse",{enumerable:!0,get:function(){return n(h).default}});var l=t("./shapes/Polygon");Object.defineProperty(r,"Polygon",{enumerable:!0,get:function(){return n(l).default}});var c=t("./shapes/Rectangle");Object.defineProperty(r,"Rectangle",{enumerable:!0,get:function(){return n(c).default}});var d=t("./shapes/RoundedRectangle");Object.defineProperty(r,"RoundedRectangle",{enumerable:!0,get:function(){return n(d).default}})},{"./GroupD8":66,"./Matrix":67,"./ObservablePoint":68,"./Point":69,"./shapes/Circle":71,"./shapes/Ellipse":72,"./shapes/Polygon":73,"./shapes/Rectangle":74,"./shapes/RoundedRectangle":75}],71:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("./Rectangle"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../../const"),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n(this,t),this.x=e,this.y=r,this.radius=i,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return n*=n,i*=i,n+i<=r},t.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();r.default=a},{"../../const":46,"./Rectangle":74}],72:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("./Rectangle"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../../const"),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this.x=e,this.y=r,this.width=i,this.height=o,this.type=s.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return r*=r,n*=n,r+n<=1},t.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();r.default=a},{"../../const":46,"./Rectangle":74}],73:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../Point"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../../const"),a=function(){function t(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];if(n(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var a=[],u=0,h=r.length;u<h;u++)a.push(r[u].x,r[u].y);r=a}this.closed=!0,this.points=r,this.type=s.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],h=this.points[2*o+1];a>e!=h>e&&t<(e-a)/(h-a)*(u-s)+s&&(r=!r)}return r},t}();r.default=a},{"../../const":46,"../Point":69}],74:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../../const"),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(i),this.height=Number(s),this.type=o.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(i-n,0)},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n},t.prototype.ceil=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,r=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=n-this.y},i(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();r.default=s},{"../../const":46}],75:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../const"),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;n(this,t),this.x=e,this.y=r,this.width=o,this.height=s,this.radius=a,this.type=i.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(n=e-(this.y+this.height-this.radius),r*r+n*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},t}();r.default=o},{"../../const":46}],76:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../utils"),h=t("../math"),l=t("../const"),c=t("../settings"),d=n(c),f=t("../display/Container"),p=n(f),v=t("../textures/RenderTexture"),g=n(v),y=t("eventemitter3"),m=n(y),_=new h.Matrix,b=function(t){function e(r,n,s,a){i(this,e);var c=o(this,t.call(this));return(0,u.sayHello)(r),"number"==typeof n&&(n=Object.assign({width:n,height:s||d.default.RENDER_OPTIONS.height},a)),n=Object.assign({},d.default.RENDER_OPTIONS,n),c.options=n,c.type=l.RENDERER_TYPE.UNKNOWN,c.screen=new h.Rectangle(0,0,n.width,n.height),c.view=n.view||document.createElement("canvas"),c.resolution=n.resolution||d.default.RESOLUTION,c.transparent=n.transparent,c.autoResize=n.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=n.preserveDrawingBuffer,c.clearBeforeRender=n.clearBeforeRender,c.roundPixels=n.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=n.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new p.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return s(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,n){n=n||t.getLocalBounds();var i=g.default.create(0|n.width,0|n.height,e,r);return _.tx=-n.x,_.ty=-n.y,this.render(t,i,!1,_,!!t.parent),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=l.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},a(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,u.hex2string)(t),(0,u.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(m.default);r.default=b},{"../const":46,"../display/Container":48,"../math":70,"../settings":101,"../textures/RenderTexture":113,"../utils":125,eventemitter3:3}],77:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../SystemRenderer"),u=n(a),h=t("./utils/CanvasMaskManager"),l=n(h),c=t("./utils/CanvasRenderTarget"),d=n(c),f=t("./utils/mapCanvasBlendModesToPixi"),p=n(f),v=t("../../utils"),g=t("../../const"),y=t("../../settings"),m=n(y),_=function(t){function e(r,n,s){i(this,e);var a=o(this,t.call(this,"Canvas",r,n,s));return a.type=g.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.context=a.rootContext,a.refresh=!0,a.maskManager=new l.default(a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,p.default)(),a._activeBlendMode=null,a.renderingToScreen=!1,a.resize(a.options.width,a.options.height),a}return s(e,t),e.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?(e=e.baseTexture||e,e._canvasRenderTarget||(e._canvasRenderTarget=new d.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var s=this.context;if(e||(this._lastObjectRendered=t),!i){var a=t.parent,u=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(u),this._tempDisplayObjectParent.transform._worldID=-1):u.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=a}s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=g.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[g.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle="black",s.clear()),\n(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var h=this.context;this.context=s,t.renderCanvas(this),this.context=h,s.restore(),this.resolution=o,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=m.default.SCALE_MODE===g.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(u.default);r.default=_,v.pluginTarget.mixin(_)},{"../../const":46,"../../settings":101,"../../utils":125,"../SystemRenderer":76,"./utils/CanvasMaskManager":78,"./utils/CanvasRenderTarget":79,"./utils/mapCanvasBlendModesToPixi":81}],78:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../../const"),o=function(){function t(e){n(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;n<r;n++){var o=t.graphicsData[n],s=o.shape;if(o.type===i.SHAPES.POLY){var a=s.points,u=o.holes,h=void 0,l=void 0;e.moveTo(a[0],a[1]);for(var c=2;c<a.length;c+=2)e.lineTo(a[c],a[c+1]);if(a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath(),u.length>0){h=0;for(var d=0;d<a.length;d+=2)h+=a[d]*a[d+3]-a[d+1]*a[d+2];for(var f=0;f<u.length;f++){a=u[f].points,l=0;for(var p=0;p<a.length;p+=2)l+=a[p]*a[p+3]-a[p+1]*a[p+2];if(e.moveTo(a[0],a[1]),l*h<0)for(var v=2;v<a.length;v+=2)e.lineTo(a[v],a[v+1]);else for(var g=a.length-2;g>=2;g-=2)e.lineTo(a[g],a[g+1])}}}else if(o.type===i.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===i.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===i.SHAPES.ELIP){var y=2*s.width,m=2*s.height,_=s.x-y/2,b=s.y-m/2,x=y/2*.5522848,T=m/2*.5522848,w=_+y,E=b+m,S=_+y/2,O=b+m/2;e.moveTo(_,O),e.bezierCurveTo(_,O-T,S-x,b,S,b),e.bezierCurveTo(S+x,b,w,O-T,w,O),e.bezierCurveTo(w,O+T,S+x,E,S,E),e.bezierCurveTo(S-x,E,_,O+T,_,O),e.closePath()}else if(o.type===i.SHAPES.RREC){var M=s.x,P=s.y,C=s.width,R=s.height,A=s.radius,I=Math.min(C,R)/2|0;A=A>I?I:A,e.moveTo(M,P+A),e.lineTo(M,P+R-A),e.quadraticCurveTo(M,P+R,M+A,P+R),e.lineTo(M+C-A,P+R),e.quadraticCurveTo(M+C,P+R,M+C,P+R-A),e.lineTo(M+C,P+A),e.quadraticCurveTo(M+C,P,M+C-A,P),e.lineTo(M+A,P),e.quadraticCurveTo(M,P,M,P+A),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();r.default=o},{"../../../const":46}],79:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../../../settings"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(){function t(e,r,i){n(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||s.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();r.default=a},{"../../../settings":101}],80:[function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}function i(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}r.__esModule=!0,r.default=i},{}],81:[function(t,e,r){"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,s.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over"),t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t}r.__esModule=!0,r.default=n;var i=t("../../../const"),o=t("./canUseNewCanvasBlendModes"),s=function(t){return t&&t.__esModule?t:{default:t}}(o)},{"../../../const":46,"./canUseNewCanvasBlendModes":80}],82:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../const"),o=t("../../settings"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(){function t(e){n(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&++this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();r.default=a},{"../../const":46,"../../settings":101}],83:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("pixi-gl-core"),o=t("../../const"),s=t("./utils/RenderTarget"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=t("../../utils"),h=function(){function t(e){n(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var s=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<s.length;++u)if(s[u]===t){e=u;break}}s[e]=t,r.activeTexture(r.TEXTURE0+e);var h=t._glTextures[this.renderer.CONTEXT_UID];if(h)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):h.upload(t.source);else{if(n){var l=new a.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,h=l.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else h=new i.GLTexture(this.gl,null,null,null,null),h.bind(e),h.premultiplyAlpha=!0,h.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=h,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&h.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?h.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?h.enableWrapRepeat():h.enableWrapMirrorRepeat()):h.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?h.enableNearestScaling():h.enableLinearScaling()}return h},t.prototype.destroyTexture=function(t,e){if(t=t.baseTexture||t,t.hasLoaded){var r=this.renderer,n=r.CONTEXT_UID,i=t._glTextures,o=t._glRenderTargets;if(i[n]&&(r.unbindTexture(t),i[n].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete i[n],!e)){var s=this._managedTextures.indexOf(t);-1!==s&&(0,u.removeItems)(this._managedTextures,s,1)}o&&o[n]&&(r._activeRenderTarget===o[n]&&r.bindRenderTarget(r.rootRenderTarget),o[n].destroy(),delete o[n])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();r.default=h},{"../../const":46,"../../utils":125,"./utils/RenderTarget":96,"pixi-gl-core":15}],84:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../SystemRenderer"),u=n(a),h=t("./managers/MaskManager"),l=n(h),c=t("./managers/StencilManager"),d=n(c),f=t("./managers/FilterManager"),p=n(f),v=t("./utils/RenderTarget"),g=n(v),y=t("./utils/ObjectRenderer"),m=n(y),_=t("./TextureManager"),b=n(_),x=t("../../textures/BaseTexture"),T=n(x),w=t("./TextureGarbageCollector"),E=n(w),S=t("./WebGLState"),O=n(S),M=t("./utils/mapWebGLDrawModesToPixi"),P=n(M),C=t("./utils/validateContext"),R=n(C),A=t("../../utils"),I=t("pixi-gl-core"),D=n(I),L=t("../../const"),N=0,B=function(t){function e(r,n,s){i(this,e);var a=o(this,t.call(this,"WebGL",r,n,s));return a.legacy=a.options.legacy,a.legacy&&(D.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=L.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new l.default(a),a.stencilManager=new d.default(a),a.emptyRenderer=new m.default(a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,R.default)(a.options.context),a.gl=a.options.context||D.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=N++,a.state=new O.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,P.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return s(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this._unknownBoundTextures=!1,this.textureManager=new b.default(this),this.filterManager=new p.default(this),this.textureGC=new E.default(this),this.state.resetToDefault(),this.rootRenderTarget=new g.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new D.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new T.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){u.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture,n=r._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),r=n._glRenderTargets[this.CONTEXT_UID],r.setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if(t=t||this.emptyTextures[e],t=t.baseTexture||t,t.touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;if(t=t.baseTexture||t,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===this.emptyTextures[r]&&(e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture))}for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===t&&(this.boundTextures[n]=this.emptyTextures[n],e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new D.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(u.default);r.default=B,A.pluginTarget.mixin(B)},{"../../const":46,"../../textures/BaseTexture":112,"../../utils":125,"../SystemRenderer":76,"./TextureGarbageCollector":82,"./TextureManager":83,"./WebGLState":85,"./managers/FilterManager":90,"./managers/MaskManager":91,"./managers/StencilManager":92,"./utils/ObjectRenderer":94,"./utils/RenderTarget":96,"./utils/mapWebGLDrawModesToPixi":99,"./utils/validateContext":100,"pixi-gl-core":15}],85:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("./utils/mapWebGLBlendModesToPixi"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(e){n(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();r.default=s},{"./utils/mapWebGLBlendModesToPixi":98}],86:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("./extractUniformsFromSrc"),a=n(s),u=t("../../../utils"),h=t("../../../const"),l=t("../../../settings"),c=n(l),d={},f=function(){function t(e,r,n){i(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=h.BLEND_MODES.NORMAL,this.uniformData=n||(0,a.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var o in this.uniformData)this.uniforms[o]=this.uniformData[o].value,this.uniformData[o].type&&(this.uniformData[o].type=this.uniformData[o].type.toLowerCase());this.glShaders={},d[this.vertexSrc+this.fragmentSrc]||(d[this.vertexSrc+this.fragmentSrc]=(0,u.uid)()),this.glShaderKey=d[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=c.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},o(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\\n")}}]),t}();r.default=f},{"../../../const":46,"../../../settings":101,"../../../utils":125,"./extractUniformsFromSrc":87}],87:[function(t,e,r){"use strict";function n(t,e,r){var n=i(t),o=i(e);return Object.assign(n,o)}function i(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\\s+/g," ").split(/\\s*;\\s*/),o=0;o<i.length;o++){var s=i[o].trim();if(s.indexOf("uniform")>-1){var u=s.split(" "),h=u[1],l=u[2],c=1;l.indexOf("[")>-1&&(n=l.split(/\\[|]/),l=n[0],c*=Number(n[1])),l.match(e)||(r[l]={value:a(h,c),name:l,type:h})}}return r}r.__esModule=!0,r.default=n;var o=t("pixi-gl-core"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=s.default.shader.defaultValue},{"pixi-gl-core":15}],88:[function(t,e,r){"use strict";function n(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n}function i(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n}function o(t,e,r,n){var i=n._texture.orig,o=t.set(r.width,0,0,r.height,e.x,e.y),a=n.worldTransform.copy(s.Matrix.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/i.width,1/i.height),o.translate(n.anchor.x,n.anchor.y),o}r.__esModule=!0,r.calculateScreenSpaceMatrix=n,r.calculateNormalizedScreenSpaceMatrix=i,r.calculateSpriteMatrix=o;var s=t("../../../math")},{"../../../math":70}],89:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../Filter"),u=n(a),h=t("../../../../math"),l=(t("path"),t("../../../../textures/TextureMatrix")),c=n(l),d=function(t){function e(r){i(this,e);var n=new h.Matrix,s=o(this,t.call(this,"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 otherMatrix;\\n\\nvarying vec2 vMaskCoord;\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = aTextureCoord;\\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\\n}\\n","varying vec2 vMaskCoord;\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform sampler2D mask;\\nuniform float alpha;\\nuniform vec4 maskClamp;\\n\\nvoid main(void)\\n{\\n    float clip = step(3.5,\\n        step(maskClamp.x, vMaskCoord.x) +\\n        step(maskClamp.y, vMaskCoord.y) +\\n        step(vMaskCoord.x, maskClamp.z) +\\n        step(vMaskCoord.y, maskClamp.w));\\n\\n    vec4 original = texture2D(uSampler, vTextureCoord);\\n    vec4 masky = texture2D(mask, vMaskCoord);\\n\\n    original *= (masky.r * masky.a * alpha * clip);\\n\\n    gl_FragColor = original;\\n}\\n"));return r.renderable=!1,s.maskSprite=r,s.maskMatrix=n,s}return s(e,t),e.prototype.apply=function(t,e,r,n){var i=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new c.default(o,0)),o.transform.update(),this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.transform.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,e,r,n))},e}(u.default);r.default=d},{"../../../../math":70,"../../../../textures/TextureMatrix":116,"../Filter":86,path:8}],90:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var a=t("./WebGLManager"),u=n(a),h=t("../utils/RenderTarget"),l=n(h),c=t("../utils/Quad"),d=n(c),f=t("../../../math"),p=t("../../../Shader"),v=n(p),g=t("../filters/filterTransforms"),y=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(g),m=t("bit-twiddle"),_=n(m),b=function(){function t(){s(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new f.Rectangle,this.destinationFrame=new f.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),x=function(t){function e(r){s(this,e);var n=i(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new d.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n.renderer.on("prerender",n.onPrerender,n),n._screenWidth=r.view.width,n._screenHeight=r.view.height,n}return o(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new b;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index],s=n.stack[0].destinationFrame;o||(o=n.stack[n.index]=new b);var a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===r.screen.width&&t.filterArea.height===r.screen.height,u=e[0].resolution,h=0|e[0].padding,l=a?r.screen:t.filterArea||t.getBounds(!0),c=o.sourceFrame,d=o.destinationFrame;c.x=(l.x*u|0)/u,c.y=(l.y*u|0)/u,c.width=(l.width*u|0)/u,c.height=(l.height*u|0)/u,a||(n.stack[0].renderTarget.transform||e[0].autoFit&&c.fit(s),c.pad(h)),d.width=c.width,d.height=c.height;var f=this.getPotRenderTarget(r.gl,c.width,c.height,u);o.target=t,o.filters=e,o.resolution=u,o.renderTarget=f,f.setFrame(d,c),r.bindRenderTarget(f),f.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,i,o,!0,r);var a=i;i=o,o=a}n[s].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}r.clear(),0===--t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,n){\nvar i=this.renderer,o=i.gl,s=t.glShaders[i.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new v.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s,this.managedFilters.push(t)):(s=t.glShaders[i.CONTEXT_UID]=new v.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s);var a=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=a,this.syncUniforms(s,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,n=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var u in r)if(t.uniforms.data[u]){var h=r[u].type;if("sampler2d"===h&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),n[u].texture.bind()}i++}else if("mat3"===h)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===h)if(void 0!==n[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=n[u].x,c[1]=n[u].y,t.uniforms[u]=c}else t.uniforms[u]=n[u];else"float"===h?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]}},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return y.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return y.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return y.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,r=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var n=0;n<r.length;n++)t||r[n].glShaders[e.CONTEXT_UID].destroy(),delete r[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,n){var i="screen";e*=n,r*=n,e===this._screenWidth&&r===this._screenHeight||(e=_.default.nextPow2(e),r=_.default.nextPow2(r),i=(65535&e)<<16|65535&r),this.pool[i]||(this.pool[i]=[]);var o=this.pool[i].pop();if(!o){var s=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new l.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=n,o.defaultFrame.width=o.size.width=e/n,o.defaultFrame.height=o.size.height=r/n,o.filterPoolKey=i,o},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(u.default);r.default=x},{"../../../Shader":44,"../../../math":70,"../filters/filterTransforms":88,"../utils/Quad":95,"../utils/RenderTarget":96,"./WebGLManager":93,"bit-twiddle":1}],91:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("./WebGLManager"),u=n(a),h=t("../filters/spriteMask/SpriteMaskFilter"),l=n(h),c=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return s(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);n=Math.round(n*(180/Math.PI)),n%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new l.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e;var n=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),t.filterArea=n,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(u.default);r.default=c},{"../filters/spriteMask/SpriteMaskFilter":89,"./WebGLManager":93}],92:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("./WebGLManager"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(r){n(this,e);var o=i(this,t.call(this,r));return o.stencilMaskStack=null,o}return o(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){a.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(a.default);r.default=u},{"./WebGLManager":93}],93:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();r.default=i},{}],94:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("../managers/WebGLManager"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(){return n(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(a.default);r.default=u},{"../managers/WebGLManager":93}],95:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("pixi-gl-core"),s=n(o),a=t("../../../utils/createIndicesForQuads"),u=n(a),h=function(){function t(e,r){i(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;n<4;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,u.default)(1),this.vertexBuffer=s.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new s.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();r.default=h},{"../../../utils/createIndicesForQuads":123,"pixi-gl-core":15}],96:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../../math"),o=t("../../../const"),s=t("../../../settings"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=t("pixi-gl-core"),h=function(){function t(e,r,s,h,l,c){n(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=l||a.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==h?h:a.default.SCALE_MODE,this.root=c||!1,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,s)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();r.default=h},{"../../../const":46,"../../../math":70,"../../../settings":101,"pixi-gl-core":15}],97:[function(t,e,r){"use strict";function n(t,e){var r=!e;if(r){var n=document.createElement("canvas");n.width=1,n.height=1,e=s.default.createContext(n)}for(var o=e.createShader(e.FRAGMENT_SHADER);;){var u=a.replace(/%forloop%/gi,i(t));if(e.shaderSource(o,u),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function i(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}r.__esModule=!0,r.default=n;var o=t("pixi-gl-core"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\\n")},{"pixi-gl-core":15}],98:[function(t,e,r){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[i.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[i.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e}r.__esModule=!0,r.default=n;var i=t("../../../const")},{"../../../const":46}],99:[function(t,e,r){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i.DRAW_MODES.POINTS]=t.POINTS,e[i.DRAW_MODES.LINES]=t.LINES,e[i.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[i.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[i.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[i.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[i.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e}r.__esModule=!0,r.default=n;var i=t("../../../const")},{"../../../const":46}],100:[function(t,e,r){"use strict";function n(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}r.__esModule=!0,r.default=n},{}],101:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./utils/maxRecommendedTextures"),o=n(i),s=t("./utils/canUploadSameBuffer"),a=n(s);r.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,o.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,a.default)(),MESH_CANVAS_PADDING:0}},{"./utils/canUploadSameBuffer":122,"./utils/maxRecommendedTextures":127}],102:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../math"),h=t("../utils"),l=t("../const"),c=t("../textures/Texture"),d=n(c),f=t("../display/Container"),p=n(f),v=new u.Point,g=function(t){function e(r){i(this,e);var n=o(this,t.call(this));return n._anchor=new u.ObservablePoint(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=l.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||d.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return s(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,h.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,h.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,h=t.trim,l=t.orig,c=this._anchor,d=0,f=0,p=0,v=0;h?(f=h.x-c._x*l.width,d=f+h.width,v=h.y-c._y*l.height,p=v+h.height):(f=-c._x*l.width,d=f+l.width,v=-c._y*l.height,p=v+l.height),u[0]=r*f+i*v+s,u[1]=o*v+n*f+a,u[2]=r*d+i*v+s,u[3]=o*v+n*d+a,u[4]=r*d+i*p+s,u[5]=o*p+n*d+a,u[6]=r*f+i*p+s,u[7]=o*p+n*f+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=-n._x*r.width,d=c+r.width,f=-n._y*r.height,p=f+r.height;e[0]=o*c+a*f+h,e[1]=u*f+s*c+l,e[2]=o*d+a*f+h,e[3]=u*f+s*d+l,e[4]=o*d+a*p+h,e[5]=u*p+s*d+l,e[6]=o*c+a*p+h,e[7]=u*p+s*c+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new u.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,v);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return v.x>=n&&v.x<n+e&&(i=-r*this.anchor.y,v.y>=i&&v.y<i+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t){return new e(d.default.from(t))},e.fromFrame=function(t){var r=h.TextureCache[t];if(!r)throw new Error(\'The frameId "\'+t+\'" does not exist in the texture cache\');return new e(r)},e.fromImage=function(t,r,n){return new e(d.default.fromImage(t,r,n))},a(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,h.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,h.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||d.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(p.default);r.default=g},{"../const":46,"../display/Container":48,"../math":70,"../textures/Texture":115,"../utils":125}],103:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../../renderers/canvas/CanvasRenderer"),s=n(o),a=t("../../const"),u=t("../../math"),h=t("./CanvasTinter"),l=n(h),c=new u.Matrix,d=function(){function t(e){i(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,i=e._frame.height,o=t.transform.worldTransform,s=0,h=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var d=e.baseTexture.scaleMode===a.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==d&&(r.context[r.smoothProperty]=d),e.trim?(s=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,h=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(s=(.5-t.anchor.x)*e.orig.width,h=(.5-t.anchor.y)*e.orig.height),e.rotate&&(o.copy(c),o=c,u.GroupD8.matrixAppendRotationInv(o,e.rotate,s,h),s=0,h=0),s-=n/2,h-=i/2,r.roundPixels?(r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution|0,o.ty*r.resolution|0),s|=0,h|=0):r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution,o.ty*r.resolution);var f=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=l.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n*f,i*f,s*r.resolution,h*r.resolution,n*r.resolution,i*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*f,e._frame.y*f,n*f,i*f,s*r.resolution,h*r.resolution,n*r.resolution,i*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();r.default=d,s.default.registerPlugin("sprite",d)},{"../../const":46,"../../math":70,"../../renderers/canvas/CanvasRenderer":77,"./CanvasTinter":104}],104:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../utils"),i=t("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s={getTintedTexture:function(t,e){var r=t._texture;e=s.roundColor(e);var n="#"+("00000"+(0|e).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var i=r.tintCache[n],o=void 0;if(i){if(i.tintId===r._updateID)return r.tintCache[n];o=r.tintCache[n]}else o=s.canvas||document.createElement("canvas");if(s.tintMethod(r,e,o),o.tintId=r._updateID,s.convertTintToImage){var a=new Image;a.src=o.toDataURL(),r.tintCache[n]=a}else r.tintCache[n]=o,s.canvas=null;return o},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:function(t,e,r){var i=r.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.restore();for(var a=(0,n.hex2rgb)(e),u=a[0],h=a[1],l=a[2],c=i.getImageData(0,0,o.width,o.height),d=c.data,f=0;f<d.length;f+=4)d[f+0]*=u,d[f+1]*=h,d[f+2]*=l;i.putImageData(c,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,r=(0,n.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,n.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,o.default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,r.default=s},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":80,"../../utils":125}],105:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();r.default=i},{}],106:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../renderers/webgl/utils/ObjectRenderer"),u=n(a),h=t("../../renderers/webgl/WebGLRenderer"),l=n(h),c=t("../../utils/createIndicesForQuads"),d=n(c),f=t("./generateMultiTextureShader"),p=n(f),v=t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),g=n(v),y=t("./BatchBuffer"),m=n(y),_=t("../../settings"),b=n(_),x=t("../../utils"),T=t("pixi-gl-core"),w=n(T),E=t("bit-twiddle"),S=n(E),O=0,M=0,P=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r))\n;n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=b.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var s=1;s<=S.default.nextPow2(n.size);s*=2)n.buffers.push(new m.default(4*s*n.vertByteSize));n.indices=(0,d.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var a=0;a<n.size;a++)n.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),b.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,g.default)(this.MAX_TEXTURES,t)),this.shader=(0,p.default)(t,this.MAX_TEXTURES),this.indexBuffer=w.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=w.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=S.default.nextPow2(this.currentIndex),n=S.default.log2(r),i=this.buffers[n],o=this.sprites,s=this.groups,a=i.float32View,u=i.uint32View,h=this.boundTextures,l=this.renderer.boundTextures,c=this.renderer.textureGC.count,d=0,f=void 0,p=void 0,v=1,g=0,y=s[0],m=void 0,_=void 0,T=x.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];y.textureCount=0,y.start=0,y.blend=T,O++;var E=void 0;for(E=0;E<e;++E){var P=l[E];P._enabled!==O?(h[E]=P,P._virtalBoundId=E,P._enabled=O):h[E]=this.renderer.emptyTextures[E]}for(O++,E=0;E<this.currentIndex;++E){var C=o[E];o[E]=null,f=C._texture.baseTexture;var R=x.premultiplyBlendMode[Number(f.premultipliedAlpha)][C.blendMode];if(T!==R&&(T=R,p=null,g=e,O++),p!==f&&(p=f,f._enabled!==O)){if(g===e&&(O++,y.size=E-y.start,g=0,y=s[v++],y.blend=T,y.textureCount=0,y.start=E),f.touched=c,-1===f._virtalBoundId)for(var A=0;A<e;++A){var I=(A+M)%e,D=h[I];if(D._enabled!==O){M++,D._virtalBoundId=-1,f._virtalBoundId=I,h[I]=f;break}}f._enabled=O,y.textureCount++,y.ids[g]=f._virtalBoundId,y.textures[g++]=f}if(m=C.vertexData,_=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var L=this.renderer.resolution;a[d]=(m[0]*L|0)/L,a[d+1]=(m[1]*L|0)/L,a[d+5]=(m[2]*L|0)/L,a[d+6]=(m[3]*L|0)/L,a[d+10]=(m[4]*L|0)/L,a[d+11]=(m[5]*L|0)/L,a[d+15]=(m[6]*L|0)/L,a[d+16]=(m[7]*L|0)/L}else a[d]=m[0],a[d+1]=m[1],a[d+5]=m[2],a[d+6]=m[3],a[d+10]=m[4],a[d+11]=m[5],a[d+15]=m[6],a[d+16]=m[7];u[d+2]=_[0],u[d+7]=_[1],u[d+12]=_[2],u[d+17]=_[3];var N=Math.min(C.worldAlpha,1),B=N<1&&f.premultipliedAlpha?(0,x.premultiplyTint)(C._tintRGB,N):C._tintRGB+(255*N<<24);u[d+3]=u[d+8]=u[d+13]=u[d+18]=B,a[d+4]=a[d+9]=a[d+14]=a[d+19]=f._virtalBoundId,d+=20}if(y.size=E-y.start,b.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var k=this.shader.attributes,F=this.vertexBuffers[this.vertexCount]=w.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),j=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F,k.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(F,k.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(F,k.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);k.aTextureId&&j.addAttribute(F,k.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=j}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(E=0;E<e;++E)l[E]._virtalBoundId=-1;for(E=0;E<v;++E){for(var U=s[E],X=U.textureCount,G=0;G<X;G++)p=U.textures[G],l[U.ids[G]]!==p&&this.renderer.bindTexture(p,U.ids[G],!0),p._virtalBoundId=-1;this.renderer.state.setBlendMode(U.blend),t.drawElements(t.TRIANGLES,6*U.size,t.UNSIGNED_SHORT,6*U.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),b.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(u.default);r.default=P,l.default.registerPlugin("sprite",P)},{"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":97,"../../settings":101,"../../utils":125,"../../utils/createIndicesForQuads":123,"./BatchBuffer":105,"./generateMultiTextureShader":107,"bit-twiddle":1,"pixi-gl-core":15}],107:[function(t,e,r){"use strict";function n(t,e){var r=a;r=r.replace(/%count%/gi,e),r=r.replace(/%forloop%/gi,i(e));for(var n=new s.default(t,"precision highp float;\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec4 aColor;\\nattribute float aTextureId;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec4 vColor;\\nvarying float vTextureId;\\n\\nvoid main(void){\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = aTextureCoord;\\n    vTextureId = aTextureId;\\n    vColor = aColor;\\n}\\n",r),o=[],u=0;u<e;u++)o[u]=u;return n.bind(),n.uniforms.uSamplers=o,n}function i(t){var e="";e+="\\n",e+="\\n";for(var r=0;r<t;r++)r>0&&(e+="\\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\\n{",e+="\\n\\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\\n}";return e+="\\n",e+="\\n"}r.__esModule=!0,r.default=n;var o=t("../../Shader"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=(t("path"),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\\n"))},{"../../Shader":44,path:8}],108:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../sprites/Sprite"),h=n(u),l=t("../textures/Texture"),c=n(l),d=t("../math"),f=t("../utils"),p=t("../const"),v=t("../settings"),g=n(v),y=t("./TextStyle"),m=n(y),_=t("./TextMetrics"),b=n(_),x=t("../utils/trimCanvas"),T=n(x),w={texture:!0,children:!1,baseTexture:!0},E=function(t){function e(r,n,s){i(this,e),s=s||document.createElement("canvas"),s.width=3,s.height=3;var a=c.default.fromCanvas(s,g.default.SCALE_MODE,"text");a.orig=new d.Rectangle,a.trim=new d.Rectangle;var u=o(this,t.call(this,a));return c.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=s,u.context=u.canvas.getContext("2d"),u.resolution=g.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=r,u.style=n,u.localStyleID=-1,u}return s(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r=this.context,n=b.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=n.width,o=n.height,s=n.lines,a=n.lineHeight,u=n.lineWidths,h=n.maxLineWidth,l=n.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=e.stroke,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;var c=void 0,d=void 0;if(e.dropShadow){r.fillStyle=e.dropShadowColor,r.globalAlpha=e.dropShadowAlpha,r.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(r.shadowColor=e.dropShadowColor);for(var f=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,p=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,v=0;v<s.length;v++)c=e.strokeThickness/2,d=e.strokeThickness/2+v*a+l.ascent,"right"===e.align?c+=h-u[v]:"center"===e.align&&(c+=(h-u[v])/2),e.fill&&(this.drawLetterSpacing(s[v],c+f+e.padding,d+p+e.padding),e.stroke&&e.strokeThickness&&(r.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(s[v],c+f+e.padding,d+p+e.padding,!0),r.strokeStyle=e.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(e,s);for(var g=0;g<s.length;g++)c=e.strokeThickness/2,d=e.strokeThickness/2+g*a+l.ascent,"right"===e.align?c+=h-u[g]:"center"===e.align&&(c+=(h-u[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[g],c+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(s[g],c+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style,o=i.letterSpacing;if(0===o)return void(n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r));for(var s=String.prototype.split.call(t,""),a=e,u=0,h="";u<t.length;)h=s[u++],n?this.context.strokeText(h,a,r):this.context.fillText(h,a,r),a+=this.context.measureText(h).width+o},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,T.default)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,r.trim.width=r._frame.width=t.width/this.resolution,r.trim.height=r._frame.height=t.height/this.resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,u=t.fill.slice(),h=t.fillGradientStops.slice();if(!h.length)for(var l=u.length+1,c=1;c<l;++c)h.push(c/l);if(u.unshift(t.fill[0]),h.unshift(0),u.push(t.fill[t.fill.length-1]),h.push(1),t.fillGradientType===p.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),n=(u.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var f=0;f<u.length;f++)o="number"==typeof h[f]?h[f]/e.length+d/e.length:i/n,r.addColorStop(o,u[f]),i++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),n=u.length+1,i=1;for(var v=0;v<u.length;v++)o="number"==typeof h[v]?h[v]:i/n,r.addColorStop(o,u[v]),i++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},w,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},a(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,f.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,f.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){t=t||{},t instanceof m.default?this._style=t:this._style=new m.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(h.default);r.default=E},{"../const":46,"../math":70,"../settings":101,"../sprites/Sprite":102,"../textures/Texture":115,"../utils":125,"../utils/trimCanvas":130,"./TextMetrics":109,"./TextStyle":110}],109:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e,r,i,o,s,a,u,h,l){n(this,t),this.text=e,this.style=r,this.width=i,this.height=o,this.lines=s,this.lineWidths=a,this.lineHeight=u,this.maxLineWidth=h,this.fontProperties=l}return t.measureText=function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;n=void 0===n||null===n?r.wordWrap:n;var o=r.toFontString(),s=t.measureFont(o),a=i.getContext("2d");a.font=o;for(var u=n?t.wordWrap(e,r,i):e,h=u.split(/(?:\\r\\n|\\r|\\n)/),l=new Array(h.length),c=0,d=0;d<h.length;d++){var f=a.measureText(h[d]).width+(h[d].length-1)*r.letterSpacing;l[d]=f,c=Math.max(c,f)}var p=c+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var v=r.lineHeight||s.fontSize+r.strokeThickness,g=Math.max(v,s.fontSize+r.strokeThickness)+(h.length-1)*(v+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new t(e,r,p,g,h,l,v+r.leading,c,s)},t.wordWrap=function(e,r){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas,i=n.getContext("2d"),o=0,s="",a="",u={},h=r.letterSpacing,l=r.whiteSpace,c=t.collapseSpaces(l),d=t.collapseNewlines(l),f=!c,p=r.wordWrapWidth+h,v=t.tokenize(e),g=0;g<v.length;g++){var y=v[g];if(t.isNewline(y)){if(!d){a+=t.addLine(s),f=!c,s="",o=0;continue}y=" "}if(c){var m=t.isBreakingSpace(y),_=t.isBreakingSpace(s[s.length-1]);if(m&&_)continue}var b=t.getFromCache(y,h,u,i);if(b>p)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(y,r.breakWords))for(var x=y.split(""),T=0;T<x.length;T++){for(var w=x[T],E=1;x[T+E];){var S=x[T+E],O=w[w.length-1];if(t.canBreakChars(O,S,y,T,r.breakWords))break;w+=S,E++}T+=w.length-1;var M=t.getFromCache(w,h,u,i);M+o>p&&(a+=t.addLine(s),f=!1,s="",o=0),s+=w,o+=M}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var P=g===v.length-1;a+=t.addLine(y,!P),f=!1,s="",o=0}else b+o>p&&(f=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(y)||f)&&(s+=y,o+=b)}return a+=t.addLine(s,!1)},t.addLine=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),e=r?e+"\\n":e},t.getFromCache=function(t,e,r,n){var i=r[t];if(void 0===i){var o=t.length*e;i=n.measureText(t).width+o,r[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if("string"!=typeof e)return r;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,n,i){return!0},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={},n=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(i.measureText(o).width),a=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*a;a=a*t.BASELINE_MULTIPLIER|0,n.width=s,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,s,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,a);var h=i.getImageData(0,0,s,u).data,l=h.length,c=4*s,d=0,f=0,p=!1;for(d=0;d<a;++d){for(var v=0;v<c;v+=4)if(255!==h[f+v]){p=!0;break}if(p)break;f+=c}for(r.ascent=a-d,f=l-c,p=!1,d=u;d>a;--d){for(var g=0;g<c;g+=4)if(255!==h[f+g]){p=!0;break}if(p)break;f-=c}return r.descent=d-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?delete t._fonts[e]:t._fonts={}},t}();r.default=i;var o=document.createElement("canvas");o.width=o.height=10,i._canvas=o,i._context=o.getContext("2d"),i._fonts={},i.METRICS_STRING="|q",i.BASELINE_SYMBOL="M",i.BASELINE_MULTIPLIER=1.4,i._newlines=[10,13],i._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},{}],110:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return"number"==typeof t?(0,l.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function o(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=i(t[e]);return t}return i(t)}function s(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function a(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}r.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),h=t("../const"),l=t("../utils"),c={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:h.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},d=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],f=function(){function t(e){n(this,t),this.styleID=0,this.reset(),a(this,e,e)}return t.prototype.clone=function(){var e={};return a(e,this,c),new t(e)},t.prototype.reset=function(){a(this,c,c)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();!/([\\"\\\'])[^\\\'\\"]+\\1/.test(n)&&d.indexOf(n)<0&&(n=\'"\'+n+\'"\'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},u(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=o(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=o(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){s(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=o(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();r.default=f},{"../const":46,"../utils":125}],111:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("./BaseTexture"),u=n(a),h=t("../settings"),l=n(h),c=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments[2],a=arguments[3];i(this,e);var u=o(this,t.call(this,null,s));return u.resolution=a||l.default.RESOLUTION,u.width=Math.ceil(r),u.height=Math.ceil(n),u.realWidth=u.width*u.resolution,u.realHeight=u.height*u.resolution,u.scaleMode=void 0!==s?s:l.default.SCALE_MODE,u.hasLoaded=!0,u._glRenderTargets={},u._canvasRenderTarget=null,u.valid=!1,u}return s(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(u.default);r.default=c},{"../settings":101,"./BaseTexture":112}],112:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../utils"),u=t("../settings"),h=n(u),l=t("eventemitter3"),c=n(l),d=t("../utils/determineCrossOrigin"),f=n(d),p=t("bit-twiddle"),v=n(p),g=function(t){function e(r,n,s){i(this,e);var u=o(this,t.call(this));return u.uid=(0,a.uid)(),u.touched=0,u.resolution=s||h.default.RESOLUTION,u.width=100,u.height=100,u.realWidth=100,u.realHeight=100,u.scaleMode=void 0!==n?n:h.default.SCALE_MODE,u.hasLoaded=!1,u.isLoading=!1,u.source=null,u.origSource=null,u.imageType=null,u.sourceScale=1,u.premultipliedAlpha=!0,u.imageUrl=null,u.isPowerOfTwo=!1,u.mipmap=h.default.MIPMAP_TEXTURES,u.wrapMode=h.default.WRAP_MODE,u._glTextures={},u._enabled=0,u._virtalBoundId=-1,u._destroyed=!1,u.textureCacheIds=[],r&&u.loadSource(r),u}return s(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=v.default.isPow2(this.realWidth)&&v.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var n=this;if(t.onload=function(){if(n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading){if(n.isLoading=!1,n._sourceLoaded(),"svg"===n.imageType)return void n._loadSvgSource();n.emit("loaded",n)}},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,a.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(e=(0,a.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(e=(0,a.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,a.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn\'t support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var r=(0,a.getSvgSize)(t),n=r.width,i=r.height;if(!n||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(n*this.sourceScale),this.realHeight=Math.round(i*this.sourceScale),this._updateDimensions();var o=document.createElement("canvas");o.width=this.realWidth,o.height=this.realHeight,o._pixiId="canvas_"+(0,a.uid)(),o.getContext("2d").drawImage(this.source,0,0,n,i,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=o,e.addToCache(this,o._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete a.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,n,i){var o=a.BaseTextureCache[t];if(!o){var s=new Image;void 0===r&&0!==t.indexOf("data:")?s.crossOrigin=(0,f.default)(t):r&&(s.crossOrigin="string"==typeof r?r:"anonymous"),o=new e(s,n),o.imageUrl=t,i&&(o.sourceScale=i),o.resolution=(0,a.getResolutionOfUrl)(t),s.src=t,e.addToCache(o,t)}return o},e.fromCanvas=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=n+"_"+(0,a.uid)());var i=a.BaseTextureCache[t._pixiId];return i||(i=new e(t,r),e.addToCache(i,t._pixiId)),i},e.from=function(t,r,n){if("string"==typeof t)return e.fromImage(t,void 0,r,n);if(t instanceof HTMLImageElement){var i=t.src,o=a.BaseTextureCache[i]\n;return o||(o=new e(t,r),o.imageUrl=i,n&&(o.sourceScale=n),o.resolution=(0,a.getResolutionOfUrl)(i),e.addToCache(o,i)),o}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=a.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete a.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete a.BaseTextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e}(c.default);r.default=g},{"../settings":101,"../utils":125,"../utils/determineCrossOrigin":124,"bit-twiddle":1,eventemitter3:3}],113:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("./BaseRenderTexture"),u=n(a),h=t("./Texture"),l=n(h),c=function(t){function e(r,n){i(this,e);var s=null;if(!(r instanceof u.default)){var a=arguments[1],h=arguments[2],l=arguments[3],c=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+h+") instead of the ctor directly."),s=arguments[0],n=null,r=new u.default(a,h,l,c)}var d=o(this,t.call(this,r,n));return d.legacyRenderer=s,d.valid=!0,d._updateUvs(),d}return s(e,t),e.prototype.resize=function(t,e,r){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,n,i){return new e(new u.default(t,r,n,i))},e}(l.default);r.default=c},{"./BaseRenderTexture":111,"./Texture":115}],114:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../"),s=t("../utils"),a=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n(this,t),this.baseTexture=e,this.textures={},this.animations={},this.data=r,this.resolution=this._updateResolution(i||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return i(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,s.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE,i=this.baseTexture.sourceScale;r-e<n&&r<this._frameKeys.length;){var s=this._frameKeys[r],a=this._frames[s],u=a.frame;if(u){var h=null,l=null,c=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,d=new o.Rectangle(0,0,Math.floor(c.w*i)/this.resolution,Math.floor(c.h*i)/this.resolution);h=a.rotated?new o.Rectangle(Math.floor(u.x*i)/this.resolution,Math.floor(u.y*i)/this.resolution,Math.floor(u.h*i)/this.resolution,Math.floor(u.w*i)/this.resolution):new o.Rectangle(Math.floor(u.x*i)/this.resolution,Math.floor(u.y*i)/this.resolution,Math.floor(u.w*i)/this.resolution,Math.floor(u.h*i)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(l=new o.Rectangle(Math.floor(a.spriteSourceSize.x*i)/this.resolution,Math.floor(a.spriteSourceSize.y*i)/this.resolution,Math.floor(u.w*i)/this.resolution,Math.floor(u.h*i)/this.resolution)),this.textures[s]=new o.Texture(this.baseTexture,h,d,l,a.rotated?2:0,a.anchor),o.Texture.addToCache(this.textures[s],s)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=t[e],n=Array.isArray(r),i=0,r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if(i=r.next(),i.done)break;o=i.value}var s=o;this.animations[e].push(this.textures[s])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();r.default=a},{"../":65,"../utils":125}],115:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}r.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),h=t("./BaseTexture"),l=n(h),c=t("./VideoBaseTexture"),d=n(c),f=t("./TextureUvs"),p=n(f),v=t("eventemitter3"),g=n(v),y=t("../math"),m=t("../utils"),_=t("../settings"),b=n(_),x=function(t){function e(r,n,s,a,u,h){i(this,e);var l=o(this,t.call(this));if(l.noFrame=!1,n||(l.noFrame=!0,n=new y.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),l.baseTexture=r,l._frame=n,l.trim=a,l.valid=!1,l.requiresUpdate=!1,l._uvs=null,l.orig=s||n,l._rotate=Number(u||0),!0===u)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(l.noFrame&&(n=new y.Rectangle(0,0,r.width,r.height),r.on("update",l.onBaseTextureUpdated,l)),l.frame=n):r.once("loaded",l.onBaseTextureLoaded,l),l.defaultAnchor=h?new y.Point(h.x,h.y):new y.Point(0,0),l._updateID=0,l.transform=null,l.textureCacheIds=[],l}return s(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new y.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(m.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new p.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,n,i){var o=m.TextureCache[t];return o||(o=new e(l.default.fromImage(t,r,n,i)),e.addToCache(o,t)),o},e.fromFrame=function(t){var e=m.TextureCache[t];if(!e)throw new Error(\'The frameId "\'+t+\'" does not exist in the texture cache\');return e},e.fromCanvas=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(l.default.fromCanvas(t,r,n))},e.fromVideo=function(t,r,n,i){return"string"==typeof t?e.fromVideoUrl(t,r,n,i):new e(d.default.fromVideo(t,r,i))},e.fromVideoUrl=function(t,r,n,i){return new e(d.default.fromUrl(t,r,n,i))},e.from=function(t){if("string"==typeof t){var r=m.TextureCache[t];if(!r){return null!==t.match(/\\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t)}return r}return t instanceof HTMLImageElement?new e(l.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,b.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof l.default?new e(t):t},e.fromLoader=function(t,r,n){var i=new l.default(t,void 0,(0,m.getResolutionOfUrl)(r)),o=new e(i);return i.imageUrl=r,n||(n=r),l.default.addToCache(o.baseTexture,n),e.addToCache(o,n),n!==r&&(l.default.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),m.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=m.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete m.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)m.TextureCache[t.textureCacheIds[n]]===t&&delete m.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},u(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,h="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+h)}this.valid=n&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(g.default);r.default=x,x.EMPTY=new x(new l.default),a(x.EMPTY),a(x.EMPTY.baseTexture),x.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new x(new l.default(t))}(),a(x.WHITE),a(x.WHITE.baseTexture)},{"../math":70,"../settings":101,"../utils":125,"./BaseTexture":112,"./TextureUvs":117,"./VideoBaseTexture":118,eventemitter3:3}],116:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../math/Matrix"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=new s.default,u=function(){function t(e,r){n(this,t),this._texture=e,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(a.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(a));var o=e.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+u+h)/o.width,s[1]=(e._frame.y+u+h)/o.height,s[2]=(e._frame.x+e._frame.width-u+h)/o.width,s[3]=(e._frame.y+e._frame.height-u+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,!0},i(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();r.default=u},{"../math/Matrix":67}],117:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../math/GroupD8"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(){n(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var s=t.width/2/n,a=t.height/2/i,u=t.x/n+s,h=t.y/i+a;r=o.default.add(r,o.default.NW),this.x0=u+s*o.default.uX(r),this.y0=h+a*o.default.uY(r),r=o.default.add(r,2),this.x1=u+s*o.default.uX(r),this.y1=h+a*o.default.uY(r),r=o.default.add(r,2),this.x2=u+s*o.default.uX(r),this.y2=h+a*o.default.uY(r),r=o.default.add(r,2),this.x3=u+s*o.default.uX(r),this.y3=h+a*o.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},t}();r.default=s},{"../math/GroupD8":66}],118:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!e){var r=t.split("?").shift().toLowerCase();e="video/"+r.substr(r.lastIndexOf(".")+1)}var n=document.createElement("source");return n.src=t,n.type=e,n}r.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),h=t("./BaseTexture"),l=n(h),c=t("../utils"),d=t("../ticker"),f=t("../const"),p=t("../utils/determineCrossOrigin"),v=n(p),g=function(t){function e(r,n){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(i(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var a=o(this,t.call(this,r,n));return a.width=r.videoWidth,a.height=r.videoHeight,a._autoUpdate=!0,a._isAutoUpdating=!1,a.autoPlay=s,a.update=a.update.bind(a),a._onCanPlay=a._onCanPlay.bind(a),r.addEventListener("play",a._onPlayStart.bind(a)),r.addEventListener("pause",a._onPlayStop.bind(a)),a.hasLoaded=!1,a.__loaded=!1,a._isSourceReady()?a._onCanPlay():(r.addEventListener("canplay",a._onCanPlay),r.addEventListener("canplaythrough",a._onCanPlay)),a}return s(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(d.shared.add(this.update,this,f.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(d.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&d.shared.remove(this.update,this),this.source&&this.source._pixiId&&(l.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,r,n){t._pixiId||(t._pixiId="video_"+(0,c.uid)());var i=c.BaseTextureCache[t._pixiId];return i||(i=new e(t,r,n),l.default.addToCache(i,t._pixiId)),i},e.fromUrl=function(t,r,n,i){var o=document.createElement("video");o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline","");var s=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===n&&0!==s.indexOf("data:")?o.crossOrigin=(0,v.default)(s):n&&(o.crossOrigin="string"==typeof n?n:"anonymous"),Array.isArray(t))for(var u=0;u<t.length;++u)o.appendChild(a(t[u].src||t[u],t[u].mime));else o.appendChild(a(s,t.mime));return o.load(),e.fromVideo(o,r,i)},u(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(d.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(d.shared.add(this.update,this,f.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(l.default);r.default=g,g.fromUrls=g.fromUrl},{"../const":46,"../ticker":121,"../utils":125,"../utils/determineCrossOrigin":124,"./BaseTexture":112}],119:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("../settings"),a=n(s),u=t("../const"),h=t("./TickerListener"),l=n(h),c=function(){function t(){var e=this;i(this,t),this._head=new l.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/a.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.UPDATE_PRIORITY.NORMAL;return this._addListener(new l.default(t,e,r))},t.prototype.addOnce=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.UPDATE_PRIORITY.NORMAL;return this._addListener(new l.default(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*a.default.TARGET_FPMS*this.speed;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},o(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,a.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();r.default=c},{"../const":46,"../settings":101,"./TickerListener":120}],120:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,t),this.fn=e,this.context=r,this.priority=i,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}();r.default=i},{}],121:[function(t,e,r){"use strict";r.__esModule=!0,r.Ticker=r.shared=void 0;var n=t("./Ticker"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=new i.default;o.autoStart=!0,o.destroy=function(){},r.shared=o,r.Ticker=i.default},{"./Ticker":119}],122:[function(t,e,r){"use strict";function n(){return!(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}r.__esModule=!0,r.default=n},{}],123:[function(t,e,r){"use strict";function n(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}r.__esModule=!0,r.default=n},{}],124:[function(t,e,r){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a")),s.href=t,t=o.default.parse(s.href);var r=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"}r.__esModule=!0,r.default=n;var i=t("url"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=void 0},{url:38}],125:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(){return++U}function s(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function a(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function u(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function h(t,e){var r=S.default.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}function l(t){var e=w.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function c(t){var e=w.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()}function d(t){var e=w.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}function f(){X=!0}function p(t){if(!X){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\\n %c %c %c PixiJS "+w.VERSION+" -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \\n\\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+w.VERSION+" - "+t+" - http://www.pixijs.com/");X=!0}}function v(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}}function g(t){return 0===t?0:t<0?-1:1}function y(){var t=void 0;for(t in G)G[t].destroy();for(t in W)W[t].destroy()}function m(){var t=void 0;for(t in G)delete G[t];for(t in W)delete W[t]}function _(t,e){return H[e?1:0][t]}function b(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(255*e<<24)+(r<<16)+(n<<8)+i}function x(t,e,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function T(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}r.__esModule=!0,r.premultiplyBlendMode=r.BaseTextureCache=r.TextureCache=r.earcut=r.mixins=r.pluginTarget=r.EventEmitter=r.removeItems=r.isMobile=void 0,r.uid=o,r.hex2rgb=s,r.hex2string=a,r.rgb2hex=u,r.getResolutionOfUrl=h,r.decomposeDataUri=l,r.getUrlFileExtension=c,r.getSvgSize=d,r.skipHello=f,r.sayHello=p,r.isWebGLSupported=v,r.sign=g,r.destroyTextureCache=y,r.clearTextureCache=m,r.correctBlendMode=_,r.premultiplyTint=b,r.premultiplyRgba=x,r.premultiplyTintToRgba=T;var w=t("../const"),E=t("../settings"),S=i(E),O=t("eventemitter3"),M=i(O),P=t("./pluginTarget"),C=i(P),R=t("./mixin"),A=n(R),I=t("ismobilejs"),D=n(I),L=t("remove-array-items"),N=i(L),B=t("./mapPremultipliedBlendModes"),k=i(B),F=t("earcut"),j=i(F),U=0,X=!1;r.isMobile=D,r.removeItems=N.default,r.EventEmitter=M.default,r.pluginTarget=C.default,r.mixins=A,r.earcut=j.default;var G=r.TextureCache=Object.create(null),W=r.BaseTextureCache=Object.create(null),H=r.premultiplyBlendMode=(0,k.default)()},{"../const":46,"../settings":101,"./mapPremultipliedBlendModes":126,"./mixin":128,"./pluginTarget":129,earcut:2,eventemitter3:3,ismobilejs:4,"remove-array-items":31}],126:[function(t,e,r){"use strict";function n(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[i.BLEND_MODES.NORMAL_NPM]=i.BLEND_MODES.NORMAL,t[i.BLEND_MODES.ADD_NPM]=i.BLEND_MODES.ADD,t[i.BLEND_MODES.SCREEN_NPM]=i.BLEND_MODES.SCREEN,e[i.BLEND_MODES.NORMAL]=i.BLEND_MODES.NORMAL_NPM,e[i.BLEND_MODES.ADD]=i.BLEND_MODES.ADD_NPM,e[i.BLEND_MODES.SCREEN]=i.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}r.__esModule=!0,r.default=n;var i=t("../const")},{"../const":46}],127:[function(t,e,r){"use strict";function n(t){return o.default.tablet||o.default.phone?4:t}r.__esModule=!0,r.default=n;var i=t("ismobilejs"),o=function(t){return t&&t.__esModule?t:{default:t}}(i)},{ismobilejs:4}],128:[function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}function i(t,e){s.push(t,e)}function o(){for(var t=0;t<s.length;t+=2)n(s[t],s[t+1]);s.length=0}r.__esModule=!0,r.mixin=n,r.delayMixin=i,r.performMixins=o;var s=[]},{}],129:[function(t,e,r){"use strict";function n(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}r.__esModule=!0,r.default={mixin:function(t){n(t)}}},{}],130:[function(t,e,r){"use strict";function n(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),o=i.data,s=o.length,a={top:null,left:null,right:null,bottom:null},u=null,h=void 0,l=void 0,c=void 0;for(h=0;h<s;h+=4)0!==o[h+3]&&(l=h/4%e,c=~~(h/4/e),null===a.top&&(a.top=c),null===a.left?a.left=l:l<a.left&&(a.left=l),null===a.right?a.right=l+1:a.right<l&&(a.right=l+1),null===a.bottom?a.bottom=c:a.bottom<c&&(a.bottom=c));return null!==a.top&&(e=a.right-a.left,r=a.bottom-a.top+1,u=n.getImageData(a.left,a.top,e,r)),{height:r,width:e,data:u}}r.__esModule=!0,r.default=n},{}],131:[function(t,e,r){"use strict";function n(t){if(!o[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\\n").splice(3).join("\\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),o[t]=!0}}function i(t){var e=t.mesh,r=t.particles,i=t.extras,o=t.filters,s=t.prepare,a=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return n("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function(){\nreturn n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),i.AnimatedSprite}},TilingSprite:{get:function(){return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),i.TilingSprite}},BitmapText:{get:function(){return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),i.BitmapText}},blendModes:{get:function(){return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return n("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var h=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=0;l<h.length;l++)!function(e){var r=h[e];Object.defineProperty(t[r.parent],"DEFAULT",{get:function(){return n("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]},set:function(e){n("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]=e}})}(l);Object.defineProperties(t.settings,{PRECISION:{get:function(){return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),i.AnimatedSprite&&Object.defineProperties(i,{MovieClip:{get:function(){return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),i.AnimatedSprite}}}),i&&Object.defineProperties(i,{TextureTransform:{get:function(){return n("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}}),t.DisplayObject.prototype.generateTexture=function(t,e,r){return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},t.Graphics.prototype.generateTexture=function(t,e){return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return n("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,r,i){this.legacyRenderer.render(t,this,r,e,!i),n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},i.BitmapText&&(i.BitmapText.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = \'my text\';")}),t.Text.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myText.text = \'my text\';")},t.Text.calculateFontProperties=function(e){return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return n("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return n("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return n("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),e=e||{},e instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){n("text style property \'font\' is now deprecated, please use the \'fontFamily\', \'fontSize\', \'fontStyle\', \'fontVariant\' and \'fontWeight\' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){n("text style property \'font\' is now deprecated, please use the \'fontFamily\',\'fontSize\',fontStyle\',\'fontVariant\' and \'fontWeight\' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var i=0;i<e.length;++i)if(e[i].match(/(px|pt|em|%)/)){r=i,this._fontSize=e[i];break}this._fontWeight="normal";for(var o=0;o<r;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var s=r+1;s<e.length;++s)this._fontFamily+=e[s]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,r){t.Texture.addToCache(e,r),n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return n("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return n("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var c=!0;if(Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),c=t},get:function(){return c}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(t,e){return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this}),s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),a.Loader){var d=a.Resource,f=a.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===d.TYPE.JSON}},isXml:{get:function(){return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===d.TYPE.XML}},isImage:{get:function(){return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(f.prototype,{before:{get:function(){return n("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return n("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){n("Property defaultCursor has been replaced with \'cursor\'. "),this.cursor=t},get:function(){return n("Property defaultCursor has been replaced with \'cursor\'. "),this.cursor}}),u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){n("Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. "),this.cursorStyles.default=t},get:function(){return n("Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}r.__esModule=!0,r.default=i;var o={}},{}],132:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=new o.Rectangle,a=function(){function t(e){n(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,a=void 0;t&&(a=t instanceof o.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,n=a.baseTexture._canvasRenderTarget.resolution,i=a.frame):(r=e.rootContext,n=e.resolution,i=s,i.width=this.renderer.width,i.height=this.renderer.height);var u=i.width*n,h=i.height*n,l=new o.CanvasRenderTarget(u,h,1),c=r.getImageData(i.x*n,i.y*n,u,h);return l.context.putImageData(c,0,0),l.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,a=void 0;return t&&(a=t instanceof o.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,n=a.baseTexture._canvasRenderTarget.resolution,i=a.frame):(r=e.rootContext,i=s,i.width=e.width,i.height=e.height),r.getImageData(0,0,i.width*n,i.height*n).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();r.default=a,o.CanvasRenderer.registerPlugin("extract",a)},{"../../core":65}],133:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./webgl/WebGLExtract");Object.defineProperty(r,"webgl",{enumerable:!0,get:function(){return n(i).default}});var o=t("./canvas/CanvasExtract");Object.defineProperty(r,"canvas",{enumerable:!0,get:function(){return n(o).default}})},{"./canvas/CanvasExtract":132,"./webgl/WebGLExtract":134}],134:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=new o.Rectangle,a=function(){function t(e){n(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,a=!1,u=void 0,h=!1;t&&(t instanceof o.RenderTexture?u=t:(u=this.renderer.generateTexture(t),h=!0)),u?(r=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,i=u.frame,a=!1):(r=this.renderer.rootRenderTarget,n=r.resolution,a=!0,i=s,i.width=r.size.width,i.height=r.size.height);var l=i.width*n,c=i.height*n,d=new o.CanvasRenderTarget(l,c,1);if(r){e.bindRenderTarget(r);var f=new Uint8Array(4*l*c),p=e.gl;p.readPixels(i.x*n,i.y*n,l,c,p.RGBA,p.UNSIGNED_BYTE,f);var v=d.context.getImageData(0,0,l,c);v.data.set(f),d.context.putImageData(v,0,0),a&&(d.context.scale(1,-1),d.context.drawImage(d.canvas,0,-c))}return h&&u.destroy(!0),d.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,a=void 0,u=!1;t&&(t instanceof o.RenderTexture?a=t:(a=this.renderer.generateTexture(t),u=!0)),a?(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,i=a.frame):(r=this.renderer.rootRenderTarget,n=r.resolution,i=s,i.width=r.size.width,i.height=r.size.height);var h=i.width*n,l=i.height*n,c=new Uint8Array(4*h*l);if(r){e.bindRenderTarget(r);var d=e.gl;d.readPixels(i.x*n,i.y*n,h,l,d.RGBA,d.UNSIGNED_BYTE,c)}return u&&a.destroy(!0),c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();r.default=a,o.WebGLRenderer.registerPlugin("extract",a)},{"../../core":65}],135:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=function(t){function e(r,o){n(this,e);var s=i(this,t.call(this,r[0]instanceof u.Texture?r[0]:r[0].texture));return s._textures=null,s._durations=null,s.textures=r,s._autoUpdate=!1!==o,s.animationSpeed=1,s.loop=!0,s.updateAnchor=!1,s.onComplete=null,s.onFrameChange=null,s.onLoop=null,s._currentTime=0,s.playing=!1,s}return o(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&u.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&u.ticker.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(u.Texture.fromFrame(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(u.Texture.fromImage(t[n]));return new e(r)},s(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof u.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(u.Sprite);r.default=h},{"../core":65}],136:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../core"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),l=t("../core/math/ObservablePoint"),c=n(l),d=t("../core/utils"),f=t("../core/settings"),p=n(f),v=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e);var s=o(this,t.call(this));return s._textWidth=0,s._textHeight=0,s._glyphs=[],s._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},s.font=n.font,s._text=r,s._maxWidth=0,s._maxLineHeight=0,s._letterSpacing=0,s._anchor=new c.default(function(){s.dirty=!0},s,0,0),s.dirty=!1,s.updateText(),s}return s(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,n=new h.Point,i=[],o=[],s=this.text.replace(/(?:\\r\\n|\\r)/g,"\\n"),a=s.length,u=this._maxWidth*t.size/this._font.size,l=null,c=0,d=0,f=0,p=-1,v=0,g=0,y=0,m=0;m<a;m++){var _=s.charCodeAt(m),b=s.charAt(m);if(/(?:\\s)/.test(b)&&(p=m,v=c),"\\r"!==b&&"\\n"!==b){var x=t.chars[_];x&&(l&&x.kerning[l]&&(n.x+=x.kerning[l]),i.push({texture:x.texture,line:f,charCode:_,position:new h.Point(n.x+x.xOffset+this._letterSpacing/2,n.y+x.yOffset)}),n.x+=x.xAdvance+this._letterSpacing,c=n.x,y=Math.max(y,x.yOffset+x.texture.height),l=_,-1!==p&&u>0&&n.x>u&&(++g,h.utils.removeItems(i,1+p-g,1+m-p),m=p,p=-1,o.push(v),d=Math.max(d,v),f++,n.x=0,n.y+=t.lineHeight,l=null))}else o.push(c),d=Math.max(d,c),++f,++g,n.x=0,n.y+=t.lineHeight,l=null}var T=s.charAt(s.length-1);"\\r"!==T&&"\\n"!==T&&(/(?:\\s)/.test(T)&&(c=v),o.push(c),d=Math.max(d,c));for(var w=[],E=0;E<=f;E++){var S=0;"right"===this._font.align?S=d-o[E]:"center"===this._font.align&&(S=(d-o[E])/2),w.push(S)}for(var O=i.length,M=this.tint,P=0;P<O;P++){var C=this._glyphs[P];C?C.texture=i[P].texture:(C=new h.Sprite(i[P].texture),this._glyphs.push(C)),C.position.x=(i[P].position.x+w[i[P].line])*r,C.position.y=i[P].position.y*r,C.scale.x=C.scale.y=r,C.tint=M,C.parent||this.addChild(C)}for(var R=O;R<this._glyphs.length;++R)this.removeChild(this._glyphs[R]);if(this._textWidth=d*r,this._textHeight=(n.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var A=0;A<O;A++)this._glyphs[A].x-=this._textWidth*this.anchor.x,this._glyphs[A].y-=this._textHeight*this.anchor.y;this._maxLineHeight=y*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var n={},i=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("page"),a=(0,d.getResolutionOfUrl)(s[0].getAttribute("file"),p.default.RESOLUTION),u={};n.font=i.getAttribute("face"),n.size=parseInt(i.getAttribute("size"),10),n.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/a,n.chars={},r instanceof h.Texture&&(r=[r]);for(var l=0;l<s.length;l++){var c=s[l].getAttribute("id"),f=s[l].getAttribute("file");u[c]=r instanceof Array?r[l]:r[f]}for(var v=t.getElementsByTagName("char"),g=0;g<v.length;g++){var y=v[g],m=parseInt(y.getAttribute("id"),10),_=y.getAttribute("page")||0,b=new h.Rectangle(parseInt(y.getAttribute("x"),10)/a+u[_].frame.x/a,parseInt(y.getAttribute("y"),10)/a+u[_].frame.y/a,parseInt(y.getAttribute("width"),10)/a,parseInt(y.getAttribute("height"),10)/a);n.chars[m]={xOffset:parseInt(y.getAttribute("xoffset"),10)/a,yOffset:parseInt(y.getAttribute("yoffset"),10)/a,xAdvance:parseInt(y.getAttribute("xadvance"),10)/a,kerning:{},texture:new h.Texture(u[_].baseTexture,b),page:_}}for(var x=t.getElementsByTagName("kerning"),T=0;T<x.length;T++){var w=x[T],E=parseInt(w.getAttribute("first"),10)/a,S=parseInt(w.getAttribute("second"),10)/a,O=parseInt(w.getAttribute("amount"),10)/a;n.chars[S]&&(n.chars[S].kerning[E]=O)}return e.fonts[n.font]=n,n},a(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(h.Container);r.default=v,v.fonts={}},{"../core":65,"../core/math/ObservablePoint":68,"../core/settings":101,"../core/utils":125}],137:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=t("../core/sprites/canvas/CanvasTinter"),l=function(t){return t&&t.__esModule?t:{default:t}}(h),c=new u.Point,d=function(t){function e(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;n(this,e);var a=i(this,t.call(this,r));return a.tileTransform=new u.TransformStatic,a._width=o,a._height=s,a._canvasPattern=null,a.uvTransform=r.transform||new u.TextureMatrix(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return o(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,i=t.resolution,o=2===e.rotate,s=e.baseTexture,a=s.resolution,h=this.tilePosition.x/this.tileScale.x%e.orig.width*a,c=this.tilePosition.y/this.tileScale.y%e.orig.height*a;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var d=new u.CanvasRenderTarget(e.orig.width,e.orig.height,a);if(16777215!==this.tint)this.tintedTexture=l.default.getTintedTexture(this,this.tint),d.context.drawImage(this.tintedTexture,0,0);else{var f=e._frame.x*a,p=e._frame.y*a,v=e._frame.width*a,g=e._frame.height*a,y=(e.trim?e.trim.width:e.orig.width)*a,m=(e.trim?e.trim.height:e.orig.height)*a,_=(e.trim?e.trim.x:0)*a,b=(e.trim?e.trim.y:0)*a;o?(d.context.rotate(-Math.PI/2),d.context.translate(-m,0),d.context.drawImage(s.source,f,p,v,g,-b,_,m,y)):d.context.drawImage(s.source,f,p,v,g,_,b,y,m)}this.cachedTint=this.tint,this._canvasPattern=d.context.createPattern(d.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/a,this.tileScale.y/a);var x=this.anchor.x*-this._width*a,T=this.anchor.y*-this._height*a;this.uvRespectAnchor?(r.translate(h,c),r.fillRect(-h+x,-c+T,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a)):(r.translate(h+x,c+T),r.fillRect(-h,-c,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,\nthis._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new u.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);var e=this._width,r=this._height,n=-e*this.anchor._x;if(c.x>=n&&c.x<n+e){var i=-r*this.anchor._y;if(c.y>=i&&c.y<i+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,n){return new e(u.Texture.from(t),r,n)},e.fromFrame=function(t,r,n){var i=u.utils.TextureCache[t];if(!i)throw new Error(\'The frameId "\'+t+\'" does not exist in the texture cache \'+this);return new e(i,r,n)},e.fromImage=function(t,r,n,i,o){return new e(u.Texture.fromImage(t,i,o),r,n)},s(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(u.Sprite);r.default=d},{"../core":65,"../core/sprites/canvas/CanvasTinter":104}],138:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=t("../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=t("../core/textures/Texture"),u=n(a),h=t("../core/textures/BaseTexture"),l=n(h),c=t("../core/utils"),d=s.DisplayObject,f=new s.Matrix;d.prototype._cacheAsBitmap=!1,d.prototype._cacheData=!1;var p=function t(){i(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(d.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new p),e=this._cacheData,e.originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),d.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},d.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var n=this._filters[0].padding;r.pad(n)}r.ceil(s.settings.RESOLUTION);var i=t._activeRenderTarget,o=t.filterManager.filterStack,a=s.RenderTexture.create(r.width,r.height),h="cacheAsBitmap_"+(0,c.uid)();this._cacheData.textureCacheId=h,l.default.addToCache(a.baseTexture,h),u.default.addToCache(a,h);var d=f;d.tx=-r.x,d.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,a,!0,d,!0),t.bindRenderTarget(i),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var p=new s.Sprite(a);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},d.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},d.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var n=t.context;e.ceil(s.settings.RESOLUTION);var i=s.RenderTexture.create(e.width,e.height),o="cacheAsBitmap_"+(0,c.uid)();this._cacheData.textureCacheId=o,l.default.addToCache(i.baseTexture,o),u.default.addToCache(i,o);var a=f;this.transform.localTransform.copy(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,i,!0,a,!1),t.context=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new s.Sprite(i);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},d.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},d.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},d.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,l.default.removeFromCache(this._cacheData.textureCacheId),u.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},d.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},{"../core":65,"../core/textures/BaseTexture":112,"../core/textures/Texture":115,"../core/utils":125}],139:[function(t,e,r){"use strict";var n=t("../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n);i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":65}],140:[function(t,e,r){"use strict";var n=t("../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n);i.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":65}],141:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.BitmapText=r.TilingSpriteRenderer=r.TilingSprite=r.AnimatedSprite=void 0;var i=t("./AnimatedSprite");Object.defineProperty(r,"AnimatedSprite",{enumerable:!0,get:function(){return n(i).default}});var o=t("./TilingSprite");Object.defineProperty(r,"TilingSprite",{enumerable:!0,get:function(){return n(o).default}});var s=t("./webgl/TilingSpriteRenderer");Object.defineProperty(r,"TilingSpriteRenderer",{enumerable:!0,get:function(){return n(s).default}});var a=t("./BitmapText");Object.defineProperty(r,"BitmapText",{enumerable:!0,get:function(){return n(a).default}}),t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition")},{"./AnimatedSprite":135,"./BitmapText":136,"./TilingSprite":137,"./cacheAsBitmap":138,"./getChildByName":139,"./getGlobalPosition":140,"./webgl/TilingSpriteRenderer":142}],142:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("../../core"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(s),u=t("../../core/const"),h=(t("path"),new a.Matrix),l=function(t){function e(r){n(this,e);var o=i(this,t.call(this,r));return o.shader=null,o.simpleShader=null,o.quad=null,o}return o(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new a.Shader(t,"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n","varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform vec4 uColor;\\nuniform mat3 uMapCoord;\\nuniform vec4 uClampFrame;\\nuniform vec2 uClampOffset;\\n\\nvoid main(void)\\n{\\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\\n\\n    vec4 sample = texture2D(uSampler, coord);\\n    gl_FragColor = sample * uColor;\\n}\\n"),this.simpleShader=new a.Shader(t,"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n","varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform vec4 uColor;\\n\\nvoid main(void)\\n{\\n    vec4 sample = texture2D(uSampler, vTextureCoord);\\n    gl_FragColor = sample * uColor;\\n}\\n"),this.renderer.bindVao(null),this.quad=new a.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&(n=r.uvs,n[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),r.upload();var i=t._texture,o=i.baseTexture,s=t.tileTransform.localTransform,l=t.uvTransform,c=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;c&&(o._glTextures[e.CONTEXT_UID]?c=o.wrapMode!==u.WRAP_MODES.CLAMP:o.wrapMode===u.WRAP_MODES.CLAMP&&(o.wrapMode=u.WRAP_MODES.REPEAT));var d=c?this.simpleShader:this.shader;e.bindShader(d);var f=i.width,p=i.height,v=t._width,g=t._height;h.set(s.a*f/v,s.b*f/g,s.c*p/v,s.d*p/g,s.tx/v,s.ty/g),h.invert(),c?h.prepend(l.mapCoord):(d.uniforms.uMapCoord=l.mapCoord.toArray(!0),d.uniforms.uClampFrame=l.uClampFrame,d.uniforms.uClampOffset=l.uClampOffset),d.uniforms.uTransform=h.toArray(!0),d.uniforms.uColor=a.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,d.uniforms.uColor,o.premultipliedAlpha),d.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),d.uniforms.uSampler=e.bindTexture(i),e.setBlendMode(a.utils.correctBlendMode(t.blendMode,o.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(a.ObjectRenderer);r.default=l,a.WebGLRenderer.registerPlugin("tilingSprite",l)},{"../../core":65,"../../core/const":46,path:8}],143:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=(t("path"),function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;n(this,e);var o=i(this,t.call(this,"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}","varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform float uAlpha;\\n\\nvoid main(void)\\n{\\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\\n}\\n"));return o.alpha=r,o.glShaderKey="alpha",o}return o(e,t),s(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(u.Filter));r.default=h},{"../../core":65,path:8}],144:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../../core"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),l=t("./BlurXFilter"),c=n(l),d=t("./BlurYFilter"),f=n(d),p=function(t){function e(r,n,s,a){i(this,e);var u=o(this,t.call(this));return u.blurXFilter=new c.default(r,n,s,a),u.blurYFilter=new f.default(r,n,s,a),u.padding=0,u.resolution=s||h.settings.RESOLUTION,u.quality=n||4,u.blur=r||8,u}return s(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},a(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(h.Filter);r.default=p},{"../../core":65,"./BlurXFilter":145,"./BlurYFilter":146}],145:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../../core"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),l=t("./generateBlurVertSource"),c=n(l),d=t("./generateBlurFragSource"),f=n(d),p=t("./getMaxBlurKernelSize"),v=n(p),g=function(t){function e(r,n,s,a){i(this,e),a=a||5;var u=(0,c.default)(a,!0),l=(0,f.default)(a),d=o(this,t.call(this,u,l));return d.resolution=s||h.settings.RESOLUTION,d._quality=0,d.quality=n||4,d.strength=r||8,d.firstRun=!0,d}return s(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,o=(0,v.default)(i);this.vertexSrc=(0,c.default)(o,!0),this.fragmentSrc=(0,f.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var s=t.getRenderTarget(!0),a=e,u=s,h=0;h<this.passes-1;h++){t.applyFilter(this,a,u,!0);var l=u;u=a,a=l}t.applyFilter(this,a,r,n),t.returnRenderTarget(s)}},a(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(h.Filter);r.default=g},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],146:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../../core"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),l=t("./generateBlurVertSource"),c=n(l),d=t("./generateBlurFragSource"),f=n(d),p=t("./getMaxBlurKernelSize"),v=n(p),g=function(t){function e(r,n,s,a){i(this,e),a=a||5;var u=(0,c.default)(a,!1),l=(0,f.default)(a),d=o(this,t.call(this,u,l));return d.resolution=s||h.settings.RESOLUTION,d._quality=0,d.quality=n||4,d.strength=r||8,d.firstRun=!0,d}return s(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,o=(0,v.default)(i);this.vertexSrc=(0,c.default)(o,!1),this.fragmentSrc=(0,f.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var s=t.getRenderTarget(!0),a=e,u=s,h=0;h<this.passes-1;h++){t.applyFilter(this,a,u,!0);var l=u;u=a,a=l}t.applyFilter(this,a,r,n),t.returnRenderTarget(s)}},a(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(h.Filter);r.default=g},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],147:[function(t,e,r){"use strict";function n(t){for(var e=i[t],r=e.length,n=o,s="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",u=void 0,h=0;h<t;h++){var l=a.replace("%index%",h);u=h,h>=r&&(u=t-h-1),l=l.replace("%value%",e[u]),s+=l,s+="\\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t)}r.__esModule=!0,r.default=n;var i={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},o=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\\n")},{}],148:[function(t,e,r){"use strict";function n(t,e){var r=Math.ceil(t/2),n=i,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+=u,o+="\\n"}return n=n.replace("%blur%",o),n=n.replace("%size%",t)}r.__esModule=!0,r.default=n;var i=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\\n")},{}],149:[function(t,e,r){"use strict";function n(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}r.__esModule=!0,r.default=n},{}],150:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=(t("path"),function(t){function e(){n(this,e);var r=i(this,t.call(this,"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}","varying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform float m[20];\\nuniform float uAlpha;\\n\\nvoid main(void)\\n{\\n    vec4 c = texture2D(uSampler, vTextureCoord);\\n\\n    if (uAlpha == 0.0) {\\n        gl_FragColor = c;\\n        return;\\n    }\\n\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (c.a > 0.0) {\\n      c.rgb /= c.a;\\n    }\\n\\n    vec4 result;\\n\\n    result.r = (m[0] * c.r);\\n        result.r += (m[1] * c.g);\\n        result.r += (m[2] * c.b);\\n        result.r += (m[3] * c.a);\\n        result.r += m[4];\\n\\n    result.g = (m[5] * c.r);\\n        result.g += (m[6] * c.g);\\n        result.g += (m[7] * c.b);\\n        result.g += (m[8] * c.a);\\n        result.g += m[9];\\n\\n    result.b = (m[10] * c.r);\\n       result.b += (m[11] * c.g);\\n       result.b += (m[12] * c.b);\\n       result.b += (m[13] * c.a);\\n       result.b += m[14];\\n\\n    result.a = (m[15] * c.r);\\n       result.a += (m[16] * c.g);\\n       result.a += (m[17] * c.b);\\n       result.a += (m[18] * c.a);\\n       result.a += m[19];\\n\\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\\n\\n    // Premultiply alpha again.\\n    rgb *= result.a;\\n\\n    gl_FragColor = vec4(rgb, result.a);\\n}\\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return o(e,t),e.prototype._loadMatrix=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=Math.sqrt,o=1/3,s=i(o),a=r+(1-r)*o,u=o*(1-r)-s*n,h=o*(1-r)+s*n,l=o*(1-r)+s*n,c=r+o*(1-r),d=o*(1-r)-s*n,f=o*(1-r)-s*n,p=o*(1-r)+s*n,v=r+o*(1-r),g=[a,u,h,0,0,l,c,d,0,0,f,p,v,0,0,0,0,0,1,0];this._loadMatrix(g,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.colorTone=function(t,e,r,n,i){t=t||.2,e=e||.15,r=r||16770432,n=n||3375104;var o=(r>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=(n>>16&255)/255,h=(n>>8&255)/255,l=(255&n)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,u,h,l,e,0,o-u,s-h,a-l,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){t=t||.1;var r=[-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},s(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},\nset:function(t){this.uniforms.uAlpha=t}}]),e}(u.Filter));r.default=h,h.prototype.grayscale=h.prototype.greyscale},{"../../core":65,path:8}],151:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=(t("path"),function(t){function e(r,o){n(this,e);var s=new u.Matrix;r.renderable=!1;var a=i(this,t.call(this,"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 filterMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec2 vFilterCoord;\\n\\nvoid main(void)\\n{\\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\\n   vTextureCoord = aTextureCoord;\\n}","varying vec2 vFilterCoord;\\nvarying vec2 vTextureCoord;\\n\\nuniform vec2 scale;\\n\\nuniform sampler2D uSampler;\\nuniform sampler2D mapSampler;\\n\\nuniform vec4 filterArea;\\nuniform vec4 filterClamp;\\n\\nvoid main(void)\\n{\\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\\n\\n  map -= 0.5;\\n  map.xy *= scale / filterArea.xy;\\n\\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\\n}\\n"));return a.maskSprite=r,a.maskMatrix=s,a.uniforms.mapSampler=r._texture,a.uniforms.filterMatrix=s,a.uniforms.scale={x:1,y:1},null!==o&&void 0!==o||(o=20),a.scale=new u.Point(o,o),a}return o(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},s(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(u.Filter));r.default=h},{"../../core":65,path:8}],152:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("../../core"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(s),u=(t("path"),function(t){function e(){return n(this,e),i(this,t.call(this,"\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nuniform vec4 filterArea;\\n\\nvarying vec2 vTextureCoord;\\n\\nvec2 mapCoord( vec2 coord )\\n{\\n    coord *= filterArea.xy;\\n    coord += filterArea.zw;\\n\\n    return coord;\\n}\\n\\nvec2 unmapCoord( vec2 coord )\\n{\\n    coord -= filterArea.zw;\\n    coord /= filterArea.xy;\\n\\n    return coord;\\n}\\n\\nvoid texcoords(vec2 fragCoord, vec2 resolution,\\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\\n               out vec2 v_rgbM) {\\n    vec2 inverseVP = 1.0 / resolution.xy;\\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\\n    v_rgbM = vec2(fragCoord * inverseVP);\\n}\\n\\nvoid main(void) {\\n\\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n   vTextureCoord = aTextureCoord;\\n\\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\\n\\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n}",\'varying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nvarying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform vec4 filterArea;\\n\\n/**\\n Basic FXAA implementation based on the code on geeks3d.com with the\\n modification that the texture2DLod stuff was removed since it\\\'s\\n unsupported by WebGL.\\n \\n --\\n \\n From:\\n https://github.com/mitsuhiko/webgl-meincraft\\n \\n Copyright (c) 2011 by Armin Ronacher.\\n \\n Some rights reserved.\\n \\n Redistribution and use in source and binary forms, with or without\\n modification, are permitted provided that the following conditions are\\n met:\\n \\n * Redistributions of source code must retain the above copyright\\n notice, this list of conditions and the following disclaimer.\\n \\n * Redistributions in binary form must reproduce the above\\n copyright notice, this list of conditions and the following\\n disclaimer in the documentation and/or other materials provided\\n with the distribution.\\n \\n * The names of the contributors may not be used to endorse or\\n promote products derived from this software without specific\\n prior written permission.\\n \\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\\n */\\n\\n#ifndef FXAA_REDUCE_MIN\\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\\n#endif\\n#ifndef FXAA_REDUCE_MUL\\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\\n#endif\\n#ifndef FXAA_SPAN_MAX\\n#define FXAA_SPAN_MAX     8.0\\n#endif\\n\\n//optimized version for mobile, where dependent\\n//texture reads can be a bottleneck\\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\\n          vec2 v_rgbNW, vec2 v_rgbNE,\\n          vec2 v_rgbSW, vec2 v_rgbSE,\\n          vec2 v_rgbM) {\\n    vec4 color;\\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\\n    vec4 texColor = texture2D(tex, v_rgbM);\\n    vec3 rgbM  = texColor.xyz;\\n    vec3 luma = vec3(0.299, 0.587, 0.114);\\n    float lumaNW = dot(rgbNW, luma);\\n    float lumaNE = dot(rgbNE, luma);\\n    float lumaSW = dot(rgbSW, luma);\\n    float lumaSE = dot(rgbSE, luma);\\n    float lumaM  = dot(rgbM,  luma);\\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\\n    \\n    mediump vec2 dir;\\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n    \\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\\n    \\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n                  dir * rcpDirMin)) * inverseVP;\\n    \\n    vec3 rgbA = 0.5 * (\\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\\n    \\n    float lumaB = dot(rgbB, luma);\\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\\n        color = vec4(rgbA, texColor.a);\\n    else\\n        color = vec4(rgbB, texColor.a);\\n    return color;\\n}\\n\\nvoid main() {\\n\\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\\n\\n      vec4 color;\\n\\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n\\n      gl_FragColor = color;\\n}\\n\'))}return o(e,t),e}(a.Filter));r.default=u},{"../../core":65,path:8}],153:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./fxaa/FXAAFilter");Object.defineProperty(r,"FXAAFilter",{enumerable:!0,get:function(){return n(i).default}});var o=t("./noise/NoiseFilter");Object.defineProperty(r,"NoiseFilter",{enumerable:!0,get:function(){return n(o).default}});var s=t("./displacement/DisplacementFilter");Object.defineProperty(r,"DisplacementFilter",{enumerable:!0,get:function(){return n(s).default}});var a=t("./blur/BlurFilter");Object.defineProperty(r,"BlurFilter",{enumerable:!0,get:function(){return n(a).default}});var u=t("./blur/BlurXFilter");Object.defineProperty(r,"BlurXFilter",{enumerable:!0,get:function(){return n(u).default}});var h=t("./blur/BlurYFilter");Object.defineProperty(r,"BlurYFilter",{enumerable:!0,get:function(){return n(h).default}});var l=t("./colormatrix/ColorMatrixFilter");Object.defineProperty(r,"ColorMatrixFilter",{enumerable:!0,get:function(){return n(l).default}});var c=t("./alpha/AlphaFilter");Object.defineProperty(r,"AlphaFilter",{enumerable:!0,get:function(){return n(c).default}})},{"./alpha/AlphaFilter":143,"./blur/BlurFilter":144,"./blur/BlurXFilter":145,"./blur/BlurYFilter":146,"./colormatrix/ColorMatrixFilter":150,"./displacement/DisplacementFilter":151,"./fxaa/FXAAFilter":152,"./noise/NoiseFilter":154}],154:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=(t("path"),function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();n(this,e);var s=i(this,t.call(this,"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}","precision highp float;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec4 vColor;\\n\\nuniform float uNoise;\\nuniform float uSeed;\\nuniform sampler2D uSampler;\\n\\nfloat rand(vec2 co)\\n{\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\n}\\n\\nvoid main()\\n{\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\\n    float diff = (randomValue - 0.5) * uNoise;\\n\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (color.a > 0.0) {\\n        color.rgb /= color.a;\\n    }\\n\\n    color.r += diff;\\n    color.g += diff;\\n    color.b += diff;\\n\\n    // Premultiply alpha again.\\n    color.rgb *= color.a;\\n\\n    gl_FragColor = color;\\n}\\n"));return s.noise=r,s.seed=o,s}return o(e,t),s(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(u.Filter));r.default=h},{"../../core":65,path:8}],155:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=function(){function t(){n(this,t),this.global=new s.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},i(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();r.default=a},{"../core":65}],156:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(){n(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();r.default=i},{}],157:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=t("../core"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),l=t("./InteractionData"),c=n(l),d=t("./InteractionEvent"),f=n(d),p=t("./InteractionTrackingData"),v=n(p),g=t("eventemitter3"),y=n(g),m=t("./interactiveTarget"),_=n(m);h.utils.mixins.delayMixin(h.DisplayObject.prototype,_.default);var b=1,x={target:null,data:{global:null}},T=function(t){function e(r,n){i(this,e);var s=o(this,t.call(this));return n=n||{},s.renderer=r,s.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,s.interactionFrequency=n.interactionFrequency||10,s.mouse=new c.default,s.mouse.identifier=b,s.mouse.global.set(-999999),s.activeInteractionData={},s.activeInteractionData[b]=s.mouse,s.interactionDataPool=[],s.eventData=new f.default,s.interactionDOMElement=null,s.moveWhenInside=!1,s.eventsAdded=!1,s.mouseOverRenderer=!1,s.supportsTouchEvents="ontouchstart"in window,s.supportsPointerEvents=!!window.PointerEvent,s.onPointerUp=s.onPointerUp.bind(s),s.processPointerUp=s.processPointerUp.bind(s),s.onPointerCancel=s.onPointerCancel.bind(s),s.processPointerCancel=s.processPointerCancel.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.processPointerDown=s.processPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.processPointerMove=s.processPointerMove.bind(s),s.onPointerOut=s.onPointerOut.bind(s),s.processPointerOverOut=s.processPointerOverOut.bind(s),s.onPointerOver=s.onPointerOver.bind(s),s.cursorStyles={default:"inherit",pointer:"pointer"},s.currentCursorMode=null,s.cursor=null,s._tempPoint=new h.Point,s.resolution=1,s.setTargetElement(s.renderer.view,s.renderer.resolution),s}return s(e,t),e.prototype.hitTest=function(t,e){return x.target=null,x.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(x,e,null,!0),x.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(h.ticker.shared.add(this.update,this,h.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(h.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":a(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global;i=e.interactive||i;var s=!1,a=i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,u=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint(o)||(n=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var h=e.children,l=h.length-1;l>=0;l--){var c=h[l],d=this.processInteractive(t,c,r,n,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(n=!1),s=!0)}}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new v.default(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a=n[s],u=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(h.data.originalEvent=t,this.processInteractive(h,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data,i=t.data.identifier,o=e.trackedPointers[i],s="touch"===n.pointerType,a="mouse"===n.pointerType||"pen"===n.pointerType,u=!1;if(a){var h=2===n.button,l=v.default.FLAGS,c=h?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;r?(this.dispatchEvent(e,h?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,h?"rightclick":"click",t),u=!0)):d&&this.dispatchEvent(e,h?"rightupoutside":"mouseupoutside",t),o&&(h?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!u||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=t;var a="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t),r=e[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(r),i=this.configureInteractionEventForDOMEvent(this.eventData,r,n);i.data.originalEvent=r,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===r.pointerType||"pen"===r.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,s=e.trackedPointers[i];r&&!s&&(s=e.trackedPointers[i]=new v.default(i)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t),r=e[0],n=this.getInteractionDataForPointerId(r),i=this.configureInteractionEventForDOMEvent(this.eventData,r,n);i.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,r=void 0;return e===b||"mouse"===t.pointerType?r=this.mouse:this.activeInteractionData[e]?r=this.activeInteractionData[e]:(r=this.interactionDataPool.pop()||new c.default,r.identifier=e,this.activeInteractionData[e]=r),r.copyEvent(t),r},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=b),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,\nthis.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(y.default);r.default=T,h.WebGLRenderer.registerPlugin("interaction",T),h.CanvasRenderer.registerPlugin("interaction",T)},{"../core":65,"./InteractionData":155,"./InteractionEvent":156,"./InteractionTrackingData":158,"./interactiveTarget":160,eventemitter3:3}],158:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(e){n(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},i(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();r.default=o,o.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],159:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./InteractionData");Object.defineProperty(r,"InteractionData",{enumerable:!0,get:function(){return n(i).default}});var o=t("./InteractionManager");Object.defineProperty(r,"InteractionManager",{enumerable:!0,get:function(){return n(o).default}});var s=t("./interactiveTarget");Object.defineProperty(r,"interactiveTarget",{enumerable:!0,get:function(){return n(s).default}});var a=t("./InteractionTrackingData");Object.defineProperty(r,"InteractionTrackingData",{enumerable:!0,get:function(){return n(a).default}});var u=t("./InteractionEvent");Object.defineProperty(r,"InteractionEvent",{enumerable:!0,get:function(){return n(u).default}})},{"./InteractionData":155,"./InteractionEvent":156,"./InteractionManager":157,"./InteractionTrackingData":158,"./interactiveTarget":160}],160:[function(t,e,r){"use strict";r.__esModule=!0,r.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],161:[function(t,e,r){"use strict";function n(t,e){t.bitmapFont=a.BitmapText.registerFont(t.data,e)}r.__esModule=!0,r.parse=n,r.default=function(){return function(t,e){if(!t.data||t.type!==s.Resource.TYPE.XML)return void e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return void e();var r=t.isDataUrl?"":o.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");for(var i=t.data.getElementsByTagName("page"),a={},u=function(r){a[r.metadata.pageFile]=r.texture,Object.keys(a).length===i.length&&(n(t,a),e())},h=0;h<i.length;++h){var l=i[h].getAttribute("file"),c=r+l,d=!1;for(var f in this.resources){var p=this.resources[f];if(p.url===c){p.metadata.pageFile=l,p.texture?u(p):p.onAfterMiddleware.add(u),d=!0;break}}if(!d){var v={crossOrigin:t.crossOrigin,loadType:s.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(c,v,u)}}}};var i=t("path"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=t("resource-loader"),a=t("../extras")},{"../extras":141,path:8,"resource-loader":36}],162:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.shared=r.Resource=r.textureParser=r.getResourcePath=r.spritesheetParser=r.parseBitmapFontData=r.bitmapFontParser=r.Loader=void 0;var i=t("./bitmapFontParser");Object.defineProperty(r,"bitmapFontParser",{enumerable:!0,get:function(){return n(i).default}}),Object.defineProperty(r,"parseBitmapFontData",{enumerable:!0,get:function(){return i.parse}});var o=t("./spritesheetParser");Object.defineProperty(r,"spritesheetParser",{enumerable:!0,get:function(){return n(o).default}}),Object.defineProperty(r,"getResourcePath",{enumerable:!0,get:function(){return o.getResourcePath}});var s=t("./textureParser");Object.defineProperty(r,"textureParser",{enumerable:!0,get:function(){return n(s).default}});var a=t("resource-loader");Object.defineProperty(r,"Resource",{enumerable:!0,get:function(){return a.Resource}});var u=t("../core/Application"),h=n(u),l=t("./loader"),c=n(l);r.Loader=c.default;var d=new c.default;d.destroy=function(){},r.shared=d;var f=h.default.prototype;f._loader=null,Object.defineProperty(f,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?d:new c.default}return this._loader}}),f._parentDestroy=f.destroy,f.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},{"../core/Application":43,"./bitmapFontParser":161,"./loader":163,"./spritesheetParser":164,"./textureParser":165,"resource-loader":36}],163:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("resource-loader"),u=n(a),h=t("resource-loader/lib/middlewares/parsing/blob"),l=t("eventemitter3"),c=n(l),d=t("./textureParser"),f=n(d),p=t("./spritesheetParser"),v=n(p),g=t("./bitmapFontParser"),y=n(g),m=function(t){function e(r,n){i(this,e);var s=o(this,t.call(this,r,n));c.default.call(s);for(var a=0;a<e._pixiMiddleware.length;++a)s.use(e._pixiMiddleware[a]());return s.onStart.add(function(t){return s.emit("start",t)}),s.onProgress.add(function(t,e){return s.emit("progress",t,e)}),s.onError.add(function(t,e,r){return s.emit("error",t,e,r)}),s.onLoad.add(function(t,e){return s.emit("load",t,e)}),s.onComplete.add(function(t,e){return s.emit("complete",t,e)}),s}return s(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(u.default);r.default=m;for(var _ in c.default.prototype)m.prototype[_]=c.default.prototype[_];m._pixiMiddleware=[h.blobMiddlewareFactory,f.default,v.default,y.default];var b=u.default.Resource;b.setExtensionXhrType("fnt",b.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":161,"./spritesheetParser":164,"./textureParser":165,eventemitter3:3,"resource-loader":36,"resource-loader/lib/middlewares/parsing/blob":37}],164:[function(t,e,r){"use strict";function n(t,e){return t.isDataUrl?t.data.meta.image:s.default.resolve(t.url.replace(e,""),t.data.meta.image)}r.__esModule=!0,r.default=function(){return function(t,e){var r=t.name+"_image";if(!t.data||t.type!==i.Resource.TYPE.JSON||!t.data.frames||this.resources[r])return void e();var o={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},s=n(t,this.baseUrl);this.add(r,s,o,function(r){if(r.error)return void e(r.error);var n=new a.Spritesheet(r.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})})}},r.getResourcePath=n;var i=t("resource-loader"),o=t("url"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=t("../core")},{"../core":65,"resource-loader":36,url:38}],165:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(){return function(t,e){t.data&&t.type===n.Resource.TYPE.IMAGE&&(t.texture=o.default.fromLoader(t.data,t.url,t.name)),e()}};var n=t("resource-loader"),i=t("../core/textures/Texture"),o=function(t){return t&&t.__esModule?t:{default:t}}(i)},{"../core/textures/Texture":115,"resource-loader":36}],166:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=t("../core/textures/Texture"),l=function(t){return t&&t.__esModule?t:{default:t}}(h),c=new u.Point,d=new u.Polygon,f=function(t){function e(r,o,s,a,h){n(this,e);var c=i(this,t.call(this));return c._texture=r||l.default.EMPTY,c.uvs=s||new Float32Array([0,0,1,0,1,1,0,1]),c.vertices=o||new Float32Array([0,0,100,0,100,100,0,100]),c.indices=a||new Uint16Array([0,1,3,2]),c.dirty=0,c.indexDirty=0,c.vertexDirty=0,c.autoUpdate=!0,c.blendMode=u.BLEND_MODES.NORMAL,c.canvasPadding=u.settings.MESH_CANVAS_PADDING,c.drawMode=h||e.DRAW_MODES.TRIANGLE_MESH,c.shader=null,c.tintRgb=new Float32Array([1,1,1]),c._glDatas={},c._uvTransform=new u.TextureMatrix(c._texture),c.uploadUvTransform=!1,c.pluginName="mesh",c}return o(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,c);for(var r=this.vertices,n=d.points,i=this.indices,o=this.indices.length,s=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<o;a+=s){var u=2*i[a],h=2*i[a+1],l=2*i[a+2];if(n[0]=r[u],n[1]=r[u+1],n[2]=r[h],n[3]=r[h+1],n[4]=r[l],n[5]=r[l+1],d.contains(c.x,c.y))return!0}return!1},e.prototype.destroy=function(e){for(var r in this._glDatas){var n=this._glDatas[r];n.destroy?n.destroy():(n.vertexBuffer&&(n.vertexBuffer.destroy(),n.vertexBuffer=null),n.indexBuffer&&(n.indexBuffer.destroy(),n.indexBuffer=null),n.uvBuffer&&(n.uvBuffer.destroy(),n.uvBuffer=null),n.vao&&(n.vao.destroy(),n.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,e)},s(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return u.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=u.utils.hex2rgb(t,this.tintRgb)}}]),e}(u.Container);r.default=f,f.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":65,"../core/textures/Texture":115}],167:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("./Plane"),h=n(u),l=t("../core/sprites/canvas/CanvasTinter"),c=n(l),d=10,f=function(t){function e(r,n,s,a,u){i(this,e);var h=o(this,t.call(this,r,4,4));return h._origWidth=r.orig.width,h._origHeight=r.orig.height,h._width=h._origWidth,h._height=h._origHeight,h._leftWidth=void 0!==n?n:d,h._rightWidth=void 0!==a?a:d,h._topHeight=void 0!==s?s:d,h._bottomHeight=void 0!==u?u:d,h._cachedTint=16777215,h._tintedTexture=null,h._canvasUvs=null,h.refresh(!0),h}return s(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform,n=t.resolution,i=16777215!==this.tint,o=this._texture;i&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=c.default.getTintedTexture(this,this.tint));var s=i?this._tintedTexture:o.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var a=this.vertices,u=this._canvasUvs,h=i?0:o.frame.x,l=i?0:o.frame.y,d=h+o.frame.width,f=l+o.frame.height;u[0]=h,u[1]=h+this._leftWidth,u[2]=d-this._rightWidth,u[3]=d,u[4]=l,u[5]=l+this._topHeight,u[6]=f-this._bottomHeight,u[7]=f;for(var p=0;p<8;p++)u[p]*=o.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);for(var v=0;v<3;v++)for(var g=0;g<3;g++){var y=2*g+8*v,m=Math.max(1,u[g+1]-u[g]),_=Math.max(1,u[v+5]-u[v+4]),b=Math.max(1,a[y+10]-a[y]),x=Math.max(1,a[y+11]-a[y+1]);e.drawImage(s,u[g],u[v+4],m,_,a[y],a[y+1],b,x)}},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var n=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},a(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(h.default);r.default=f},{"../core/sprites/canvas/CanvasTinter":104,"./Plane":168}],168:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("./Mesh"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(r,o,s){n(this,e);var u=i(this,t.call(this,r));return u._ready=!0,u.verticesX=o||10,u.verticesY=s||10,u.drawMode=a.default.DRAW_MODES.TRIANGLES,u.refresh(),u}return o(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],n=[],i=[],o=[],s=this.verticesX-1,a=this.verticesY-1,u=t.width/s,h=t.height/a,l=0;l<e;l++){var c=l%this.verticesX,d=l/this.verticesX|0;r.push(c*u,d*h),i.push(c/s,d/a)}for(var f=s*a,p=0;p<f;p++){var v=p%s,g=p/s|0,y=g*this.verticesX+v,m=g*this.verticesX+v+1,_=(g+1)*this.verticesX+v,b=(g+1)*this.verticesX+v+1;o.push(y,m,_),o.push(m,b,_)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(i),this.colors=new Float32Array(n),this.indices=new Uint16Array(o),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){a.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(a.default);r.default=u},{"./Mesh":166}],169:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("./Mesh"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(r,o){n(this,e);var s=i(this,t.call(this,r));return s.points=o,s.vertices=new Float32Array(4*o.length),s.uvs=new Float32Array(4*o.length),s.colors=new Float32Array(2*o.length),s.indices=new Uint16Array(2*o.length),s.autoUpdate=!0,s.refresh(),s}return o(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var i=t.length,o=1;o<i;o++){var s=4*o,a=o/(i-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,s=2*o,n[s]=1,n[s+1]=1,s=2*o,r[s]=s,r[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,s=t.length,a=0;a<s;a++){var u=t[a],h=4*a;r=a<t.length-1?t[a+1]:u,i=-(r.x-e.x),n=r.y-e.y;var l=10*(1-a/(s-1));l>1&&(l=1);var c=Math.sqrt(n*n+i*i),d=this._texture.height/2;n/=c,i/=c,n*=d,i*=d,o[h]=u.x+n,o[h+1]=u.y+i,o[h+2]=u.x-n,o[h+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(a.default);r.default=u},{"./Mesh":166}],170:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=t("../Mesh"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(){function t(e){n(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,i=e.resolution;e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===a.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],s=2*e[n+2];this._renderDrawTriangle(t,i,o,s)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var u=a.baseTexture,h=u.source,l=u.width,c=u.height,d=void 0,f=void 0,p=void 0,v=void 0,g=void 0,y=void 0;if(t.uploadUvTransform){var m=t._uvTransform.mapCoord;d=(o[e]*m.a+o[e+1]*m.c+m.tx)*u.width,f=(o[r]*m.a+o[r+1]*m.c+m.tx)*u.width,p=(o[n]*m.a+o[n+1]*m.c+m.tx)*u.width,v=(o[e]*m.b+o[e+1]*m.d+m.ty)*u.height,g=(o[r]*m.b+o[r+1]*m.d+m.ty)*u.height,y=(o[n]*m.b+o[n+1]*m.d+m.ty)*u.height}else d=o[e]*u.width,f=o[r]*u.width,p=o[n]*u.width,v=o[e+1]*u.height,g=o[r+1]*u.height,y=o[n+1]*u.height;var _=s[e],b=s[r],x=s[n],T=s[e+1],w=s[r+1],E=s[n+1],S=t.canvasPadding/this.renderer.resolution;if(S>0){var O=S/Math.abs(t.worldTransform.a),M=S/Math.abs(t.worldTransform.d),P=(_+b+x)/3,C=(T+w+E)/3,R=_-P,A=T-C,I=Math.sqrt(R*R+A*A);_=P+R/I*(I+O),T=C+A/I*(I+M),R=b-P,A=w-C,I=Math.sqrt(R*R+A*A),b=P+R/I*(I+O),w=C+A/I*(I+M),R=x-P,A=E-C,I=Math.sqrt(R*R+A*A),x=P+R/I*(I+O),E=C+A/I*(I+M)}i.save(),i.beginPath(),i.moveTo(_,T),i.lineTo(b,w),i.lineTo(x,E),i.closePath(),i.clip();var D=d*g+v*p+f*y-g*p-v*f-d*y,L=_*g+v*x+b*y-g*x-v*b-_*y,N=d*b+_*p+f*x-b*p-_*f-d*x,B=d*g*x+v*b*p+_*f*y-_*g*p-v*f*x-d*b*y,k=T*g+v*E+w*y-g*E-v*w-T*y,F=d*w+T*p+f*E-w*p-T*f-d*E,j=d*g*E+v*w*p+T*f*y-T*g*p-v*f*E-d*w*y;i.transform(L/D,k/D,N/D,F/D,B/D,j/D),i.drawImage(h,0,0,l*u.resolution,c*u.resolution,0,0,l,c),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,s=r[o],a=r[o+1],u=r[o+2],h=r[o+3],l=r[o+4],c=r[o+5];e.moveTo(s,a),e.lineTo(u,h),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();r.default=u,o.CanvasRenderer.registerPlugin("mesh",u)},{"../../core":65,"../Mesh":166}],171:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./Mesh");Object.defineProperty(r,"Mesh",{enumerable:!0,get:function(){return n(i).default}});var o=t("./webgl/MeshRenderer");Object.defineProperty(r,"MeshRenderer",{enumerable:!0,get:function(){return n(o).default}});var s=t("./canvas/CanvasMeshRenderer");Object.defineProperty(r,"CanvasMeshRenderer",{enumerable:!0,get:function(){return n(s).default}});var a=t("./Plane");Object.defineProperty(r,"Plane",{enumerable:!0,get:function(){return n(a).default}});var u=t("./NineSlicePlane");Object.defineProperty(r,"NineSlicePlane",{enumerable:!0,get:function(){return n(u).default}});var h=t("./Rope");Object.defineProperty(r,"Rope",{enumerable:!0,get:function(){return n(h).default}})},{"./Mesh":166,"./NineSlicePlane":167,"./Plane":168,"./Rope":169,"./canvas/CanvasMeshRenderer":170,"./webgl/MeshRenderer":172}],172:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=t("pixi-gl-core"),l=n(h),c=t("../Mesh"),d=n(c),f=(t("path"),u.Matrix.IDENTITY),p=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.shader=null,n}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new u.Shader(t,"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n","varying vec2 vTextureCoord;\\nuniform vec4 uColor;\\n\\nuniform sampler2D uSampler;\\n\\nvoid main(void)\\n{\\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\\n}\\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,n=t._texture;if(n.valid){var i=t._glDatas[e.CONTEXT_UID];i||(e.bindVao(null),i={shader:this.shader,vertexBuffer:l.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:l.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:l.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty},i.vao=new l.default.VertexArrayObject(r).addIndex(i.indexBuffer).addAttribute(i.vertexBuffer,i.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(i.uvBuffer,i.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=i),e.bindVao(i.vao),t.dirty!==i.dirty&&(i.dirty=t.dirty,i.uvBuffer.upload(t.uvs)),t.indexDirty!==i.indexDirty&&(i.indexDirty=t.indexDirty,i.indexBuffer.upload(t.indices)),t.vertexDirty!==i.vertexDirty&&(i.vertexDirty=t.vertexDirty,i.vertexBuffer.upload(t.vertices)),e.bindShader(i.shader),i.shader.uniforms.uSampler=e.bindTexture(n),e.state.setBlendMode(u.utils.correctBlendMode(t.blendMode,n.baseTexture.premultipliedAlpha)),i.shader.uniforms.uTransform&&(t.uploadUvTransform?i.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):i.shader.uniforms.uTransform=f.toArray(!0)),i.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),i.shader.uniforms.uColor=u.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,i.shader.uniforms.uColor,n.baseTexture.premultipliedAlpha);var o=t.drawMode===d.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;i.vao.draw(o,t.indices.length,0)}},e}(u.ObjectRenderer);r.default=p,u.WebGLRenderer.registerPlugin("mesh",p)},{"../../core":65,"../Mesh":166,path:8,"pixi-gl-core":15}],173:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=t("../core/utils"),l=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,o=arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,e);var h=i(this,t.call(this));return s>16384&&(s=16384),s>r&&(s=r),h._properties=[!1,!0,!1,!1,!1],h._maxSize=r,h._batchSize=s,h._glBuffers={},h._bufferUpdateIDs=[],h._updateID=0,h.interactiveChildren=!1,h.blendMode=u.BLEND_MODES.NORMAL,h.autoResize=a,h.roundPixels=!0,h.baseTexture=null,h.setProperties(o),h._tint=0,h.tintRgb=new Float32Array(4),h.tint=16777215,h}return o(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,s=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var h=this.children[u];if(h.visible){var l=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=h.anchor.x*(-l.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-l.height*h.scale.y)+h.position.y+.5,s=l.width*h.scale.x,a=l.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var c=h.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),i=h.anchor.x*-l.width+.5,o=h.anchor.y*-l.height+.5,s=l.width,a=l.height}var d=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.source,l.x*d,l.y*d,l.width*d,l.height*d,i*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),\nthis._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},s(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,h.hex2rgb)(t,this.tintRgb)}}]),e}(u.Container);r.default=l},{"../core":65,"../core/utils":125}],174:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./ParticleContainer");Object.defineProperty(r,"ParticleContainer",{enumerable:!0,get:function(){return n(i).default}});var o=t("./webgl/ParticleRenderer");Object.defineProperty(r,"ParticleRenderer",{enumerable:!0,get:function(){return n(o).default}})},{"./ParticleContainer":173,"./webgl/ParticleRenderer":176}],175:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("pixi-gl-core"),s=n(o),a=t("../../core/utils/createIndicesForQuads"),u=n(a),h=function(){function t(e,r,n,o){i(this,t),this.gl=e,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var s=0;s<r.length;++s){var a=r[s];a={attribute:a.attribute,size:a.size,uploadFunction:a.uploadFunction,unsignedByte:a.unsignedByte,offset:a.offset},n[s]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,u.default)(this.size),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var n=this.dynamicProperties[r];n.offset=e,e+=n.size,this.dynamicStride+=n.size}var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=s.default.GLBuffer.createVertexBuffer(t,i,t.STREAM_DRAW);var o=0;this.staticStride=0;for(var a=0;a<this.staticProperties.length;++a){var h=this.staticProperties[a];h.offset=o,o+=h.size,this.staticStride+=h.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=s.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new s.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var d=this.dynamicProperties[c];d.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,d.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*d.offset):this.vao.addAttribute(this.dynamicBuffer,d.attribute,t.FLOAT,!1,4*this.dynamicStride,4*d.offset)}for(var f=0;f<this.staticProperties.length;++f){var p=this.staticProperties[f];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,t.FLOAT,!1,4*this.staticStride,4*p.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();r.default=h},{"../../core/utils/createIndicesForQuads":123,"pixi-gl-core":15}],176:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=t("./ParticleShader"),l=n(h),c=t("./ParticleBuffer"),d=n(c),f=t("../../core/utils"),p=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new u.Matrix,n.CONTEXT_UID=0,n}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new l.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer,o=e.length;if(0!==o){o>r&&(o=r);var s=t._glBuffers[i.CONTEXT_UID];s||(s=t._glBuffers[i.CONTEXT_UID]=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.setBlendMode(u.utils.correctBlendMode(t.blendMode,a.premultipliedAlpha));var h=i.gl,l=t.worldTransform.copy(this.tempMatrix);l.prepend(i._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=u.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.premultipliedAlpha),this.shader.uniforms.uSampler=i.bindTexture(a);for(var c=!1,d=0,f=0;d<o;d+=n,f+=1){var p=o-d;if(p>n&&(p=n),f>=s.length){if(!t.autoResize)break;s.push(this._generateOneMoreBuffer(t))}var v=s[f];v.uploadDynamic(e,d,p);var g=t._bufferUpdateIDs[f]||0;c=c||v._updateID<g,c&&(v._updateID=t._updateID,v.uploadStatic(e,d,p)),i.bindVao(v.vao),v.vao.draw(h.TRIANGLES,6*p)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,o=t._properties,s=0;s<n;s+=i)r.push(new d.default(e,this.properties,o,i));return r},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,r=t._batchSize,n=t._properties;return new d.default(e,this.properties,n,r)},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s=0,a=0,u=0,h=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,f=c.scale.x,p=c.scale.y,v=d.trim,g=d.orig;v?(a=v.x-c.anchor.x*g.width,s=a+v.width,h=v.y-c.anchor.y*g.height,u=h+v.height):(s=g.width*(1-c.anchor.x),a=g.width*-c.anchor.x,u=g.height*(1-c.anchor.y),h=g.height*-c.anchor.y),n[o]=a*f,n[o+1]=h*p,n[o+i]=s*f,n[o+i+1]=h*p,n[o+2*i]=s*f,n[o+2*i+1]=u*p,n[o+3*i]=a*f,n[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s],u=a._texture.baseTexture.premultipliedAlpha,h=a.alpha,l=h<1&&u?(0,f.premultiplyTint)(a._tintRGB,h):a._tintRGB+(255*h<<24);n[o]=l,n[o+i]=l,n[o+2*i]=l,n[o+3*i]=l,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(u.ObjectRenderer);r.default=p,u.WebGLRenderer.registerPlugin("particle",p)},{"../../core":65,"../../core/utils":125,"./ParticleBuffer":175,"./ParticleShader":177}],177:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("../../core/Shader"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(r){return n(this,e),i(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\\n")))}return o(e,t),e}(a.default);r.default=u},{"../../core/Shader":44}],178:[function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return t=Number(t),0===t||isNaN(t)?t:t>0?1:-1})},{}],179:[function(t,e,r){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},{}],180:[function(t,e,r){"use strict";var n=t("object-assign"),i=function(t){return t&&t.__esModule?t:{default:t}}(n);Object.assign||(Object.assign=i.default)},{"object-assign":6}],181:[function(t,e,r){"use strict";t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign"),t("./Number.isInteger"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":178,"./Number.isInteger":179,"./Object.assign":180,"./requestAnimationFrame":182}],182:[function(t,e,r){(function(t){"use strict";if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i){var o=n[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+r-e;return n<0&&(n=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],183:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof d.Texture){var i=t._textures[n].baseTexture;-1===e.indexOf(i)&&(e.push(i),r=!0)}return r}function o(t,e){return t instanceof d.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function s(t,e){if(t._texture&&t._texture instanceof d.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function a(t,e){return e instanceof d.Text&&(e.updateText(!0),!0)}function u(t,e){if(e instanceof d.TextStyle){var r=e.toFontString();return d.TextMetrics.measureFont(r),!0}return!1}function h(t,e){if(t instanceof d.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function l(t,e){return t instanceof d.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}r.__esModule=!0;var c=t("../core"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(c),f=t("./limiters/CountLimiter"),p=function(t){return t&&t.__esModule?t:{default:t}}(f),v=d.ticker.shared;d.settings.UPLOADS_PER_FRAME=4;var g=function(){function t(e){var r=this;n(this,t),this.limiter=new p.default(d.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(h),this.registerFindHook(l),this.registerFindHook(i),this.registerFindHook(o),this.registerFindHook(s),this.registerUploadHook(a),this.registerUploadHook(u)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,v.addOnce(this.tick,this,d.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)v.addOnce(this.tick,this,d.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(var o=0,s=i.length;o<s;o++)i[o]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof d.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&v.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();r.default=g},{"../core":65,"./limiters/CountLimiter":186}],184:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(e instanceof u.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),i=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,i,0,0,t.canvas.width,t.canvas.height),!0}return!1}r.__esModule=!0;var a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=t("../BasePrepare"),l=function(t){return t&&t.__esModule?t:{default:t}}(h),c=16,d=function(t){function e(r){n(this,e);var o=i(this,t.call(this,r));return o.uploadHookHelper=o,o.canvas=document.createElement("canvas"),o.canvas.width=c,o.canvas.height=c,o.ctx=o.canvas.getContext("2d"),o.registerUploadHook(s),o}return o(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(l.default);r.default=d,u.CanvasRenderer.registerPlugin("prepare",d)},{"../../core":65,"../BasePrepare":183}],185:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./webgl/WebGLPrepare");Object.defineProperty(r,"webgl",{enumerable:!0,get:function(){return n(i).default}});var o=t("./canvas/CanvasPrepare");Object.defineProperty(r,"canvas",{enumerable:!0,get:function(){return n(o).default}});var s=t("./BasePrepare");Object.defineProperty(r,"BasePrepare",{enumerable:!0,get:function(){return n(s).default}});var a=t("./limiters/CountLimiter");Object.defineProperty(r,"CountLimiter",{enumerable:!0,get:function(){return n(a).default}});var u=t("./limiters/TimeLimiter");Object.defineProperty(r,"TimeLimiter",{enumerable:!0,get:function(){return n(u).default}})},{"./BasePrepare":183,"./canvas/CanvasPrepare":184,"./limiters/CountLimiter":186,"./limiters/TimeLimiter":187,"./webgl/WebGLPrepare":188}],186:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();r.default=i},{}],187:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();r.default=i},{}],188:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){return e instanceof l.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function a(t,e){return e instanceof l.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function u(t,e){return t instanceof l.Graphics&&(e.push(t),!0)}r.__esModule=!0;var h=t("../../core"),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(h),c=t("../BasePrepare"),d=function(t){return t&&t.__esModule?t:{default:t}}(c),f=function(t){function e(r){n(this,e);var o=i(this,t.call(this,r));return o.uploadHookHelper=o.renderer,o.registerFindHook(u),o.registerUploadHook(s),o.registerUploadHook(a),o}return o(e,t),e}(d.default);r.default=f,l.WebGLRenderer.registerPlugin("prepare",f)},{"../../core":65,"../BasePrepare":183}],189:[function(t,e,r){(function(e){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}r.__esModule=!0,r.loader=r.prepare=r.particles=r.mesh=r.loaders=r.interaction=r.filters=r.extras=r.extract=r.accessibility=void 0;var i=t("./polyfill");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./core");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return o[t]}})});var s=t("./deprecation"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=t("./accessibility"),h=n(u),l=t("./extract"),c=n(l),d=t("./extras"),f=n(d),p=t("./filters"),v=n(p),g=t("./interaction"),y=n(g),m=t("./loaders"),_=n(m),b=t("./mesh"),x=n(b),T=t("./particles"),w=n(T),E=t("./prepare"),S=n(E);o.utils.mixins.performMixins();var O=_.shared||null;r.accessibility=h,r.extract=c,r.extras=f,r.filters=v,r.interaction=y,r.loaders=_,r.mesh=x,r.particles=w,r.prepare=S,r.loader=O,"function"==typeof a.default&&(0,a.default)(r),e.PIXI=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":42,"./core":65,"./deprecation":131,"./extract":133,"./extras":141,"./filters":153,"./interaction":159,"./loaders":162,"./mesh":171,"./particles":174,"./polyfill":181,"./prepare":185}]},{},[189])(189)});\n//# sourceMappingURL=pixi.min.js.map\n'},function(t,e,r){"use strict";r.r(e);r(22),r(23);var n=r(0),i=r.n(n),o=r(1),s=r.n(o),a=r(2),u=r.n(a),h=r(3),l=r.n(h),c=r(4),d=r.n(c),f=r(5),p=r.n(f),g=r(6),v=r.n(g),y=r(7),m=r.n(y),_=r(8),b=r.n(_),x=r(9),T=r.n(x),w=r(10),E=r.n(w),S=r(11),O=r.n(S),M=r(12),C=r.n(M),P=r(13),A=r.n(P),I=r(14),R=r.n(I),D=r(15),L=r.n(D),N=r(16),k=r.n(N),B=r(17),F=r.n(B),j=r(18),U=r.n(j),G=r(19),X=r.n(G),W=r(20),H=r.n(W),V=r(21),Y=r.n(V),z={CONTAINER:"#game-block",IMAGES:{favicon:u.a,board_block:l.a,arrow:d.a,result_red:p.a,result_blue:v.a,result_tie:m.a,chip_red:b.a,chip_blue:T.a,chip_red_drop:E.a,chip_blue_drop:O.a,chip_red_win:C.a,chip_blue_win:A.a,chip_red_shadow:R.a,chip_blue_shadow:L.a,message_board:k.a,try_again_red:F.a,try_again_blue:U.a,rocket_red:X.a,rocket_blue:H.a,btn_replay:Y.a},GAME_CONFIG:{num_players:2,board_width:7,board_height:6,win_condition:4,board_size:64,background_color:1313820},GRAPHICS:{frame_rate:60,replay_btn_offset:54,btn_height:52,btn_delay:3,message_time:7,impact_delay:5,result_delay:15}},q=function(){function t(e){i()(this,t),this._selectedSlot=0,this.renderer=e}return s()(t,[{key:"_fireControls",value:function(){this.setPlayerInput(!0),this._addMouseListener()}},{key:"setPlayerInput",value:function(t){this.AllowInput=t}},{key:"_addMouseListener",value:function(){this.MousePos=this.renderer.plugins.interaction.mouse.global}}]),t}(),K=function(){function t(){i()(this,t),this.saved_scores=localStorage.getItem("scores"),console.log(this.saved_scores),this._initScores()}return s()(t,[{key:"_initScores",value:function(){if(this.saved_scores)this.saved_scores=JSON.parse(this.saved_scores),document.getElementById("blue-score").innerHTML=this.saved_scores.blue_score,document.getElementById("red-score").innerHTML=this.saved_scores.red_score;else{var t={blue_score:0,red_score:0};console.log("initScores",t),this._setScores(t),this.saved_scores=JSON.parse(localStorage.getItem("scores"))}}},{key:"_updateScoreBlue",value:function(){this.saved_scores.blue_score=this.saved_scores.blue_score+1,document.getElementById("blue-score").innerHTML=this.saved_scores.blue_score,this._setScores(this.saved_scores)}},{key:"_updateScoreRed",value:function(){this.saved_scores.red_score=this.saved_scores.red_score+1,document.getElementById("red-score").innerHTML=this.saved_scores.red_score,this._setScores(this.saved_scores)}},{key:"_setScores",value:function(t){localStorage.setItem("scores",JSON.stringify(t))}}]),t}(),Z=function(){function t(){i()(this,t),this.ArrayFieldValues=[],this.ArraySlotVacancy=[],this.ArrayWinX=[],this.ArrayWinY=[],this.maxChipRow=2*z.GAME_CONFIG.win_condition-1,this.PlayerTurn,this.FieldsVacant}return s()(t,[{key:"_initLogic",value:function(){this._fillArrayFieldValues(),this._fillArraySlotVacancy(),this._fillArrayWin(),this.PlayerTurn=1,this.FieldsVacant=z.GAME_CONFIG.board_height*z.GAME_CONFIG.board_height,this.GameOver=!1}},{key:"_fillArrayFieldValues",value:function(){var t,e;for(t=0;t<z.GAME_CONFIG.board_width;t+=1)for(this.ArrayFieldValues[t]=[],e=0;e<z.GAME_CONFIG.board_height;e+=1)this.ArrayFieldValues[t][e]=0}},{key:"_fillArraySlotVacancy",value:function(){var t;for(t=0;t<z.GAME_CONFIG.board_width;t+=1)this.ArraySlotVacancy[t]=z.GAME_CONFIG.board_height}},{key:"_fillArrayWin",value:function(){var t;for(t=0;t<this.maxChipRow;t+=1)this.ArrayWinX[t]=-1,this.ArrayWinY[t]=-1}},{key:"_winGame",value:function(){this.GameOver=!0}},{key:"_checkTie",value:function(){return this.FieldsVacant<1}},{key:"_checkWin",value:function(t,e){var r,n,i,o,s,a,u,h,l,c=!1,d=z.GAME_CONFIG.win_condition,f=d-1;for(this.ArrayWinX[f]=t,this.ArrayWinY[f]=e,r=0;r<z.GAME_CONFIG.win_condition;r+=1){switch(s=1,a=!0,u=!0,r){case 0:n=1,i=0;break;case 1:n=1,i=1;break;case 2:n=1,i=-1;break;case 3:n=0,i=1}for(o=1;o<d;o+=1)a&&(h=t+o*n,l=e+o*i,this._isIndexValid(h,"x")&&this._isIndexValid(l,"y")&&this.ArrayFieldValues[h][l]===this.PlayerTurn?(s+=1,this.ArrayWinX[f+o]=h,this.ArrayWinY[f+o]=l):a=!1),u&&(h=t-o*n,l=e-o*i,this._isIndexValid(h,"x")&&this._isIndexValid(l,"y")&&this.ArrayFieldValues[h][l]===this.PlayerTurn?(s+=1,this.ArrayWinX[f-o]=h,this.ArrayWinY[f-o]=l):u=!1);if(s>=d){c=!0;break}}return c||this._fillArrayWin(),c}},{key:"_isIndexValid",value:function(t,e){var r;switch(e){case"x":r=z.GAME_CONFIG.board_width;break;case"y":r=z.GAME_CONFIG.board_height}return t>-1&&t<r}},{key:"_isSlotOccupied",value:function(t){return this.ArraySlotVacancy[t]<1}}]),t}();new(function(){function t(){var e=this;i()(this,t),this._domContainer=document.getElementById("game-block"),this._ScoreManager=new K,PIXI.loader.add([Object.values(z.IMAGES)]).load(function(){return e._start()})}return s()(t,[{key:"_start",value:function(){var t=this;this._initCanvas(),this._Logic=new Z,this._scene(),requestAnimationFrame(function(){return t._loop()})}},{key:"_initCanvas",value:function(){this.renderer=new PIXI.CanvasRenderer(this._getCanvasSize().canvas_width,this._getCanvasSize().canvas_height,{antialias:!1,transparent:!1,resolution:1}),this.renderer.backgroundColor=1313820,this._domContainer.appendChild(this.renderer.view),this._Controls=new q(this.renderer)}},{key:"_initStage",value:function(){this._container=new PIXI.Container,this.resources=PIXI.loader.resources,this._initBoard(),this._initMessages(),this._initPreview()}},{key:"_initBoard",value:function(){var t,e,r,n,i=this.resources[z.IMAGES.board_block].texture;for(this.slotContainer=new PIXI.Container,t=0;t<z.GAME_CONFIG.board_width;t+=1){for(r=new PIXI.Container,this._interactive(r,!1,void 0),e=0;e<z.GAME_CONFIG.board_height;e+=1)(n=new PIXI.Sprite(i)).x=z.GAME_CONFIG.board_size*t,n.y=z.GAME_CONFIG.board_size*e,r.addChild(n);this.slotContainer.addChild(r)}this._container.addChild(this.slotContainer),this._container.setChildIndex(this.slotContainer,0),this.chipContainer=new PIXI.Container,this._container.addChild(this.chipContainer)}},{key:"_initMessages",value:function(){var t=this.resources[z.IMAGES.message_board].texture,e=this.resources[z.IMAGES.try_again_blue].texture,r=this.resources[z.IMAGES.btn_replay].texture,n=this._toCenter(t);this.sprMessage=this._toCenter(e),this.rectBtnReplay=new PIXI.Rectangle(0,0,r.width,z.GRAPHICS.btn_height),r.frame=this.rectBtnReplay,this.sprBtnReplay=this._toCenter(r),this.sprBtnReplay.y+=z.GRAPHICS.replay_btn_offset,this.messageContainer=new PIXI.Container,this.messageContainer.addChild(n),this.messageContainer.addChild(this.sprMessage),this.messageContainer.addChild(this.sprBtnReplay),this.messageContainer.visible=!1,this._container.addChild(this.messageContainer)}},{key:"_initPreview",value:function(){var t=this.resources[z.IMAGES.arrow].texture,e=this.resources[z.IMAGES.chip_blue_shadow].texture;this.rectArrow=new PIXI.Rectangle(0,z.GAME_CONFIG.board_size,z.GAME_CONFIG.board_size,z.GAME_CONFIG.board_size),t.frame=this.rectArrow,this.sprArrow=new PIXI.Sprite(t),this.sprShadow=new PIXI.Sprite(e),this.sprShadow.y=(z.GAME_CONFIG.board_height-1)*z.GAME_CONFIG.board_size,this.arrowContainer=new PIXI.Container,this.arrowContainer.addChild(this.sprArrow),this.arrowContainer.addChild(this.sprShadow),this.arrowContainer.setChildIndex(this.sprShadow,0),this._container.addChild(this.arrowContainer)}},{key:"_toCenter",value:function(t){var e=new PIXI.Sprite(t);return e.anchor.set(.5,.5),e.position.set(.5*this._getCanvasSize().canvas_width,.5*this._getCanvasSize().canvas_height),e}},{key:"_getCanvasSize",value:function(){return{canvas_height:z.GAME_CONFIG.board_height*z.GAME_CONFIG.board_size,canvas_width:z.GAME_CONFIG.board_width*z.GAME_CONFIG.board_size}}},{key:"_interactive",value:function(t,e,r){var n=this;if(t.interactive=!0,t.buttonMode=!0,e)switch(r){case"replay":t.on("pointerdown",function(){return n.onClickReplay()})}else t.on("pointerover",function(){return n._onHover()}),t.on("pointerdown",function(){return n._onClick()})}},{key:"_unInteractive",value:function(t){t.interactive=!1,t.buttonMode=!1}},{key:"_onHover",value:function(){this._Controls._selectedSlot=this._mouseSelection(),this._Controls.AllowInput&&this._feedbackSelection()}},{key:"_onClick",value:function(){this._hardInput()}},{key:"_hardInput",value:function(){this._Controls.AllowInput&&(this._Controls.setPlayerInput(!1),this._checkInputValid(this._Controls._selectedSlot))}},{key:"_checkInputValid",value:function(t){this._Logic._isSlotOccupied(t)?this._invalidInput():this._validInput(t)}},{key:"_invalidInput",value:function(){this._feedbackTryAgain()}},{key:"_validInput",value:function(t){this._Logic.ArraySlotVacancy[t]-=1;var e=this._Logic.ArraySlotVacancy[t];this._Logic.FieldsVacant-=1,this._Logic.ArrayFieldValues[t][e]=this._Logic.PlayerTurn,this._Logic._checkWin(t,e)?this._Logic._winGame():this._Logic._checkTie()?this._tieGame():this._nextTurn(),this._feedbackInput(t,e)}},{key:"_mouseSelection",value:function(){if(this.isMouseInsideCanvas())return Math.floor(this._Controls.MousePos.x/z.GAME_CONFIG.board_size)}},{key:"isMouseInsideCanvas",value:function(){return this._Controls.MousePos.x<this._getCanvasSize().canvas_width&&this._Controls.MousePos.x>-1&&this._Controls.MousePos.y<this._getCanvasSize().canvas_height&&this._Controls.MousePos.y>-1}},{key:"_loop",value:function(){var t=this;requestAnimationFrame(function(){return t._loop()}),this.renderer.render(this._container)}},{key:"_feedbackTryAgain",value:function(){var t,e,r=this,n=0;switch(this._Logic.PlayerTurn){case 1:t=z.IMAGES.try_again_blue;break;case 2:t=z.IMAGES.try_again_red}this.sprMessage.texture=this.resources[t].texture,this.messageContainer.visible=!0,this.sprBtnReplay.visible=!1,e=setInterval(function(){n===z.GRAPHICS.message_time&&(r.messageContainer.visible=!1,r._Controls.setPlayerInput(!0),r._feedbackInputAllowed(),clearInterval(e)),n+=1},z.GRAPHICS.frame_rate)}},{key:"_feedbackInput",value:function(t,e){var r,n=this,i=2;r=setInterval(function(){i<4?(n.rectArrow.y=i*z.GAME_CONFIG.board_size,n.sprArrow.texture.frame=n.rectArrow,i+=1):(n._feedbackInputAllowed(),n._feedbackDrop(t,e),clearInterval(r))},z.GRAPHICS.frame_rate)}},{key:"_feedbackDrop",value:function(t,e){var r,n,i,o,s=this,a=this._Logic.ArrayFieldValues[t][e],u=new PIXI.Rectangle(0,0,z.GAME_CONFIG.board_size,z.GAME_CONFIG.board_size),h=!0,l=0;switch(a){case 1:r=z.IMAGES.chip_blue_drop;break;case 2:r=z.IMAGES.chip_red_drop}n=this.resources[r].texture,(i=new PIXI.Sprite(n)).texture.frame=u,i.x=z.GAME_CONFIG.board_size*t,i.y=0,this.chipContainer.addChild(i),o=setInterval(function(){h?h=!1:l+=.5,l<e?(u.y===2*z.GAME_CONFIG.board_size&&(u.y=0),u.y+=z.GAME_CONFIG.board_size):(u.x=z.GAME_CONFIG.board_size,u.y=0,s._feedbackImpact(i,u,a),clearInterval(o)),i.y=l*z.GAME_CONFIG.board_size,i.texture.frame=u},z.GRAPHICS.frame_rate)}},{key:"_feedbackImpact",value:function(t,e,r){var n,i,o=this,s=0;switch(r){case 1:n=z.IMAGES.chip_blue;break;case 2:n=z.IMAGES.chip_red}e.x=z.GAME_CONFIG.board_size,e.y=0,t.texture.frame=e,i=setInterval(function(){(s+=1)<3?(e.y=s*z.GAME_CONFIG.board_size,t.texture.frame=e):(t.texture=o.resources[n].texture,e.x=0,e.y=0,o._feedbackWin(r),clearInterval(i))},z.GRAPHICS.frame_rate)}},{key:"_feedbackWin",value:function(t){var e,r,n,i,o,s=this,a=new PIXI.Rectangle(0,0,z.GAME_CONFIG.board_size,z.GAME_CONFIG.board_size),u=0,h=0,l=6*this._Logic.maxChipRow;switch(t){case 1:e=z.IMAGES.chip_blue_win;break;case 2:e=z.IMAGES.chip_red_win}r=this.resources[e].texture,(n=new PIXI.Sprite(r)).texture.frame=a,n.visible=!1,this._Logic.GameOver&&this.chipContainer.addChild(n),i=setInterval(function(){u<z.GRAPHICS.impact_delay?u+=1:s._Logic.GameOver?h<l?(a.y=h%6*z.GAME_CONFIG.board_size,n.texture.frame=a,o=Math.floor(h/6),h%6==0&&(n.x=s._Logic.ArrayWinX[o]*z.GAME_CONFIG.board_size,n.y=s._Logic.ArrayWinY[o]*z.GAME_CONFIG.board_size,n.visible=!0),-1===s._Logic.ArrayWinX[o]?h+=6:h+=1):(n.visible=!1,s._feedbackGameOver(),clearInterval(i)):(s._Controls.setPlayerInput(!0),s._feedbackInputAllowed(),clearInterval(i))},z.GRAPHICS.frame_rate)}},{key:"_feedbackGameOver",value:function(){var t,e,r,n,i,o,s=this,a=2*z.GAME_CONFIG.board_size,u=new PIXI.Rectangle(0,0,a,a),h=!0,l=!1,c=!0,d=0,f=0;switch(this._Logic.PlayerTurn){case 0:t=z.IMAGES.result_tie,h=!1;break;case 1:t=z.IMAGES.result_blue,e=z.IMAGES.rocket_blue,this._ScoreManager._updateScoreBlue();break;case 2:t=z.IMAGES.result_red,e=z.IMAGES.rocket_red,this._ScoreManager._updateScoreRed()}this.sprMessage.texture=this.resources[t].texture,this._noBoardInteractivity(),this._interactive(this.sprBtnReplay,!0,"replay"),this.sprBtnReplay.visible=!0,h&&(r=this.resources[e].texture,(n=new PIXI.Sprite(r)).texture.frame=u,n.y=z.GAME_CONFIG.board_height*z.GAME_CONFIG.board_size,this._container.addChild(n)),o=setInterval(function(){d<z.GRAPHICS.result_delay?d+=1:(c&&(s.messageContainer.visible=!0,c=!1),h&&(f%8==0?(u.x=0,n.x=Math.floor(Math.random()*(z.GAME_CONFIG.board_width-1))*z.GAME_CONFIG.board_size,i=Math.floor(Math.random()*(z.GAME_CONFIG.board_height-1))+2,n.y=z.GAME_CONFIG.board_height*z.GAME_CONFIG.board_size):f%8==1?(l=!0,i-=.5,n.y-=.5*z.GAME_CONFIG.board_size,0===u.y?u.y=a:u.y=0,0===i&&(l=!1)):f%4==0&&(u.x=a),l||(u.y=f%4*a,f+=1),n.texture.frame=u),s._Logic.GameOver&&h||clearInterval(o))},z.GRAPHICS.frame_rate)}},{key:"_noBoardInteractivity",value:function(){for(var t=0;t<z.GAME_CONFIG.board_width;t+=1)this._unInteractive(this.slotContainer.children[t])}},{key:"_feedbackInputAllowed",value:function(){this._Controls.AllowInput?(this._feedbackSelection(),this.arrowContainer.visible=!0):this.arrowContainer.visible=!1}},{key:"_nextTurn",value:function(){var t=this._Logic.PlayerTurn+1;t>z.GAME_CONFIG.num_players&&(t=1),this._Logic.PlayerTurn=t}},{key:"_scene",value:function(){this._Controls._fireControls(),this._Logic._initLogic(),this._initStage()}},{key:"_feedbackSelection",value:function(){var t,e;switch(this._Logic.PlayerTurn){case 1:t=0,e=z.IMAGES.chip_blue_shadow;break;case 2:t=z.GAME_CONFIG.board_size,e=z.IMAGES.chip_red_shadow}this.rectArrow.x=t,this._Logic._isSlotOccupied(this._Controls._selectedSlot)?this.rectArrow.y=0:this.rectArrow.y=z.GAME_CONFIG.board_size,this.sprArrow.texture.frame=this.rectArrow,this.sprShadow.texture=this.resources[e].texture,this.arrowContainer.x=this._Controls._selectedSlot*z.GAME_CONFIG.board_size,this.sprShadow.y=(this._Logic.ArraySlotVacancy[this._Controls._selectedSlot]-1)*z.GAME_CONFIG.board_size}},{key:"onClickReplay",value:function(){this._feedbackReplay()}},{key:"_feedbackReplay",value:function(){var t=this,e=0,r=setInterval(function(){e===z.GRAPHICS.btn_delay&&(t._scene(),clearInterval(r)),e+=1},z.GRAPHICS.frame_rate);this.rectBtnReplay.y=2*z.GRAPHICS.btn_height,this.sprBtnReplay.texture.frame=this.rectBtnReplay}}]),t}())}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvaW1nL2Zhdmljb24uaWNvIiwid2VicGFjazovLy8uL2Fzc2V0cy9pbWcvYm9hcmRfYmxvY2sucG5nIiwid2VicGFjazovLy8uL2Fzc2V0cy9pbWcvYXJyb3cucG5nIiwid2VicGFjazovLy8uL2Fzc2V0cy9pbWcvcmVzdWx0X3JlZC5wbmciLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2ltZy9yZXN1bHRfYmx1ZS5wbmciLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2ltZy9yZXN1bHRfdGllLnBuZyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvaW1nL2NoaXBfcmVkLnBuZyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvaW1nL2NoaXBfYmx1ZS5wbmciLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2ltZy9jaGlwX3JlZF9kcm9wLnBuZyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvaW1nL2NoaXBfYmx1ZV9kcm9wLnBuZyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvaW1nL2NoaXBfcmVkX3dpbi5wbmciLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2ltZy9jaGlwX2JsdWVfd2luLnBuZyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvaW1nL2NoaXBfcmVkX3NoYWRvdy5wbmciLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2ltZy9jaGlwX2JsdWVfc2hhZG93LnBuZyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvaW1nL21lc3NhZ2VfYm9hcmQucG5nIiwid2VicGFjazovLy8uL2Fzc2V0cy9pbWcvdHJ5X2FnYWluX3JlZC5wbmciLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2ltZy90cnlfYWdhaW5fYmx1ZS5wbmciLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2ltZy9yb2NrZXRfcmVkLnBuZyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvaW1nL3JvY2tldF9ibHVlLnBuZyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvaW1nL2J0bl9yZXBsYXkucG5nIiwid2VicGFjazovLy8uL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9waXhpLmpzL2Rpc3QvcGl4aS5taW4uanM/NWYxNiIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3NjcmlwdC1sb2FkZXIvYWRkU2NyaXB0LmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9kaXN0L3BpeGkubWluLmpzIiwid2VicGFjazovLy8uL2Fzc2V0cy9qcy9Db25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2pzL0NvbnRyb2xzLmpzIiwid2VicGFjazovLy8uL2Fzc2V0cy9qcy9TY29yZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2pzL0xvZ2ljLmpzIiwid2VicGFjazovLy8uL2Fzc2V0cy9qcy9hcHAuanMiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2pzL0dhbWUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInNyYyIsImxvZyIsImVycm9yIiwiY29uc29sZSIsImV4ZWNTY3JpcHQiLCJhdHRhY2hFdmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmFsIiwiQ29uZmlnIiwiQ09OVEFJTkVSIiwiSU1BR0VTIiwiZmF2aWNvbiIsImJvYXJkX2Jsb2NrIiwiYXJyb3ciLCJyZXN1bHRfcmVkIiwicmVzdWx0X2JsdWUiLCJyZXN1bHRfdGllIiwiY2hpcF9yZWQiLCJjaGlwX2JsdWUiLCJjaGlwX3JlZF9kcm9wIiwiY2hpcF9ibHVlX2Ryb3AiLCJjaGlwX3JlZF93aW4iLCJjaGlwX2JsdWVfd2luIiwiY2hpcF9yZWRfc2hhZG93IiwiY2hpcF9ibHVlX3NoYWRvdyIsIm1lc3NhZ2VfYm9hcmQiLCJ0cnlfYWdhaW5fcmVkIiwidHJ5X2FnYWluX2JsdWUiLCJyb2NrZXRfcmVkIiwicm9ja2V0X2JsdWUiLCJidG5fcmVwbGF5IiwiR0FNRV9DT05GSUciLCJudW1fcGxheWVycyIsImJvYXJkX3dpZHRoIiwiYm9hcmRfaGVpZ2h0Iiwid2luX2NvbmRpdGlvbiIsImJvYXJkX3NpemUiLCJiYWNrZ3JvdW5kX2NvbG9yIiwiR1JBUEhJQ1MiLCJmcmFtZV9yYXRlIiwicmVwbGF5X2J0bl9vZmZzZXQiLCJidG5faGVpZ2h0IiwiYnRuX2RlbGF5IiwibWVzc2FnZV90aW1lIiwiaW1wYWN0X2RlbGF5IiwicmVzdWx0X2RlbGF5IiwiQ29udHJvbHMiLCJyZW5kZXJlciIsImNsYXNzQ2FsbENoZWNrX2RlZmF1bHQiLCJ0aGlzIiwiX3NlbGVjdGVkU2xvdCIsInNldFBsYXllcklucHV0IiwiX2FkZE1vdXNlTGlzdGVuZXIiLCJwbGF5ZXJJbnB1dCIsIkFsbG93SW5wdXQiLCJNb3VzZVBvcyIsInBsdWdpbnMiLCJpbnRlcmFjdGlvbiIsIm1vdXNlIiwiZ2xvYmFsIiwiU2NvcmVNYW5hZ2VyIiwic2F2ZWRfc2NvcmVzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIl9pbml0U2NvcmVzIiwiSlNPTiIsInBhcnNlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImJsdWVfc2NvcmUiLCJyZWRfc2NvcmUiLCJpbml0U2NvcmVzIiwiX3NldFNjb3JlcyIsInNldFNjb3JlcyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJMb2dpYyIsIkFycmF5RmllbGRWYWx1ZXMiLCJBcnJheVNsb3RWYWNhbmN5IiwiQXJyYXlXaW5YIiwiQXJyYXlXaW5ZIiwibWF4Q2hpcFJvdyIsIlBsYXllclR1cm4iLCJGaWVsZHNWYWNhbnQiLCJfZmlsbEFycmF5RmllbGRWYWx1ZXMiLCJfZmlsbEFycmF5U2xvdFZhY2FuY3kiLCJfZmlsbEFycmF5V2luIiwiR2FtZU92ZXIiLCJqIiwidngiLCJ2eSIsImRpcmVjdGlvbiIsImR4IiwiZHkiLCJjb3VudGVyIiwicG9zaXRpdmVDb3VudCIsIm5lZ2F0aXZlQ291bnQiLCJjaGVja1giLCJjaGVja1kiLCJ3aW5Db25kRnVsZmlsbGVkIiwibWF4TGVuZ3RoIiwiYXJyYXlTdGFydCIsIl9pc0luZGV4VmFsaWQiLCJJbmRleCIsIkF4aXMiLCJjb21wIiwiU2xvdEluZGV4IiwiR2FtZSIsIl90aGlzIiwiX2RvbUNvbnRhaW5lciIsIl9TY29yZU1hbmFnZXIiLCJQSVhJIiwibG9hZGVyIiwiYWRkIiwidmFsdWVzIiwibG9hZCIsIl9zdGFydCIsIl90aGlzMiIsIl9pbml0Q2FudmFzIiwiX0xvZ2ljIiwiX3NjZW5lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiX2xvb3AiLCJDYW52YXNSZW5kZXJlciIsIl9nZXRDYW52YXNTaXplIiwiY2FudmFzX3dpZHRoIiwiY2FudmFzX2hlaWdodCIsImFudGlhbGlhcyIsInRyYW5zcGFyZW50IiwicmVzb2x1dGlvbiIsImJhY2tncm91bmRDb2xvciIsImFwcGVuZENoaWxkIiwidmlldyIsIl9Db250cm9scyIsIl9jb250YWluZXIiLCJDb250YWluZXIiLCJyZXNvdXJjZXMiLCJfaW5pdEJvYXJkIiwiX2luaXRNZXNzYWdlcyIsIl9pbml0UHJldmlldyIsInNsb3QiLCJyZW5kZXJCYWNrZ3JvdW5kIiwiYmFja2dyb3VuZEJvYXJkIiwidGV4dHVyZSIsInNsb3RDb250YWluZXIiLCJfaW50ZXJhY3RpdmUiLCJ1bmRlZmluZWQiLCJTcHJpdGUiLCJ4IiwieSIsImFkZENoaWxkIiwic2V0Q2hpbGRJbmRleCIsImNoaXBDb250YWluZXIiLCJ0ZXhCb2FyZCIsInRleE1lc3NhZ2UiLCJ0ZXhCdG5SZXBsYXkiLCJzcHJCb2FyZCIsIl90b0NlbnRlciIsInNwck1lc3NhZ2UiLCJyZWN0QnRuUmVwbGF5IiwiUmVjdGFuZ2xlIiwid2lkdGgiLCJmcmFtZSIsInNwckJ0blJlcGxheSIsIm1lc3NhZ2VDb250YWluZXIiLCJ2aXNpYmxlIiwidGV4QXJyb3ciLCJ0ZXhTaGFkb3ciLCJyZWN0QXJyb3ciLCJzcHJBcnJvdyIsInNwclNoYWRvdyIsImFycm93Q29udGFpbmVyIiwiblRleCIsInNwciIsImFuY2hvciIsInNldCIsInBvc2l0aW9uIiwiZGlzcE9iaiIsImlzQnV0dG9uIiwiYnV0dG9uVmFsdWUiLCJfdGhpczMiLCJpbnRlcmFjdGl2ZSIsImJ1dHRvbk1vZGUiLCJvbiIsIm9uQ2xpY2tSZXBsYXkiLCJfb25Ib3ZlciIsIl9vbkNsaWNrIiwiX21vdXNlU2VsZWN0aW9uIiwiX2ZlZWRiYWNrU2VsZWN0aW9uIiwiX2hhcmRJbnB1dCIsIl9jaGVja0lucHV0VmFsaWQiLCJfaXNTbG90T2NjdXBpZWQiLCJfaW52YWxpZElucHV0IiwiX3ZhbGlkSW5wdXQiLCJfZmVlZGJhY2tUcnlBZ2FpbiIsIlNsb3RGaWVsZCIsIl9jaGVja1dpbiIsIl93aW5HYW1lIiwiX2NoZWNrVGllIiwiX3RpZUdhbWUiLCJfbmV4dFR1cm4iLCJfZmVlZGJhY2tJbnB1dCIsImlzTW91c2VJbnNpZGVDYW52YXMiLCJNYXRoIiwiZmxvb3IiLCJfdGhpczQiLCJyZW5kZXIiLCJpbWdLZXkiLCJzaG93QW5kSGlkZSIsIl90aGlzNSIsInNob3dDb3VudGVyIiwic2V0SW50ZXJ2YWwiLCJfZmVlZGJhY2tJbnB1dEFsbG93ZWQiLCJjbGVhckludGVydmFsIiwiYW5pbUlucHV0IiwiX3RoaXM2IiwiYW5pbUxvb3BDb3VudGVyIiwiX2ZlZWRiYWNrRHJvcCIsInRleENoaXAiLCJzcHJDaGlwIiwiYW5pbURyb3AiLCJfdGhpczciLCJjaGlwQ29sb3IiLCJyZWN0IiwiZmlyc3RMb29wIiwiX2ZlZWRiYWNrSW1wYWN0IiwiYW5pbUltcGFjdCIsIl90aGlzOCIsIl9mZWVkYmFja1dpbiIsInRleEVmZmVjdCIsInNwckVmZmVjdCIsImFuaW1XaW4iLCJhbmltUnVuQ291bnQiLCJfdGhpczkiLCJkZWxheUNvdW50ZXIiLCJhbmltQ291bnRlclN0b3AiLCJfZmVlZGJhY2tHYW1lT3ZlciIsImltZ0tleU1lc3NhZ2UiLCJpbWdLZXlSb2NrZXQiLCJ0ZXhSb2NrZXQiLCJzcHJSb2NrZXQiLCJyb2NrZXREZXN0IiwiYW5pbVJvY2tldCIsIl90aGlzMTAiLCJ0ZXhTaXplUm9ja2V0Iiwicm9ja2V0cyIsInRyYXZlbGluZyIsImFuaW1EZWxheUNvdW50ZXIiLCJfdXBkYXRlU2NvcmVCbHVlIiwiX3VwZGF0ZVNjb3JlUmVkIiwiX25vQm9hcmRJbnRlcmFjdGl2aXR5IiwicmFuZG9tIiwiX3VuSW50ZXJhY3RpdmUiLCJjaGlsZHJlbiIsIm5leHRQbGF5ZXIiLCJfZmlyZUNvbnRyb2xzIiwiX2luaXRMb2dpYyIsIl9pbml0U3RhZ2UiLCJyZWN0UG9zWCIsIl9mZWVkYmFja1JlcGxheSIsIl90aGlzMTEiLCJyZXBsYXlEZWxheSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBekIsRUFBQTZCLEVBQUEsU0FBQTFCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQXFCLFdBQ0EsV0FBMkIsT0FBQXJCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFpQixFQUFBQyxHQUFzRCxPQUFBakIsT0FBQWtCLFVBQUFDLGVBQUExQixLQUFBdUIsRUFBQUMsSUFHdEQvQixFQUFBa0MsRUFBQSxpQkFJQWxDLElBQUFtQyxFQUFBLG9CQzVFQWhDLEVBQUFELFFBTkEsU0FBQWtDLEVBQUFDLEdBQ0EsS0FBQUQsYUFBQUMsR0FDQSxVQUFBQyxVQUFBLHFEQ0ZBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsUUFBQXJDLEVBQUEsRUFBaUJBLEVBQUFxQyxFQUFBQyxPQUFrQnRDLElBQUEsQ0FDbkMsSUFBQXVDLEVBQUFGLEVBQUFyQyxHQUNBdUMsRUFBQTNCLFdBQUEyQixFQUFBM0IsYUFBQSxFQUNBMkIsRUFBQUMsY0FBQSxFQUNBLFVBQUFELE1BQUFFLFVBQUEsR0FDQS9CLE9BQUFDLGVBQUF5QixFQUFBRyxFQUFBaEIsSUFBQWdCLElBVUF4QyxFQUFBRCxRQU5BLFNBQUFtQyxFQUFBUyxFQUFBQyxHQUdBLE9BRkFELEdBQUFQLEVBQUFGLEVBQUFMLFVBQUFjLEdBQ0FDLEdBQUFSLEVBQUFGLEVBQUFVLEdBQ0FWLG9CQ2JBbEMsRUFBQUQsUUFBaUJGLEVBQUFrQyxFQUF1QiwwQ0NBeEMvQixFQUFBRCxRQUFpQkYsRUFBQWtDLEVBQXVCLDhDQ0F4Qy9CLEVBQUFELFFBQWlCRixFQUFBa0MsRUFBdUIsd0NDQXhDL0IsRUFBQUQsUUFBaUJGLEVBQUFrQyxFQUF1Qiw2Q0NBeEMvQixFQUFBRCxRQUFpQkYsRUFBQWtDLEVBQXVCLDhDQ0F4Qy9CLEVBQUFELFFBQWlCRixFQUFBa0MsRUFBdUIsNkNDQXhDL0IsRUFBQUQsUUFBaUJGLEVBQUFrQyxFQUF1QiwyQ0NBeEMvQixFQUFBRCxRQUFpQkYsRUFBQWtDLEVBQXVCLDRDQ0F4Qy9CLEVBQUFELFFBQWlCRixFQUFBa0MsRUFBdUIsZ0RDQXhDL0IsRUFBQUQsUUFBaUJGLEVBQUFrQyxFQUF1QixpRENBeEMvQixFQUFBRCxRQUFpQkYsRUFBQWtDLEVBQXVCLCtDQ0F4Qy9CLEVBQUFELFFBQWlCRixFQUFBa0MsRUFBdUIsZ0RDQXhDL0IsRUFBQUQsUUFBaUJGLEVBQUFrQyxFQUF1QixrRENBeEMvQixFQUFBRCxRQUFpQkYsRUFBQWtDLEVBQXVCLG1EQ0F4Qy9CLEVBQUFELFFBQWlCRixFQUFBa0MsRUFBdUIsZ0RDQXhDL0IsRUFBQUQsUUFBaUJGLEVBQUFrQyxFQUF1QixnRENBeEMvQixFQUFBRCxRQUFpQkYsRUFBQWtDLEVBQXVCLGlEQ0F4Qy9CLEVBQUFELFFBQWlCRixFQUFBa0MsRUFBdUIsNkNDQXhDL0IsRUFBQUQsUUFBaUJGLEVBQUFrQyxFQUF1Qiw4Q0NBeEMvQixFQUFBRCxRQUFpQkYsRUFBQWtDLEVBQXVCLDZDQ0F4Qy9CLEVBQUFELFFBQWlCRixFQUFBa0MsRUFBdUIsOEJDQXhDbEMsRUFBUSxHQUFSQSxDQUE2R0EsRUFBUSxvQkNJckhHLEVBQUFELFFBQUEsU0FBQThDLEdBQ0EsU0FBQUMsRUFBQUMsR0FDQSxvQkFBQUMsVUFDQUEsUUFBQUQsT0FBQUMsUUFBQUYsS0FBQSxrQkFBQUMsR0FRQSxJQUNBLG9CQUFBRSxZQUpBLG9CQUFBQyxhQUFBLG9CQUFBQyxpQkFLQUYsV0FBQUosR0FDRyxvQkFBQU8sS0FDSEEsS0FBQWhELEtBQUEsS0FBQXlDLEdBRUFDLEVBQUEseUNBRUUsTUFBQUMsR0FDRkQsRUFBQUMsb0JDeEJBL0MsRUFBQUQsUUFBQSx3MTVhQ3dCZXNELEVBQUEsQ0FDWEMsVUFBVyxjQUNYQyxPQUFRLENBQ0pDLFlBQ0FDLGdCQUNBQyxVQUNBQyxlQUNBQyxnQkFDQUMsZUFDQUMsYUFDQUMsY0FDQUMsa0JBQ0FDLG1CQUNBQyxpQkFDQUMsa0JBQ0FDLG9CQUNBQyxxQkFDQUMsa0JBQ0FDLGtCQUNBQyxtQkFDQUMsZUFDQUMsZ0JBQ0FDLGdCQUVKQyxZQUFhLENBQ1RDLFlBQWEsRUFDYkMsWUFBYSxFQUNiQyxhQUFjLEVBQ2RDLGNBQWUsRUFDZkMsV0FBWSxHQUNaQyxpQkFBa0IsU0FFdEJDLFNBQVUsQ0FDTkMsV0FBWSxHQUNaQyxrQkFBbUIsR0FDbkJDLFdBQVksR0FDWkMsVUFBVyxFQUNYQyxhQUFjLEVBQ2RDLGFBQWMsRUFDZEMsYUFBYyxLQy9EREMsYUFDakIsU0FBQUEsRUFBWUMsR0FBVUMsSUFBQUMsS0FBQUgsR0FDbEJHLEtBQUtDLGNBQWdCLEVBQ3JCRCxLQUFLRixTQUFXQSxzREFHaEJFLEtBQUtFLGdCQUFlLEdBQ3BCRixLQUFLRywyREFJTUMsR0FDWEosS0FBS0ssV0FBYUQsOENBR2xCSixLQUFLTSxTQUFXTixLQUFLRixTQUFTUyxRQUFRQyxZQUFZQyxNQUFNQyxnQkNmM0NDLGFBQ2pCLFNBQUFBLElBQWNaLElBQUFDLEtBQUFXLEdBQ1ZYLEtBQUtZLGFBQWVDLGFBQWFDLFFBQVEsVUFDekM1RCxRQUFRRixJQUFJZ0QsS0FBS1ksY0FDakJaLEtBQUtlLGdFQUlMLEdBQUlmLEtBQUtZLGFBQ0xaLEtBQUtZLGFBQWVJLEtBQUtDLE1BQU1qQixLQUFLWSxjQUNwQ00sU0FBU0MsZUFBZSxjQUFjQyxVQUFZcEIsS0FBS1ksYUFBYVMsV0FDcEVILFNBQVNDLGVBQWUsYUFBYUMsVUFBWXBCLEtBQUtZLGFBQWFVLGNBRWxFLENBQ0QsSUFBSUMsRUFBYSxDQUNiRixXQUFjLEVBQ2RDLFVBQWEsR0FFakJwRSxRQUFRRixJQUFJLGFBQWN1RSxHQUMxQnZCLEtBQUt3QixXQUFXRCxHQUNoQnZCLEtBQUtZLGFBQWVJLEtBQUtDLE1BQU1KLGFBQWFDLFFBQVEsdURBT3hEZCxLQUFLWSxhQUFhUyxXQUFhckIsS0FBS1ksYUFBYVMsV0FBYSxFQUM5REgsU0FBU0MsZUFBZSxjQUFjQyxVQUFZcEIsS0FBS1ksYUFBYVMsV0FDcEVyQixLQUFLd0IsV0FBV3hCLEtBQUtZLHdEQUlyQlosS0FBS1ksYUFBYVUsVUFBWXRCLEtBQUtZLGFBQWFVLFVBQVksRUFDNURKLFNBQVNDLGVBQWUsYUFBYUMsVUFBWXBCLEtBQUtZLGFBQWFVLFVBQ25FdEIsS0FBS3dCLFdBQVd4QixLQUFLWSxpREFJZGEsR0FDUFosYUFBYWEsUUFBUSxTQUFVVixLQUFLVyxVQUFVRixhQ3ZDakNHLGFBQ2pCLFNBQUFBLElBQWM3QixJQUFBQyxLQUFBNEIsR0FDVjVCLEtBQUs2QixpQkFBbUIsR0FDeEI3QixLQUFLOEIsaUJBQW1CLEdBQ3hCOUIsS0FBSytCLFVBQVksR0FDakIvQixLQUFLZ0MsVUFBWSxHQUNqQmhDLEtBQUtpQyxXQUFjLEVBQUkxRSxFQUFPdUIsWUFBWUksY0FBaUIsRUFDM0RjLEtBQUtrQyxXQUNMbEMsS0FBS21DLDhEQUlMbkMsS0FBS29DLHdCQUNMcEMsS0FBS3FDLHdCQUNMckMsS0FBS3NDLGdCQUNMdEMsS0FBS2tDLFdBQWEsRUFDbEJsQyxLQUFLbUMsYUFBZTVFLEVBQU91QixZQUFZRyxhQUFlMUIsRUFBT3VCLFlBQVlHLGFBQ3pFZSxLQUFLdUMsVUFBVyxrREFJaEIsSUFBSXBJLEVBQ0FxSSxFQUNKLElBQUtySSxFQUFJLEVBQUdBLEVBQUlvRCxFQUFPdUIsWUFBWUUsWUFBYTdFLEdBQUssRUFFakQsSUFEQTZGLEtBQUs2QixpQkFBaUIxSCxHQUFLLEdBQ3RCcUksRUFBSSxFQUFHQSxFQUFJakYsRUFBT3VCLFlBQVlHLGFBQWN1RCxHQUFLLEVBQ2xEeEMsS0FBSzZCLGlCQUFpQjFILEdBQUdxSSxHQUFLLGtEQU10QyxJQUFJckksRUFDSixJQUFLQSxFQUFJLEVBQUdBLEVBQUlvRCxFQUFPdUIsWUFBWUUsWUFBYTdFLEdBQUssRUFDakQ2RixLQUFLOEIsaUJBQWlCM0gsR0FBS29ELEVBQU91QixZQUFZRyxxREFNbEQsSUFBSTlFLEVBQ0osSUFBS0EsRUFBSSxFQUFHQSxFQUFJNkYsS0FBS2lDLFdBQVk5SCxHQUFLLEVBQ2xDNkYsS0FBSytCLFVBQVU1SCxJQUFNLEVBQ3JCNkYsS0FBS2dDLFVBQVU3SCxJQUFNLHFDQUt6QjZGLEtBQUt1QyxVQUFXLHNDQUloQixPQUFJdkMsS0FBS21DLGFBQWUsb0NBT2xCTSxFQUFJQyxHQUNWLElBRUlDLEVBQ0FDLEVBQ0FDLEVBQ0ExSSxFQUNBMkksRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFWQUMsR0FBbUIsRUFDbkJDLEVBQVk3RixFQUFPdUIsWUFBWUksY0FVL0JtRSxFQUFhRCxFQUFZLEVBSTdCLElBSEFwRCxLQUFLK0IsVUFBVXNCLEdBQWNaLEVBQzdCekMsS0FBS2dDLFVBQVVxQixHQUFjWCxFQUV4QkMsRUFBWSxFQUFHQSxFQUFZcEYsRUFBT3VCLFlBQVlJLGNBQWV5RCxHQUFhLEVBQUcsQ0FLOUUsT0FKQUcsRUFBVSxFQUNWQyxHQUFnQixFQUNoQkMsR0FBZ0IsRUFFUkwsR0FDSixLQUFLLEVBQ0RDLEVBQUssRUFDTEMsRUFBSyxFQUNMLE1BQ0osS0FBSyxFQUNERCxFQUFLLEVBQ0xDLEVBQUssRUFDTCxNQUNKLEtBQUssRUFDREQsRUFBSyxFQUNMQyxHQUFNLEVBQ04sTUFDSixLQUFLLEVBQ0RELEVBQUssRUFDTEMsRUFBSyxFQUliLElBQUsxSSxFQUFJLEVBQUdBLEVBQUlpSixFQUFXakosR0FBSyxFQUN4QjRJLElBQ0FFLEVBQVNSLEVBQUt0SSxFQUFJeUksRUFDbEJNLEVBQVNSLEVBQUt2SSxFQUFJMEksRUFDZDdDLEtBQUtzRCxjQUFjTCxFQUFRLE1BQVFqRCxLQUFLc0QsY0FBY0osRUFBUSxNQUFRbEQsS0FBSzZCLGlCQUFpQm9CLEdBQVFDLEtBQVlsRCxLQUFLa0MsWUFDckhZLEdBQVcsRUFDWDlDLEtBQUsrQixVQUFVc0IsRUFBYWxKLEdBQUs4SSxFQUNqQ2pELEtBQUtnQyxVQUFVcUIsRUFBYWxKLEdBQUsrSSxHQUVqQ0gsR0FBZ0IsR0FHcEJDLElBQ0FDLEVBQVNSLEVBQUt0SSxFQUFJeUksRUFDbEJNLEVBQVNSLEVBQUt2SSxFQUFJMEksRUFDZDdDLEtBQUtzRCxjQUFjTCxFQUFRLE1BQVFqRCxLQUFLc0QsY0FBY0osRUFBUSxNQUFRbEQsS0FBSzZCLGlCQUFpQm9CLEdBQVFDLEtBQVlsRCxLQUFLa0MsWUFDckhZLEdBQVcsRUFDWDlDLEtBQUsrQixVQUFVc0IsRUFBYWxKLEdBQUs4SSxFQUNqQ2pELEtBQUtnQyxVQUFVcUIsRUFBYWxKLEdBQUsrSSxHQUVqQ0YsR0FBZ0IsR0FLNUIsR0FBSUYsR0FBV00sRUFBVyxDQUN0QkQsR0FBbUIsRUFDbkIsT0FNUixPQUhLQSxHQUNEbkQsS0FBS3NDLGdCQUVGYSx3Q0FJR0ksRUFBT0MsR0FDakIsSUFBSUMsRUFFSixPQUFRRCxHQUNKLElBQUssSUFDREMsRUFBT2xHLEVBQU91QixZQUFZRSxZQUMxQixNQUNKLElBQUssSUFDRHlFLEVBQU9sRyxFQUFPdUIsWUFBWUcsYUFJbEMsT0FEV3NFLEdBQVMsR0FBS0EsRUFBUUUsMENBSXJCQyxHQUNaLE9BQUkxRCxLQUFLOEIsaUJBQWlCNEIsR0FBYSxXQ3JKdkMsZUNDSixTQUFBQyxJQUFjLElBQUFDLEVBQUE1RCxLQUFBRCxJQUFBQyxLQUFBMkQsR0FDVjNELEtBQUs2RCxjQUFnQjNDLFNBQVNDLGVBQWUsY0FDN0NuQixLQUFLOEQsY0FBZ0IsSUFBSW5ELEVBQ3pCb0QsS0FBS0MsT0FDQUMsSUFBSSxDQUFDcEosT0FBT3FKLE9BQU8zRyxFQUFPRSxVQUMxQjBHLEtBQUssa0JBQU1QLEVBQUtRLHdEQUdoQixJQUFBQyxFQUFBckUsS0FDTEEsS0FBS3NFLGNBQ0x0RSxLQUFLdUUsT0FBUyxJQUFJM0MsRUFDbEI1QixLQUFLd0UsU0FDTEMsc0JBQXNCLGtCQUFNSixFQUFLSyxnREFLakMxRSxLQUFLRixTQUFXLElBQUlpRSxLQUFLWSxlQUFlM0UsS0FBSzRFLGlCQUFpQkMsYUFBYzdFLEtBQUs0RSxpQkFBaUJFLGNBQWUsQ0FDN0dDLFdBQVcsRUFDWEMsYUFBYSxFQUNiQyxXQUFZLElBRWhCakYsS0FBS0YsU0FBU29GLGdCQUFrQixRQUNoQ2xGLEtBQUs2RCxjQUFjc0IsWUFBWW5GLEtBQUtGLFNBQVNzRixNQUM3Q3BGLEtBQUtxRixVQUFZLElBQUl4RixFQUFTRyxLQUFLRiwrQ0FJbkNFLEtBQUtzRixXQUFhLElBQUl2QixLQUFLd0IsVUFDM0J2RixLQUFLd0YsVUFBWXpCLEtBQUtDLE9BQU93QixVQUM3QnhGLEtBQUt5RixhQUNMekYsS0FBSzBGLGdCQUNMMUYsS0FBSzJGLG9EQUlMLElBQUl4TCxFQUNBcUksRUFDQW9ELEVBRUFDLEVBREFDLEVBQWtCOUYsS0FBS3dGLFVBQVVqSSxFQUFPRSxPQUFPRSxhQUFhb0ksUUFHaEUsSUFEQS9GLEtBQUtnRyxjQUFnQixJQUFJakMsS0FBS3dCLFVBQ3pCcEwsRUFBSSxFQUFHQSxFQUFJb0QsRUFBT3VCLFlBQVlFLFlBQWE3RSxHQUFLLEVBQUcsQ0FHcEQsSUFGQXlMLEVBQU8sSUFBSTdCLEtBQUt3QixVQUNoQnZGLEtBQUtpRyxhQUFhTCxHQUFNLE9BQU9NLEdBQzFCMUQsRUFBSSxFQUFHQSxFQUFJakYsRUFBT3VCLFlBQVlHLGFBQWN1RCxHQUFLLEdBQ2xEcUQsRUFBbUIsSUFBSTlCLEtBQUtvQyxPQUFPTCxJQUNsQk0sRUFBSTdJLEVBQU91QixZQUFZSyxXQUFhaEYsRUFDckQwTCxFQUFpQlEsRUFBSTlJLEVBQU91QixZQUFZSyxXQUFhcUQsRUFDckRvRCxFQUFLVSxTQUFTVCxHQUVsQjdGLEtBQUtnRyxjQUFjTSxTQUFTVixHQUVoQzVGLEtBQUtzRixXQUFXZ0IsU0FBU3RHLEtBQUtnRyxlQUM5QmhHLEtBQUtzRixXQUFXaUIsY0FBY3ZHLEtBQUtnRyxjQUFlLEdBQ2xEaEcsS0FBS3dHLGNBQWdCLElBQUl6QyxLQUFLd0IsVUFDOUJ2RixLQUFLc0YsV0FBV2dCLFNBQVN0RyxLQUFLd0csdURBSzlCLElBQUlDLEVBQVd6RyxLQUFLd0YsVUFBVWpJLEVBQU9FLE9BQU9lLGVBQWV1SCxRQUN2RFcsRUFBYTFHLEtBQUt3RixVQUFVakksRUFBT0UsT0FBT2lCLGdCQUFnQnFILFFBQzFEWSxFQUFlM0csS0FBS3dGLFVBQVVqSSxFQUFPRSxPQUFPb0IsWUFBWWtILFFBQ3hEYSxFQUFXNUcsS0FBSzZHLFVBQVVKLEdBQzlCekcsS0FBSzhHLFdBQWE5RyxLQUFLNkcsVUFBVUgsR0FDakMxRyxLQUFLK0csY0FBZ0IsSUFBSWhELEtBQUtpRCxVQUFVLEVBQUcsRUFBR0wsRUFBYU0sTUFBTzFKLEVBQU84QixTQUFTRyxZQUNsRm1ILEVBQWFPLE1BQVFsSCxLQUFLK0csY0FDMUIvRyxLQUFLbUgsYUFBZW5ILEtBQUs2RyxVQUFVRixHQUNuQzNHLEtBQUttSCxhQUFhZCxHQUFLOUksRUFBTzhCLFNBQVNFLGtCQUN2Q1MsS0FBS29ILGlCQUFtQixJQUFJckQsS0FBS3dCLFVBQ2pDdkYsS0FBS29ILGlCQUFpQmQsU0FBU00sR0FDL0I1RyxLQUFLb0gsaUJBQWlCZCxTQUFTdEcsS0FBSzhHLFlBQ3BDOUcsS0FBS29ILGlCQUFpQmQsU0FBU3RHLEtBQUttSCxjQUNwQ25ILEtBQUtvSCxpQkFBaUJDLFNBQVUsRUFDaENySCxLQUFLc0YsV0FBV2dCLFNBQVN0RyxLQUFLb0gseURBSTlCLElBQUlFLEVBQVd0SCxLQUFLd0YsVUFBVWpJLEVBQU9FLE9BQU9HLE9BQU9tSSxRQUMvQ3dCLEVBQVl2SCxLQUFLd0YsVUFBVWpJLEVBQU9FLE9BQU9jLGtCQUFrQndILFFBQy9EL0YsS0FBS3dILFVBQVksSUFBSXpELEtBQUtpRCxVQUFVLEVBQUd6SixFQUFPdUIsWUFBWUssV0FBWTVCLEVBQU91QixZQUFZSyxXQUFZNUIsRUFBT3VCLFlBQVlLLFlBQ3hIbUksRUFBU0osTUFBUWxILEtBQUt3SCxVQUN0QnhILEtBQUt5SCxTQUFXLElBQUkxRCxLQUFLb0MsT0FBT21CLEdBQ2hDdEgsS0FBSzBILFVBQVksSUFBSTNELEtBQUtvQyxPQUFPb0IsR0FDakN2SCxLQUFLMEgsVUFBVXJCLEdBQUs5SSxFQUFPdUIsWUFBWUcsYUFBZSxHQUFLMUIsRUFBT3VCLFlBQVlLLFdBQzlFYSxLQUFLMkgsZUFBaUIsSUFBSTVELEtBQUt3QixVQUMvQnZGLEtBQUsySCxlQUFlckIsU0FBU3RHLEtBQUt5SCxVQUNsQ3pILEtBQUsySCxlQUFlckIsU0FBU3RHLEtBQUswSCxXQUNsQzFILEtBQUsySCxlQUFlcEIsY0FBY3ZHLEtBQUswSCxVQUFXLEdBQ2xEMUgsS0FBS3NGLFdBQVdnQixTQUFTdEcsS0FBSzJILGtEQUd4QkMsR0FDTixJQUFJQyxFQUFNLElBQUk5RCxLQUFLb0MsT0FBT3lCLEdBRzFCLE9BRkFDLEVBQUlDLE9BQU9DLElBQUksR0FBSyxJQUNwQkYsRUFBSUcsU0FBU0QsSUFBSSxHQUFNL0gsS0FBSzRFLGlCQUFpQkMsYUFBYyxHQUFNN0UsS0FBSzRFLGlCQUFpQkUsZUFDaEYrQywyQ0FJUCxNQUFPLENBQ0gvQyxjQUFldkgsRUFBT3VCLFlBQVlHLGFBQWUxQixFQUFPdUIsWUFBWUssV0FDcEUwRixhQUFjdEgsRUFBT3VCLFlBQVlFLFlBQWN6QixFQUFPdUIsWUFBWUssaURBSTdEOEksRUFBU0MsRUFBVUMsR0FBYSxJQUFBQyxFQUFBcEksS0FHekMsR0FGQWlJLEVBQVFJLGFBQWMsRUFDdEJKLEVBQVFLLFlBQWEsRUFDakJKLEVBQ0EsT0FBUUMsR0FDSixJQUFLLFNBQ0RGLEVBQVFNLEdBQUcsY0FBZSxrQkFBTUgsRUFBS0ksdUJBSzdDUCxFQUFRTSxHQUFHLGNBQWUsa0JBQU1ILEVBQUtLLGFBQ3JDUixFQUFRTSxHQUFHLGNBQWUsa0JBQU1ILEVBQUtNLG9EQUk5QlQsR0FDWEEsRUFBUUksYUFBYyxFQUN0QkosRUFBUUssWUFBYSxxQ0FHckJ0SSxLQUFLcUYsVUFBVXBGLGNBQWdCRCxLQUFLMkksa0JBQ2hDM0ksS0FBS3FGLFVBQVVoRixZQUNmTCxLQUFLNEksd0RBS1Q1SSxLQUFLNkksa0RBSUQ3SSxLQUFLcUYsVUFBVWhGLGFBQ2ZMLEtBQUtxRixVQUFVbkYsZ0JBQWUsR0FDOUJGLEtBQUs4SSxpQkFBaUI5SSxLQUFLcUYsVUFBVXBGLHlEQUk1QnlELEdBQ1QxRCxLQUFLdUUsT0FBT3dFLGdCQUFnQnJGLEdBQzVCMUQsS0FBS2dKLGdCQUVMaEosS0FBS2lKLFlBQVl2RiwyQ0FJckIxRCxLQUFLa0osd0RBR0d4RixHQUNSMUQsS0FBS3VFLE9BQU96QyxpQkFBaUI0QixJQUFjLEVBQzNDLElBQUl5RixFQUFZbkosS0FBS3VFLE9BQU96QyxpQkFBaUI0QixHQUM3QzFELEtBQUt1RSxPQUFPcEMsY0FBZ0IsRUFDNUJuQyxLQUFLdUUsT0FBTzFDLGlCQUFpQjZCLEdBQVd5RixHQUFhbkosS0FBS3VFLE9BQU9yQyxXQUM1RGxDLEtBQUt1RSxPQUFPNkUsVUFBVTFGLEVBQVd5RixHQU9sQ25KLEtBQUt1RSxPQUFPOEUsV0FOUHJKLEtBQUt1RSxPQUFPK0UsWUFHYnRKLEtBQUt1SixXQUZMdkosS0FBS3dKLFlBT2J4SixLQUFLeUosZUFBZS9GLEVBQVd5Riw2Q0FJL0IsR0FBSW5KLEtBQUswSixzQkFDTCxPQUFPQyxLQUFLQyxNQUFNNUosS0FBS3FGLFVBQVUvRSxTQUFTOEYsRUFBSTdJLEVBQU91QixZQUFZSywwREFLckUsT0FBSWEsS0FBS3FGLFVBQVUvRSxTQUFTOEYsRUFBSXBHLEtBQUs0RSxpQkFBaUJDLGNBQWdCN0UsS0FBS3FGLFVBQVUvRSxTQUFTOEYsR0FBSyxHQUFLcEcsS0FBS3FGLFVBQVUvRSxTQUFTK0YsRUFBSXJHLEtBQUs0RSxpQkFBaUJFLGVBQWlCOUUsS0FBS3FGLFVBQVUvRSxTQUFTK0YsR0FBSyxrQ0FRcE0sSUFBQXdELEVBQUE3SixLQUNKeUUsc0JBQXNCLGtCQUFNb0YsRUFBS25GLFVBQ2pDMUUsS0FBS0YsU0FBU2dLLE9BQU85SixLQUFLc0Ysd0RBR1YsSUFDWnlFLEVBQ0FDLEVBRllDLEVBQUFqSyxLQUdaa0ssRUFBYyxFQUNsQixPQUFRbEssS0FBS3VFLE9BQU9yQyxZQUNoQixLQUFLLEVBQ0Q2SCxFQUFTeE0sRUFBT0UsT0FBT2lCLGVBQ3ZCLE1BQ0osS0FBSyxFQUNEcUwsRUFBU3hNLEVBQU9FLE9BQU9nQixjQUcvQnVCLEtBQUs4RyxXQUFXZixRQUFVL0YsS0FBS3dGLFVBQVV1RSxHQUFRaEUsUUFDakQvRixLQUFLb0gsaUJBQWlCQyxTQUFVLEVBQ2hDckgsS0FBS21ILGFBQWFFLFNBQVUsRUFFNUIyQyxFQUFjRyxZQUFZLFdBQ2xCRCxJQUFnQjNNLEVBQU84QixTQUFTSyxlQUNoQ3VLLEVBQUs3QyxpQkFBaUJDLFNBQVUsRUFDaEM0QyxFQUFLNUUsVUFBVW5GLGdCQUFlLEdBQzlCK0osRUFBS0csd0JBQ0xDLGNBQWNMLElBRWxCRSxHQUFlLEdBQ2hCM00sRUFBTzhCLFNBQVNDLG1EQUdSbUQsRUFBSUMsR0FBSSxJQUNmNEgsRUFEZUMsRUFBQXZLLEtBRWZ3SyxFQUFrQixFQUV0QkYsRUFBWUgsWUFBWSxXQUNoQkssRUFGYyxHQUdkRCxFQUFLL0MsVUFBVW5CLEVBQUltRSxFQUFrQmpOLEVBQU91QixZQUFZSyxXQUN4RG9MLEVBQUs5QyxTQUFTMUIsUUFBUW1CLE1BQVFxRCxFQUFLL0MsVUFDbkNnRCxHQUFtQixJQUVuQkQsRUFBS0gsd0JBQ0xHLEVBQUtFLGNBQWNoSSxFQUFJQyxHQUN2QjJILGNBQWNDLEtBRW5CL00sRUFBTzhCLFNBQVNDLGtEQUlUbUQsRUFBSUMsR0FBSSxJQUNkcUgsRUFHQVcsRUFDQUMsRUFFQUMsRUFQY0MsRUFBQTdLLEtBRWQ4SyxFQUFZOUssS0FBS3VFLE9BQU8xQyxpQkFBaUJZLEdBQUlDLEdBQzdDcUksRUFBTyxJQUFJaEgsS0FBS2lELFVBQVUsRUFBRyxFQUFHekosRUFBT3VCLFlBQVlLLFdBQVk1QixFQUFPdUIsWUFBWUssWUFHbEY2TCxHQUFZLEVBRVpSLEVBQWtCLEVBQ3RCLE9BQVFNLEdBQ0osS0FBSyxFQUNEZixFQUFTeE0sRUFBT0UsT0FBT1UsZUFDdkIsTUFDSixLQUFLLEVBQ0Q0TCxFQUFTeE0sRUFBT0UsT0FBT1MsY0FHL0J3TSxFQUFVMUssS0FBS3dGLFVBQVV1RSxHQUFRaEUsU0FDakM0RSxFQUFVLElBQUk1RyxLQUFLb0MsT0FBT3VFLElBQ2xCM0UsUUFBUW1CLE1BQVE2RCxFQUN4QkosRUFBUXZFLEVBQUk3SSxFQUFPdUIsWUFBWUssV0FBYXNELEVBQzVDa0ksRUFBUXRFLEVBQUksRUFDWnJHLEtBQUt3RyxjQUFjRixTQUFTcUUsR0FFNUJDLEVBQVdULFlBQVksV0FDZmEsRUFDQUEsR0FBWSxFQUVaUixHQUFtQixHQUVuQkEsRUFBa0I5SCxHQUNkcUksRUFBSzFFLElBQXNDLEVBQWhDOUksRUFBT3VCLFlBQVlLLGFBQzlCNEwsRUFBSzFFLEVBQUksR0FFYjBFLEVBQUsxRSxHQUFLOUksRUFBT3VCLFlBQVlLLGFBRTdCNEwsRUFBSzNFLEVBQUk3SSxFQUFPdUIsWUFBWUssV0FDNUI0TCxFQUFLMUUsRUFBSSxFQUNUd0UsRUFBS0ksZ0JBQWdCTixFQUFTSSxFQUFNRCxHQUNwQ1QsY0FBY08sSUFFbEJELEVBQVF0RSxFQUFJbUUsRUFBa0JqTixFQUFPdUIsWUFBWUssV0FDakR3TCxFQUFRNUUsUUFBUW1CLE1BQVE2RCxHQUN6QnhOLEVBQU84QixTQUFTQyxvREFHUHFMLEVBQVNJLEVBQU1ELEdBQVcsSUFDbENmLEVBQ0FtQixFQUZrQ0MsRUFBQW5MLEtBR2xDd0ssRUFBa0IsRUFFdEIsT0FBUU0sR0FDSixLQUFLLEVBQ0RmLEVBQVN4TSxFQUFPRSxPQUFPUSxVQUN2QixNQUNKLEtBQUssRUFDRDhMLEVBQVN4TSxFQUFPRSxPQUFPTyxTQUcvQitNLEVBQUszRSxFQUFJN0ksRUFBT3VCLFlBQVlLLFdBQzVCNEwsRUFBSzFFLEVBQUksRUFDVHNFLEVBQVE1RSxRQUFRbUIsTUFBUTZELEVBRXhCRyxFQUFhZixZQUFZLFlBQ3JCSyxHQUFtQixHQWRELEdBZ0JkTyxFQUFLMUUsRUFBSW1FLEVBQWtCak4sRUFBT3VCLFlBQVlLLFdBQzlDd0wsRUFBUTVFLFFBQVFtQixNQUFRNkQsSUFFeEJKLEVBQVE1RSxRQUFVb0YsRUFBSzNGLFVBQVV1RSxHQUFRaEUsUUFDekNnRixFQUFLM0UsRUFBSSxFQUNUMkUsRUFBSzFFLEVBQUksRUFDVDhFLEVBQUtDLGFBQWFOLEdBQ2xCVCxjQUFjYSxLQUVuQjNOLEVBQU84QixTQUFTQyxpREFHVndMLEdBQVcsSUFDaEJmLEVBQ0FzQixFQUNBQyxFQUVBQyxFQUlBQyxFQVRnQkMsRUFBQXpMLEtBSWhCK0ssRUFBTyxJQUFJaEgsS0FBS2lELFVBQVUsRUFBRyxFQUFHekosRUFBT3VCLFlBQVlLLFdBQVk1QixFQUFPdUIsWUFBWUssWUFFbEZ1TSxFQUFlLEVBQ2ZsQixFQUFrQixFQUdsQm1CLEVBRmlCLEVBRWtCM0wsS0FBS3VFLE9BQU90QyxXQUNuRCxPQUFRNkksR0FDSixLQUFLLEVBQ0RmLEVBQVN4TSxFQUFPRSxPQUFPWSxjQUN2QixNQUNKLEtBQUssRUFDRDBMLEVBQVN4TSxFQUFPRSxPQUFPVyxhQUcvQmlOLEVBQVlyTCxLQUFLd0YsVUFBVXVFLEdBQVFoRSxTQUNuQ3VGLEVBQVksSUFBSXZILEtBQUtvQyxPQUFPa0YsSUFDbEJ0RixRQUFRbUIsTUFBUTZELEVBQzFCTyxFQUFVakUsU0FBVSxFQUNoQnJILEtBQUt1RSxPQUFPaEMsVUFDWnZDLEtBQUt3RyxjQUFjRixTQUFTZ0YsR0FHaENDLEVBQVVwQixZQUFZLFdBQ2R1QixFQUFlbk8sRUFBTzhCLFNBQVNNLGFBQy9CK0wsR0FBZ0IsRUFFWkQsRUFBS2xILE9BQU9oQyxTQUNSaUksRUFBa0JtQixHQUNsQlosRUFBSzFFLEVBQUttRSxFQXpCTCxFQXlCeUNqTixFQUFPdUIsWUFBWUssV0FDakVtTSxFQUFVdkYsUUFBUW1CLE1BQVE2RCxFQUMxQlMsRUFBZTdCLEtBQUtDLE1BQU1ZLEVBM0JyQixHQTRCREEsRUE1QkMsR0E0Qm9DLElBQ3JDYyxFQUFVbEYsRUFBSXFGLEVBQUtsSCxPQUFPeEMsVUFBVXlKLEdBQWdCak8sRUFBT3VCLFlBQVlLLFdBQ3ZFbU0sRUFBVWpGLEVBQUlvRixFQUFLbEgsT0FBT3ZDLFVBQVV3SixHQUFnQmpPLEVBQU91QixZQUFZSyxXQUN2RW1NLEVBQVVqRSxTQUFVLElBRXFCLElBQXpDb0UsRUFBS2xILE9BQU94QyxVQUFVeUosR0FDdEJoQixHQWxDQyxFQW9DREEsR0FBbUIsSUFHdkJjLEVBQVVqRSxTQUFVLEVBQ3BCb0UsRUFBS0csb0JBQ0x2QixjQUFja0IsS0FHbEJFLEVBQUtwRyxVQUFVbkYsZ0JBQWUsR0FDOUJ1TCxFQUFLckIsd0JBQ0xDLGNBQWNrQixLQUd2QmhPLEVBQU84QixTQUFTQyx3REFHSCxJQUNadU0sRUFDQUMsRUFHQUMsRUFDQUMsRUFDQUMsRUFNQUMsRUFiWUMsRUFBQW5NLEtBR1pvTSxFQUFnRCxFQUFoQzdPLEVBQU91QixZQUFZSyxXQUNuQzRMLEVBQU8sSUFBSWhILEtBQUtpRCxVQUFVLEVBQUcsRUFBR29GLEVBQWVBLEdBSy9DQyxHQUFVLEVBQ1ZDLEdBQVksRUFDWnRCLEdBQVksRUFHWnVCLEVBQW1CLEVBQ25CL0IsRUFBa0IsRUFDdEIsT0FBUXhLLEtBQUt1RSxPQUFPckMsWUFDaEIsS0FBSyxFQUNEMkosRUFBZ0J0TyxFQUFPRSxPQUFPTSxXQUM5QnNPLEdBQVUsRUFDVixNQUNKLEtBQUssRUFDRFIsRUFBZ0J0TyxFQUFPRSxPQUFPSyxZQUM5QmdPLEVBQWV2TyxFQUFPRSxPQUFPbUIsWUFDN0JvQixLQUFLOEQsY0FBYzBJLG1CQUNuQixNQUNKLEtBQUssRUFDRFgsRUFBZ0J0TyxFQUFPRSxPQUFPSSxXQUM5QmlPLEVBQWV2TyxFQUFPRSxPQUFPa0IsV0FDN0JxQixLQUFLOEQsY0FBYzJJLGtCQUczQnpNLEtBQUs4RyxXQUFXZixRQUFVL0YsS0FBS3dGLFVBQVVxRyxHQUFlOUYsUUFDeEQvRixLQUFLME0sd0JBQ0wxTSxLQUFLaUcsYUFBYWpHLEtBQUttSCxjQUFjLEVBQU0sVUFDM0NuSCxLQUFLbUgsYUFBYUUsU0FBVSxFQUN4QmdGLElBQ0FOLEVBQVkvTCxLQUFLd0YsVUFBVXNHLEdBQWMvRixTQUN6Q2lHLEVBQVksSUFBSWpJLEtBQUtvQyxPQUFPNEYsSUFDbEJoRyxRQUFRbUIsTUFBUTZELEVBQzFCaUIsRUFBVTNGLEVBQUk5SSxFQUFPdUIsWUFBWUcsYUFBZTFCLEVBQU91QixZQUFZSyxXQUNuRWEsS0FBS3NGLFdBQVdnQixTQUFTMEYsSUFHN0JFLEVBQWEvQixZQUFZLFdBQ2pCb0MsRUFBbUJoUCxFQUFPOEIsU0FBU08sYUFDbkMyTSxHQUFvQixHQUVoQnZCLElBQ0FtQixFQUFLL0UsaUJBQWlCQyxTQUFVLEVBQ2hDMkQsR0FBWSxHQUVacUIsSUFDSTdCLEVBekNLLEdBeUNnQyxHQUNyQ08sRUFBSzNFLEVBQUksRUFDVDRGLEVBQVU1RixFQUFJdUQsS0FBS0MsTUFBTUQsS0FBS2dELFVBQVlwUCxFQUFPdUIsWUFBWUUsWUFBYyxJQUFNekIsRUFBT3VCLFlBQVlLLFdBQ3BHOE0sRUFBYXRDLEtBQUtDLE1BQU1ELEtBQUtnRCxVQUFZcFAsRUFBT3VCLFlBQVlHLGFBQWUsSUFBTSxFQUNqRitNLEVBQVUzRixFQUFJOUksRUFBT3VCLFlBQVlHLGFBQWUxQixFQUFPdUIsWUFBWUssWUFDNURxTCxFQTlDRixHQThDdUMsR0FDNUM4QixHQUFZLEVBQ1pMLEdBcERFLEdBcURGRCxFQUFVM0YsR0FyRFIsR0FxRDJCOUksRUFBT3VCLFlBQVlLLFdBQ2pDLElBQVg0TCxFQUFLMUUsRUFDTDBFLEVBQUsxRSxFQUFJK0YsRUFFVHJCLEVBQUsxRSxFQUFJLEVBRU0sSUFBZjRGLElBQ0FLLEdBQVksSUFFVDlCLEVBQWUsR0FBOEIsSUFDcERPLEVBQUszRSxFQUFJZ0csR0FFUkUsSUFDRHZCLEVBQUsxRSxFQUFLbUUsRUFBZSxFQUE2QjRCLEVBQ3RENUIsR0FBbUIsR0FFdkJ3QixFQUFVakcsUUFBUW1CLE1BQVE2RCxHQUV6Qm9CLEVBQUs1SCxPQUFPaEMsVUFBYThKLEdBQzFCaEMsY0FBYzZCLEtBR3ZCM08sRUFBTzhCLFNBQVNDLDREQUluQixJQUFLLElBQUluRixFQUFJLEVBQUdBLEVBQUlvRCxFQUFPdUIsWUFBWUUsWUFBYTdFLEdBQUssRUFDckQ2RixLQUFLNE0sZUFBZTVNLEtBQUtnRyxjQUFjNkcsU0FBUzFTLG9EQUtoRDZGLEtBQUtxRixVQUFVaEYsWUFDZkwsS0FBSzRJLHFCQUNMNUksS0FBSzJILGVBQWVOLFNBQVUsR0FFOUJySCxLQUFLMkgsZUFBZU4sU0FBVSxzQ0FLbEMsSUFBSXlGLEVBQWE5TSxLQUFLdUUsT0FBT3JDLFdBQWEsRUFDdEM0SyxFQUFhdlAsRUFBT3VCLFlBQVlDLGNBQ2hDK04sRUFBYSxHQUVqQjlNLEtBQUt1RSxPQUFPckMsV0FBYTRLLG1DQUl6QjlNLEtBQUtxRixVQUFVMEgsZ0JBQ2YvTSxLQUFLdUUsT0FBT3lJLGFBQ1poTixLQUFLaU4sMERBSUwsSUFBSUMsRUFDQW5ELEVBQ0osT0FBUS9KLEtBQUt1RSxPQUFPckMsWUFDaEIsS0FBSyxFQUNEZ0wsRUFBVyxFQUNYbkQsRUFBU3hNLEVBQU9FLE9BQU9jLGlCQUN2QixNQUNKLEtBQUssRUFDRDJPLEVBQVczUCxFQUFPdUIsWUFBWUssV0FDOUI0SyxFQUFTeE0sRUFBT0UsT0FBT2EsZ0JBRy9CMEIsS0FBS3dILFVBQVVwQixFQUFJOEcsRUFDZmxOLEtBQUt1RSxPQUFPd0UsZ0JBQWdCL0ksS0FBS3FGLFVBQVVwRixlQUMzQ0QsS0FBS3dILFVBQVVuQixFQUFJLEVBRW5CckcsS0FBS3dILFVBQVVuQixFQUFJOUksRUFBT3VCLFlBQVlLLFdBRTFDYSxLQUFLeUgsU0FBUzFCLFFBQVFtQixNQUFRbEgsS0FBS3dILFVBQ25DeEgsS0FBSzBILFVBQVUzQixRQUFVL0YsS0FBS3dGLFVBQVV1RSxHQUFRaEUsUUFDaEQvRixLQUFLMkgsZUFBZXZCLEVBQUlwRyxLQUFLcUYsVUFBVXBGLGNBQWdCMUMsRUFBT3VCLFlBQVlLLFdBQzFFYSxLQUFLMEgsVUFBVXJCLEdBQUtyRyxLQUFLdUUsT0FBT3pDLGlCQUFpQjlCLEtBQUtxRixVQUFVcEYsZUFBaUIsR0FBSzFDLEVBQU91QixZQUFZSyxtREFJekdhLEtBQUttTiw0REFHUyxJQUFBQyxFQUFBcE4sS0FDVjBMLEVBQWUsRUFDZjJCLEVBQWNsRCxZQUFZLFdBQ2xCdUIsSUFBaUJuTyxFQUFPOEIsU0FBU0ksWUFDakMyTixFQUFLNUksU0FDTDZGLGNBQWNnRCxJQUVsQjNCLEdBQWdCLEdBQ2pCbk8sRUFBTzhCLFNBQVNDLFlBQ3ZCVSxLQUFLK0csY0FBY1YsRUFBaUMsRUFBN0I5SSxFQUFPOEIsU0FBU0csV0FDdkNRLEtBQUttSCxhQUFhcEIsUUFBUW1CLE1BQVFsSCxLQUFLK0ciLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvY29ubmVjdC1mb3VyL1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjYpO1xuIiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY2xhc3NDYWxsQ2hlY2s7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jcmVhdGVDbGFzczsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvaW1nL2Zhdmljb24uaWNvXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXNzZXRzL2ltZy9ib2FyZF9ibG9jay5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvaW1nL2Fycm93LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9pbWcvcmVzdWx0X3JlZC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvaW1nL3Jlc3VsdF9ibHVlLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9pbWcvcmVzdWx0X3RpZS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvaW1nL2NoaXBfcmVkLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9pbWcvY2hpcF9ibHVlLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9pbWcvY2hpcF9yZWRfZHJvcC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvaW1nL2NoaXBfYmx1ZV9kcm9wLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9pbWcvY2hpcF9yZWRfd2luLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9pbWcvY2hpcF9ibHVlX3dpbi5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvaW1nL2NoaXBfcmVkX3NoYWRvdy5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvaW1nL2NoaXBfYmx1ZV9zaGFkb3cucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXNzZXRzL2ltZy9tZXNzYWdlX2JvYXJkLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9pbWcvdHJ5X2FnYWluX3JlZC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvaW1nL3RyeV9hZ2Fpbl9ibHVlLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9pbWcvcm9ja2V0X3JlZC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvaW1nL3JvY2tldF9ibHVlLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9pbWcvYnRuX3JlcGxheS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbmRleC5odG1sXCI7IiwicmVxdWlyZShcIiEhL1VzZXJzL2FuYXRvbHkvcHJvamVjdHMvc3BlY3RvcnkvdGVzdC10YXNrL2Nvbm5lY3QtZm91ci9ub2RlX21vZHVsZXMvc2NyaXB0LWxvYWRlci9hZGRTY3JpcHQuanNcIikocmVxdWlyZShcIiEhL1VzZXJzL2FuYXRvbHkvcHJvamVjdHMvc3BlY3RvcnkvdGVzdC10YXNrL2Nvbm5lY3QtZm91ci9ub2RlX21vZHVsZXMvcmF3LWxvYWRlci9pbmRleC5qcyEvVXNlcnMvYW5hdG9seS9wcm9qZWN0cy9zcGVjdG9yeS90ZXN0LXRhc2svY29ubmVjdC1mb3VyL25vZGVfbW9kdWxlcy9waXhpLmpzL2Rpc3QvcGl4aS5taW4uanNcIikpIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc3JjKSB7XG5cdGZ1bmN0aW9uIGxvZyhlcnJvcikge1xuXHRcdCh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIilcblx0XHQmJiAoY29uc29sZS5lcnJvciB8fCBjb25zb2xlLmxvZykoXCJbU2NyaXB0IExvYWRlcl1cIiwgZXJyb3IpO1xuXHR9XG5cblx0Ly8gQ2hlY2sgZm9yIElFID08IDhcblx0ZnVuY3Rpb24gaXNJRSgpIHtcblx0XHRyZXR1cm4gdHlwZW9mIGF0dGFjaEV2ZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBhZGRFdmVudExpc3RlbmVyID09PSBcInVuZGVmaW5lZFwiO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRpZiAodHlwZW9mIGV4ZWNTY3JpcHQgIT09IFwidW5kZWZpbmVkXCIgJiYgaXNJRSgpKSB7XG5cdFx0XHRleGVjU2NyaXB0KHNyYyk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgZXZhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0ZXZhbC5jYWxsKG51bGwsIHNyYyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxvZyhcIkV2YWxFcnJvcjogTm8gZXZhbCBmdW5jdGlvbiBhdmFpbGFibGVcIik7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGxvZyhlcnJvcik7XG5cdH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gXCIvKiFcXG4gKiBwaXhpLmpzIC0gdjQuOC42XFxuICogQ29tcGlsZWQgRnJpLCAxNSBGZWIgMjAxOSAxODoxNDowMCBVVENcXG4gKlxcbiAqIHBpeGkuanMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxcbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcXG4gKi9cXG4hZnVuY3Rpb24odCl7aWYoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBleHBvcnRzJiZcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZihcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciBlO2U9XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGUuUElYST10KCl9fShmdW5jdGlvbigpe3ZhciB0O3JldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLG4pe2Z1bmN0aW9uIGkocyxhKXtpZighcltzXSl7aWYoIWVbc10pe3ZhciB1PVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZ1KXJldHVybiB1KHMsITApO2lmKG8pcmV0dXJuIG8ocywhMCk7dmFyIGg9bmV3IEVycm9yKFxcXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1xcXCIrcytcXFwiJ1xcXCIpO3Rocm93IGguY29kZT1cXFwiTU9EVUxFX05PVF9GT1VORFxcXCIsaH12YXIgbD1yW3NdPXtleHBvcnRzOnt9fTtlW3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKHQpe3ZhciByPWVbc11bMV1bdF07cmV0dXJuIGkocnx8dCl9LGwsbC5leHBvcnRzLHQsZSxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBvPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylpKG5bc10pO3JldHVybiBpfXJldHVybiB0fSgpKHsxOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO1xcXCJ1c2UgcmVzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7dmFyIGU9MzI7cmV0dXJuIHQmPS10LHQmJmUtLSw2NTUzNSZ0JiYoZS09MTYpLDE2NzExOTM1JnQmJihlLT04KSwyNTI2NDUxMzUmdCYmKGUtPTQpLDg1ODk5MzQ1OSZ0JiYoZS09MiksMTQzMTY1NTc2NSZ0JiYoZS09MSksZX1yLklOVF9CSVRTPTMyLHIuSU5UX01BWD0yMTQ3NDgzNjQ3LHIuSU5UX01JTj0tMTw8MzEsci5zaWduPWZ1bmN0aW9uKHQpe3JldHVybih0PjApLSh0PDApfSxyLmFicz1mdW5jdGlvbih0KXt2YXIgZT10Pj4zMTtyZXR1cm4odF5lKS1lfSxyLm1pbj1mdW5jdGlvbih0LGUpe3JldHVybiBlXih0XmUpJi0odDxlKX0sci5tYXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdF4odF5lKSYtKHQ8ZSl9LHIuaXNQb3cyPWZ1bmN0aW9uKHQpe3JldHVybiEodCZ0LTF8fCF0KX0sci5sb2cyPWZ1bmN0aW9uKHQpe3ZhciBlLHI7cmV0dXJuIGU9KHQ+NjU1MzUpPDw0LHQ+Pj49ZSxyPSh0PjI1NSk8PDMsdD4+Pj1yLGV8PXIscj0odD4xNSk8PDIsdD4+Pj1yLGV8PXIscj0odD4zKTw8MSx0Pj4+PXIsKGV8PXIpfHQ+PjF9LHIubG9nMTA9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTFlOT85OnQ+PTFlOD84OnQ+PTFlNz83OnQ+PTFlNj82OnQ+PTFlNT81OnQ+PTFlND80OnQ+PTFlMz8zOnQ+PTEwMD8yOnQ+PTEwPzE6MH0sci5wb3BDb3VudD1mdW5jdGlvbih0KXtyZXR1cm4gdC09dD4+PjEmMTQzMTY1NTc2NSwxNjg0MzAwOSooKHQ9KDg1ODk5MzQ1OSZ0KSsodD4+PjImODU4OTkzNDU5KSkrKHQ+Pj40KSYyNTI2NDUxMzUpPj4+MjR9LHIuY291bnRUcmFpbGluZ1plcm9zPW4sci5uZXh0UG93Mj1mdW5jdGlvbih0KXtyZXR1cm4gdCs9MD09PXQsLS10LHR8PXQ+Pj4xLHR8PXQ+Pj4yLHR8PXQ+Pj40LHR8PXQ+Pj44LCh0fD10Pj4+MTYpKzF9LHIucHJldlBvdzI9ZnVuY3Rpb24odCl7cmV0dXJuIHR8PXQ+Pj4xLHR8PXQ+Pj4yLHR8PXQ+Pj40LHR8PXQ+Pj44LCh0fD10Pj4+MTYpLSh0Pj4+MSl9LHIucGFyaXR5PWZ1bmN0aW9uKHQpe3JldHVybiB0Xj10Pj4+MTYsdF49dD4+PjgsdF49dD4+PjQsMjcwMzA+Pj4odCY9MTUpJjF9O3ZhciBpPW5ldyBBcnJheSgyNTYpOyFmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPDI1NjsrK2Upe3ZhciByPWUsbj1lLGk9Nztmb3Iocj4+Pj0xO3I7cj4+Pj0xKW48PD0xLG58PTEmciwtLWk7dFtlXT1uPDxpJjI1NX19KGkpLHIucmV2ZXJzZT1mdW5jdGlvbih0KXtyZXR1cm4gaVsyNTUmdF08PDI0fGlbdD4+PjgmMjU1XTw8MTZ8aVt0Pj4+MTYmMjU1XTw8OHxpW3Q+Pj4yNCYyNTVdfSxyLmludGVybGVhdmUyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmPTY1NTM1LHQ9MTY3MTE5MzUmKHR8dDw8OCksdD0yNTI2NDUxMzUmKHR8dDw8NCksdD04NTg5OTM0NTkmKHR8dDw8MiksdD0xNDMxNjU1NzY1Jih0fHQ8PDEpLGUmPTY1NTM1LGU9MTY3MTE5MzUmKGV8ZTw8OCksZT0yNTI2NDUxMzUmKGV8ZTw8NCksZT04NTg5OTM0NTkmKGV8ZTw8MiksZT0xNDMxNjU1NzY1JihlfGU8PDEpLHR8ZTw8MX0sci5kZWludGVybGVhdmUyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9dD4+PmUmMTQzMTY1NTc2NSx0PTg1ODk5MzQ1OSYodHx0Pj4+MSksdD0yNTI2NDUxMzUmKHR8dD4+PjIpLHQ9MTY3MTE5MzUmKHR8dD4+PjQpLCh0PTY1NTM1Jih0fHQ+Pj4xNikpPDwxNj4+MTZ9LHIuaW50ZXJsZWF2ZTM9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0Jj0xMDIzLHQ9NDI3ODE5MDMzNSYodHx0PDwxNiksdD0yNTE3MTk2OTUmKHR8dDw8OCksdD0zMjcyMzU2MDM1Jih0fHQ8PDQpLHQ9MTIyNzEzMzUxMyYodHx0PDwyKSxlJj0xMDIzLGU9NDI3ODE5MDMzNSYoZXxlPDwxNiksZT0yNTE3MTk2OTUmKGV8ZTw8OCksZT0zMjcyMzU2MDM1JihlfGU8PDQpLGU9MTIyNzEzMzUxMyYoZXxlPDwyKSx0fD1lPDwxLHImPTEwMjMscj00Mjc4MTkwMzM1JihyfHI8PDE2KSxyPTI1MTcxOTY5NSYocnxyPDw4KSxyPTMyNzIzNTYwMzUmKHJ8cjw8NCkscj0xMjI3MTMzNTEzJihyfHI8PDIpLHR8cjw8Mn0sci5kZWludGVybGVhdmUzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9dD4+PmUmMTIyNzEzMzUxMyx0PTMyNzIzNTYwMzUmKHR8dD4+PjIpLHQ9MjUxNzE5Njk1Jih0fHQ+Pj40KSx0PTQyNzgxOTAzMzUmKHR8dD4+PjgpLCh0PTEwMjMmKHR8dD4+PjE2KSk8PDIyPj4yMn0sci5uZXh0Q29tYmluYXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dHx0LTE7cmV0dXJuIGUrMXwofmUmLX5lKS0xPj4+bih0KSsxfX0se31dLDI6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUscil7cj1yfHwyO3ZhciBuPWUmJmUubGVuZ3RoLG89bj9lWzBdKnI6dC5sZW5ndGgsYT1pKHQsMCxvLHIsITApLHU9W107aWYoIWF8fGEubmV4dD09PWEucHJldilyZXR1cm4gdTt2YXIgaCxsLGQsZixwLHYsZztpZihuJiYoYT1jKHQsZSxhLHIpKSx0Lmxlbmd0aD44MCpyKXtoPWQ9dFswXSxsPWY9dFsxXTtmb3IodmFyIHk9cjt5PG87eSs9cilwPXRbeV0sdj10W3krMV0scDxoJiYoaD1wKSx2PGwmJihsPXYpLHA+ZCYmKGQ9cCksdj5mJiYoZj12KTtnPU1hdGgubWF4KGQtaCxmLWwpLGc9MCE9PWc/MS9nOjB9cmV0dXJuIHMoYSx1LHIsaCxsLGcpLHV9ZnVuY3Rpb24gaSh0LGUscixuLGkpe3ZhciBvLHM7aWYoaT09PUEodCxlLHIsbik+MClmb3Iobz1lO288cjtvKz1uKXM9UChvLHRbb10sdFtvKzFdLHMpO2Vsc2UgZm9yKG89ci1uO28+PWU7by09bilzPVAobyx0W29dLHRbbysxXSxzKTtyZXR1cm4gcyYmVChzLHMubmV4dCkmJihDKHMpLHM9cy5uZXh0KSxzfWZ1bmN0aW9uIG8odCxlKXtpZighdClyZXR1cm4gdDtlfHwoZT10KTt2YXIgcixuPXQ7ZG97aWYocj0hMSxuLnN0ZWluZXJ8fCFUKG4sbi5uZXh0KSYmMCE9PXgobi5wcmV2LG4sbi5uZXh0KSluPW4ubmV4dDtlbHNle2lmKEMobiksKG49ZT1uLnByZXYpPT09bi5uZXh0KWJyZWFrO3I9ITB9fXdoaWxlKHJ8fG4hPT1lKTtyZXR1cm4gZX1mdW5jdGlvbiBzKHQsZSxyLG4saSxjLGQpe2lmKHQpeyFkJiZjJiZ2KHQsbixpLGMpO2Zvcih2YXIgZixwLGc9dDt0LnByZXYhPT10Lm5leHQ7KWlmKGY9dC5wcmV2LHA9dC5uZXh0LGM/dSh0LG4saSxjKTphKHQpKWUucHVzaChmLmkvciksZS5wdXNoKHQuaS9yKSxlLnB1c2gocC5pL3IpLEModCksdD1wLm5leHQsZz1wLm5leHQ7ZWxzZSBpZigodD1wKT09PWcpe2Q/MT09PWQ/KHQ9aCh0LGUscikscyh0LGUscixuLGksYywyKSk6Mj09PWQmJmwodCxlLHIsbixpLGMpOnMobyh0KSxlLHIsbixpLGMsMSk7YnJlYWt9fX1mdW5jdGlvbiBhKHQpe3ZhciBlPXQucHJldixyPXQsbj10Lm5leHQ7aWYoeChlLHIsbik+PTApcmV0dXJuITE7Zm9yKHZhciBpPXQubmV4dC5uZXh0O2khPT10LnByZXY7KXtpZihfKGUueCxlLnksci54LHIueSxuLngsbi55LGkueCxpLnkpJiZ4KGkucHJldixpLGkubmV4dCk+PTApcmV0dXJuITE7aT1pLm5leHR9cmV0dXJuITB9ZnVuY3Rpb24gdSh0LGUscixuKXt2YXIgaT10LnByZXYsbz10LHM9dC5uZXh0O2lmKHgoaSxvLHMpPj0wKXJldHVybiExO2Zvcih2YXIgYT1pLng8by54P2kueDxzLng/aS54OnMueDpvLng8cy54P28ueDpzLngsdT1pLnk8by55P2kueTxzLnk/aS55OnMueTpvLnk8cy55P28ueTpzLnksaD1pLng+by54P2kueD5zLng/aS54OnMueDpvLng+cy54P28ueDpzLngsbD1pLnk+by55P2kueT5zLnk/aS55OnMueTpvLnk+cy55P28ueTpzLnksYz15KGEsdSxlLHIsbiksZD15KGgsbCxlLHIsbiksZj10LnByZXZaLHA9dC5uZXh0WjtmJiZmLno+PWMmJnAmJnAuejw9ZDspe2lmKGYhPT10LnByZXYmJmYhPT10Lm5leHQmJl8oaS54LGkueSxvLngsby55LHMueCxzLnksZi54LGYueSkmJngoZi5wcmV2LGYsZi5uZXh0KT49MClyZXR1cm4hMTtpZihmPWYucHJldloscCE9PXQucHJldiYmcCE9PXQubmV4dCYmXyhpLngsaS55LG8ueCxvLnkscy54LHMueSxwLngscC55KSYmeChwLnByZXYscCxwLm5leHQpPj0wKXJldHVybiExO3A9cC5uZXh0Wn1mb3IoO2YmJmYuej49Yzspe2lmKGYhPT10LnByZXYmJmYhPT10Lm5leHQmJl8oaS54LGkueSxvLngsby55LHMueCxzLnksZi54LGYueSkmJngoZi5wcmV2LGYsZi5uZXh0KT49MClyZXR1cm4hMTtmPWYucHJldlp9Zm9yKDtwJiZwLno8PWQ7KXtpZihwIT09dC5wcmV2JiZwIT09dC5uZXh0JiZfKGkueCxpLnksby54LG8ueSxzLngscy55LHAueCxwLnkpJiZ4KHAucHJldixwLHAubmV4dCk+PTApcmV0dXJuITE7cD1wLm5leHRafXJldHVybiEwfWZ1bmN0aW9uIGgodCxlLHIpe3ZhciBuPXQ7ZG97dmFyIGk9bi5wcmV2LG89bi5uZXh0Lm5leHQ7IVQoaSxvKSYmdyhpLG4sbi5uZXh0LG8pJiZTKGksbykmJlMobyxpKSYmKGUucHVzaChpLmkvciksZS5wdXNoKG4uaS9yKSxlLnB1c2goby5pL3IpLEMobiksQyhuLm5leHQpLG49dD1vKSxuPW4ubmV4dH13aGlsZShuIT09dCk7cmV0dXJuIG59ZnVuY3Rpb24gbCh0LGUscixuLGksYSl7dmFyIHU9dDtkb3tmb3IodmFyIGg9dS5uZXh0Lm5leHQ7aCE9PXUucHJldjspe2lmKHUuaSE9PWguaSYmYih1LGgpKXt2YXIgbD1NKHUsaCk7cmV0dXJuIHU9byh1LHUubmV4dCksbD1vKGwsbC5uZXh0KSxzKHUsZSxyLG4saSxhKSx2b2lkIHMobCxlLHIsbixpLGEpfWg9aC5uZXh0fXU9dS5uZXh0fXdoaWxlKHUhPT10KX1mdW5jdGlvbiBjKHQsZSxyLG4pe3ZhciBzLGEsdSxoLGwsYz1bXTtmb3Iocz0wLGE9ZS5sZW5ndGg7czxhO3MrKyl1PWVbc10qbixoPXM8YS0xP2VbcysxXSpuOnQubGVuZ3RoLGw9aSh0LHUsaCxuLCExKSxsPT09bC5uZXh0JiYobC5zdGVpbmVyPSEwKSxjLnB1c2gobShsKSk7Zm9yKGMuc29ydChkKSxzPTA7czxjLmxlbmd0aDtzKyspZihjW3NdLHIpLHI9byhyLHIubmV4dCk7cmV0dXJuIHJ9ZnVuY3Rpb24gZCh0LGUpe3JldHVybiB0LngtZS54fWZ1bmN0aW9uIGYodCxlKXtpZihlPXAodCxlKSl7dmFyIHI9TShlLHQpO28ocixyLm5leHQpfX1mdW5jdGlvbiBwKHQsZSl7dmFyIHIsbj1lLGk9dC54LG89dC55LHM9LTEvMDtkb3tpZihvPD1uLnkmJm8+PW4ubmV4dC55JiZuLm5leHQueSE9PW4ueSl7dmFyIGE9bi54KyhvLW4ueSkqKG4ubmV4dC54LW4ueCkvKG4ubmV4dC55LW4ueSk7aWYoYTw9aSYmYT5zKXtpZihzPWEsYT09PWkpe2lmKG89PT1uLnkpcmV0dXJuIG47aWYobz09PW4ubmV4dC55KXJldHVybiBuLm5leHR9cj1uLng8bi5uZXh0Lng/bjpuLm5leHR9fW49bi5uZXh0fXdoaWxlKG4hPT1lKTtpZighcilyZXR1cm4gbnVsbDtpZihpPT09cylyZXR1cm4gci5wcmV2O3ZhciB1LGg9cixsPXIueCxjPXIueSxkPTEvMDtmb3Iobj1yLm5leHQ7biE9PWg7KWk+PW4ueCYmbi54Pj1sJiZpIT09bi54JiZfKG88Yz9pOnMsbyxsLGMsbzxjP3M6aSxvLG4ueCxuLnkpJiYoKHU9TWF0aC5hYnMoby1uLnkpLyhpLW4ueCkpPGR8fHU9PT1kJiZuLng+ci54KSYmUyhuLHQpJiYocj1uLGQ9dSksbj1uLm5leHQ7cmV0dXJuIHJ9ZnVuY3Rpb24gdih0LGUscixuKXt2YXIgaT10O2Rve251bGw9PT1pLnomJihpLno9eShpLngsaS55LGUscixuKSksaS5wcmV2Wj1pLnByZXYsaS5uZXh0Wj1pLm5leHQsaT1pLm5leHR9d2hpbGUoaSE9PXQpO2kucHJldloubmV4dFo9bnVsbCxpLnByZXZaPW51bGwsZyhpKX1mdW5jdGlvbiBnKHQpe3ZhciBlLHIsbixpLG8scyxhLHUsaD0xO2Rve2ZvcihyPXQsdD1udWxsLG89bnVsbCxzPTA7cjspe2ZvcihzKyssbj1yLGE9MCxlPTA7ZTxoJiYoYSsrLG49bi5uZXh0Wik7ZSsrKTtmb3IodT1oO2E+MHx8dT4wJiZuOykwIT09YSYmKDA9PT11fHwhbnx8ci56PD1uLnopPyhpPXIscj1yLm5leHRaLGEtLSk6KGk9bixuPW4ubmV4dFosdS0tKSxvP28ubmV4dFo9aTp0PWksaS5wcmV2Wj1vLG89aTtyPW59by5uZXh0Wj1udWxsLGgqPTJ9d2hpbGUocz4xKTtyZXR1cm4gdH1mdW5jdGlvbiB5KHQsZSxyLG4saSl7cmV0dXJuIHQ9MzI3NjcqKHQtcikqaSxlPTMyNzY3KihlLW4pKmksdD0xNjcxMTkzNSYodHx0PDw4KSx0PTI1MjY0NTEzNSYodHx0PDw0KSx0PTg1ODk5MzQ1OSYodHx0PDwyKSx0PTE0MzE2NTU3NjUmKHR8dDw8MSksZT0xNjcxMTkzNSYoZXxlPDw4KSxlPTI1MjY0NTEzNSYoZXxlPDw0KSxlPTg1ODk5MzQ1OSYoZXxlPDwyKSxlPTE0MzE2NTU3NjUmKGV8ZTw8MSksdHxlPDwxfWZ1bmN0aW9uIG0odCl7dmFyIGU9dCxyPXQ7ZG97ZS54PHIueCYmKHI9ZSksZT1lLm5leHR9d2hpbGUoZSE9PXQpO3JldHVybiByfWZ1bmN0aW9uIF8odCxlLHIsbixpLG8scyxhKXtyZXR1cm4oaS1zKSooZS1hKS0odC1zKSooby1hKT49MCYmKHQtcykqKG4tYSktKHItcykqKGUtYSk+PTAmJihyLXMpKihvLWEpLShpLXMpKihuLWEpPj0wfWZ1bmN0aW9uIGIodCxlKXtyZXR1cm4gdC5uZXh0LmkhPT1lLmkmJnQucHJldi5pIT09ZS5pJiYhRSh0LGUpJiZTKHQsZSkmJlMoZSx0KSYmTyh0LGUpfWZ1bmN0aW9uIHgodCxlLHIpe3JldHVybihlLnktdC55KSooci54LWUueCktKGUueC10LngpKihyLnktZS55KX1mdW5jdGlvbiBUKHQsZSl7cmV0dXJuIHQueD09PWUueCYmdC55PT09ZS55fWZ1bmN0aW9uIHcodCxlLHIsbil7cmV0dXJuISEoVCh0LGUpJiZUKHIsbil8fFQodCxuKSYmVChyLGUpKXx8eCh0LGUscik+MCE9eCh0LGUsbik+MCYmeChyLG4sdCk+MCE9eChyLG4sZSk+MH1mdW5jdGlvbiBFKHQsZSl7dmFyIHI9dDtkb3tpZihyLmkhPT10LmkmJnIubmV4dC5pIT09dC5pJiZyLmkhPT1lLmkmJnIubmV4dC5pIT09ZS5pJiZ3KHIsci5uZXh0LHQsZSkpcmV0dXJuITA7cj1yLm5leHR9d2hpbGUociE9PXQpO3JldHVybiExfWZ1bmN0aW9uIFModCxlKXtyZXR1cm4geCh0LnByZXYsdCx0Lm5leHQpPDA/eCh0LGUsdC5uZXh0KT49MCYmeCh0LHQucHJldixlKT49MDp4KHQsZSx0LnByZXYpPDB8fHgodCx0Lm5leHQsZSk8MH1mdW5jdGlvbiBPKHQsZSl7dmFyIHI9dCxuPSExLGk9KHQueCtlLngpLzIsbz0odC55K2UueSkvMjtkb3tyLnk+byE9ci5uZXh0Lnk+byYmci5uZXh0LnkhPT1yLnkmJmk8KHIubmV4dC54LXIueCkqKG8tci55KS8oci5uZXh0Lnktci55KStyLngmJihuPSFuKSxyPXIubmV4dH13aGlsZShyIT09dCk7cmV0dXJuIG59ZnVuY3Rpb24gTSh0LGUpe3ZhciByPW5ldyBSKHQuaSx0LngsdC55KSxuPW5ldyBSKGUuaSxlLngsZS55KSxpPXQubmV4dCxvPWUucHJldjtyZXR1cm4gdC5uZXh0PWUsZS5wcmV2PXQsci5uZXh0PWksaS5wcmV2PXIsbi5uZXh0PXIsci5wcmV2PW4sby5uZXh0PW4sbi5wcmV2PW8sbn1mdW5jdGlvbiBQKHQsZSxyLG4pe3ZhciBpPW5ldyBSKHQsZSxyKTtyZXR1cm4gbj8oaS5uZXh0PW4ubmV4dCxpLnByZXY9bixuLm5leHQucHJldj1pLG4ubmV4dD1pKTooaS5wcmV2PWksaS5uZXh0PWkpLGl9ZnVuY3Rpb24gQyh0KXt0Lm5leHQucHJldj10LnByZXYsdC5wcmV2Lm5leHQ9dC5uZXh0LHQucHJldlomJih0LnByZXZaLm5leHRaPXQubmV4dFopLHQubmV4dFomJih0Lm5leHRaLnByZXZaPXQucHJldlopfWZ1bmN0aW9uIFIodCxlLHIpe3RoaXMuaT10LHRoaXMueD1lLHRoaXMueT1yLHRoaXMucHJldj1udWxsLHRoaXMubmV4dD1udWxsLHRoaXMuej1udWxsLHRoaXMucHJldlo9bnVsbCx0aGlzLm5leHRaPW51bGwsdGhpcy5zdGVpbmVyPSExfWZ1bmN0aW9uIEEodCxlLHIsbil7Zm9yKHZhciBpPTAsbz1lLHM9ci1uO288cjtvKz1uKWkrPSh0W3NdLXRbb10pKih0W28rMV0rdFtzKzFdKSxzPW87cmV0dXJuIGl9ZS5leHBvcnRzPW4sZS5leHBvcnRzLmRlZmF1bHQ9bixuLmRldmlhdGlvbj1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1lJiZlLmxlbmd0aCxvPWk/ZVswXSpyOnQubGVuZ3RoLHM9TWF0aC5hYnMoQSh0LDAsbyxyKSk7aWYoaSlmb3IodmFyIGE9MCx1PWUubGVuZ3RoO2E8dTthKyspe3ZhciBoPWVbYV0qcixsPWE8dS0xP2VbYSsxXSpyOnQubGVuZ3RoO3MtPU1hdGguYWJzKEEodCxoLGwscikpfXZhciBjPTA7Zm9yKGE9MDthPG4ubGVuZ3RoO2ErPTMpe3ZhciBkPW5bYV0qcixmPW5bYSsxXSpyLHA9blthKzJdKnI7Yys9TWF0aC5hYnMoKHRbZF0tdFtwXSkqKHRbZisxXS10W2QrMV0pLSh0W2RdLXRbZl0pKih0W3ArMV0tdFtkKzFdKSl9cmV0dXJuIDA9PT1zJiYwPT09Yz8wOk1hdGguYWJzKChjLXMpL3MpfSxuLmZsYXR0ZW49ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRbMF1bMF0ubGVuZ3RoLHI9e3ZlcnRpY2VzOltdLGhvbGVzOltdLGRpbWVuc2lvbnM6ZX0sbj0wLGk9MDtpPHQubGVuZ3RoO2krKyl7Zm9yKHZhciBvPTA7bzx0W2ldLmxlbmd0aDtvKyspZm9yKHZhciBzPTA7czxlO3MrKylyLnZlcnRpY2VzLnB1c2godFtpXVtvXVtzXSk7aT4wJiYobis9dFtpLTFdLmxlbmd0aCxyLmhvbGVzLnB1c2gobikpfXJldHVybiByfX0se31dLDM6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbigpe31mdW5jdGlvbiBpKHQsZSxyKXt0aGlzLmZuPXQsdGhpcy5jb250ZXh0PWUsdGhpcy5vbmNlPXJ8fCExfWZ1bmN0aW9uIG8oKXt0aGlzLl9ldmVudHM9bmV3IG4sdGhpcy5fZXZlbnRzQ291bnQ9MH12YXIgcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGE9XFxcIn5cXFwiO09iamVjdC5jcmVhdGUmJihuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG51bGwpLChuZXcgbikuX19wcm90b19ffHwoYT0hMSkpLG8ucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLHI9W107aWYoMD09PXRoaXMuX2V2ZW50c0NvdW50KXJldHVybiByO2ZvcihlIGluIHQ9dGhpcy5fZXZlbnRzKXMuY2FsbCh0LGUpJiZyLnB1c2goYT9lLnNsaWNlKDEpOmUpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP3IuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCkpOnJ9LG8ucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbih0LGUpe3ZhciByPWE/YSt0OnQsbj10aGlzLl9ldmVudHNbcl07aWYoZSlyZXR1cm4hIW47aWYoIW4pcmV0dXJuW107aWYobi5mbilyZXR1cm5bbi5mbl07Zm9yKHZhciBpPTAsbz1uLmxlbmd0aCxzPW5ldyBBcnJheShvKTtpPG87aSsrKXNbaV09bltpXS5mbjtyZXR1cm4gc30sby5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0LGUscixuLGksbyl7dmFyIHM9YT9hK3Q6dDtpZighdGhpcy5fZXZlbnRzW3NdKXJldHVybiExO3ZhciB1LGgsbD10aGlzLl9ldmVudHNbc10sYz1hcmd1bWVudHMubGVuZ3RoO2lmKGwuZm4pe3N3aXRjaChsLm9uY2UmJnRoaXMucmVtb3ZlTGlzdGVuZXIodCxsLmZuLHZvaWQgMCwhMCksYyl7Y2FzZSAxOnJldHVybiBsLmZuLmNhbGwobC5jb250ZXh0KSwhMDtjYXNlIDI6cmV0dXJuIGwuZm4uY2FsbChsLmNvbnRleHQsZSksITA7Y2FzZSAzOnJldHVybiBsLmZuLmNhbGwobC5jb250ZXh0LGUsciksITA7Y2FzZSA0OnJldHVybiBsLmZuLmNhbGwobC5jb250ZXh0LGUscixuKSwhMDtjYXNlIDU6cmV0dXJuIGwuZm4uY2FsbChsLmNvbnRleHQsZSxyLG4saSksITA7Y2FzZSA2OnJldHVybiBsLmZuLmNhbGwobC5jb250ZXh0LGUscixuLGksbyksITB9Zm9yKGg9MSx1PW5ldyBBcnJheShjLTEpO2g8YztoKyspdVtoLTFdPWFyZ3VtZW50c1toXTtsLmZuLmFwcGx5KGwuY29udGV4dCx1KX1lbHNle3ZhciBkLGY9bC5sZW5ndGg7Zm9yKGg9MDtoPGY7aCsrKXN3aXRjaChsW2hdLm9uY2UmJnRoaXMucmVtb3ZlTGlzdGVuZXIodCxsW2hdLmZuLHZvaWQgMCwhMCksYyl7Y2FzZSAxOmxbaF0uZm4uY2FsbChsW2hdLmNvbnRleHQpO2JyZWFrO2Nhc2UgMjpsW2hdLmZuLmNhbGwobFtoXS5jb250ZXh0LGUpO2JyZWFrO2Nhc2UgMzpsW2hdLmZuLmNhbGwobFtoXS5jb250ZXh0LGUscik7YnJlYWs7Y2FzZSA0OmxbaF0uZm4uY2FsbChsW2hdLmNvbnRleHQsZSxyLG4pO2JyZWFrO2RlZmF1bHQ6aWYoIXUpZm9yKGQ9MSx1PW5ldyBBcnJheShjLTEpO2Q8YztkKyspdVtkLTFdPWFyZ3VtZW50c1tkXTtsW2hdLmZuLmFwcGx5KGxbaF0uY29udGV4dCx1KX19cmV0dXJuITB9LG8ucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1uZXcgaShlLHJ8fHRoaXMpLG89YT9hK3Q6dDtyZXR1cm4gdGhpcy5fZXZlbnRzW29dP3RoaXMuX2V2ZW50c1tvXS5mbj90aGlzLl9ldmVudHNbb109W3RoaXMuX2V2ZW50c1tvXSxuXTp0aGlzLl9ldmVudHNbb10ucHVzaChuKToodGhpcy5fZXZlbnRzW29dPW4sdGhpcy5fZXZlbnRzQ291bnQrKyksdGhpc30sby5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUscil7dmFyIG49bmV3IGkoZSxyfHx0aGlzLCEwKSxvPWE/YSt0OnQ7cmV0dXJuIHRoaXMuX2V2ZW50c1tvXT90aGlzLl9ldmVudHNbb10uZm4/dGhpcy5fZXZlbnRzW29dPVt0aGlzLl9ldmVudHNbb10sbl06dGhpcy5fZXZlbnRzW29dLnB1c2gobik6KHRoaXMuX2V2ZW50c1tvXT1uLHRoaXMuX2V2ZW50c0NvdW50KyspLHRoaXN9LG8ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSxyLGkpe3ZhciBvPWE/YSt0OnQ7aWYoIXRoaXMuX2V2ZW50c1tvXSlyZXR1cm4gdGhpcztpZighZSlyZXR1cm4gMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9bmV3IG46ZGVsZXRlIHRoaXMuX2V2ZW50c1tvXSx0aGlzO3ZhciBzPXRoaXMuX2V2ZW50c1tvXTtpZihzLmZuKXMuZm4hPT1lfHxpJiYhcy5vbmNlfHxyJiZzLmNvbnRleHQhPT1yfHwoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9bmV3IG46ZGVsZXRlIHRoaXMuX2V2ZW50c1tvXSk7ZWxzZXtmb3IodmFyIHU9MCxoPVtdLGw9cy5sZW5ndGg7dTxsO3UrKykoc1t1XS5mbiE9PWV8fGkmJiFzW3VdLm9uY2V8fHImJnNbdV0uY29udGV4dCE9PXIpJiZoLnB1c2goc1t1XSk7aC5sZW5ndGg/dGhpcy5fZXZlbnRzW29dPTE9PT1oLmxlbmd0aD9oWzBdOmg6MD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9bmV3IG46ZGVsZXRlIHRoaXMuX2V2ZW50c1tvXX1yZXR1cm4gdGhpc30sby5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0PyhlPWE/YSt0OnQsdGhpcy5fZXZlbnRzW2VdJiYoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9bmV3IG46ZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSkpOih0aGlzLl9ldmVudHM9bmV3IG4sdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpc30sby5wcm90b3R5cGUub2ZmPW8ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLG8ucHJvdG90eXBlLmFkZExpc3RlbmVyPW8ucHJvdG90eXBlLm9uLG8ucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxvLnByZWZpeGVkPWEsby5FdmVudEVtaXR0ZXI9byx2b2lkIDAhPT1lJiYoZS5leHBvcnRzPW8pfSx7fV0sNDpbZnVuY3Rpb24oZSxyLG4peyFmdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIHQudGVzdChlKX1mdW5jdGlvbiBpKHQpe3ZhciBlPXR8fChcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIG5hdmlnYXRvcj9uYXZpZ2F0b3IudXNlckFnZW50OlxcXCJcXFwiKSxyPWUuc3BsaXQoXFxcIltGQkFOXFxcIik7dm9pZCAwIT09clsxXSYmKGU9clswXSksdm9pZCAwIT09KHI9ZS5zcGxpdChcXFwiVHdpdHRlclxcXCIpKVsxXSYmKGU9clswXSk7dmFyIGk9e2FwcGxlOntwaG9uZTpuKG8sZSkmJiFuKGQsZSksaXBvZDpuKHMsZSksdGFibGV0OiFuKG8sZSkmJm4oYSxlKSYmIW4oZCxlKSxkZXZpY2U6KG4obyxlKXx8bihzLGUpfHxuKGEsZSkpJiYhbihkLGUpfSxhbWF6b246e3Bob25lOm4obCxlKSx0YWJsZXQ6IW4obCxlKSYmbihjLGUpLGRldmljZTpuKGwsZSl8fG4oYyxlKX0sYW5kcm9pZDp7cGhvbmU6IW4oZCxlKSYmbihsLGUpfHwhbihkLGUpJiZuKHUsZSksdGFibGV0OiFuKGQsZSkmJiFuKGwsZSkmJiFuKHUsZSkmJihuKGMsZSl8fG4oaCxlKSksZGV2aWNlOiFuKGQsZSkmJihuKGwsZSl8fG4oYyxlKXx8bih1LGUpfHxuKGgsZSkpfSx3aW5kb3dzOntwaG9uZTpuKGQsZSksdGFibGV0Om4oZixlKSxkZXZpY2U6bihkLGUpfHxuKGYsZSl9LG90aGVyOntibGFja2JlcnJ5Om4ocCxlKSxibGFja2JlcnJ5MTA6bih2LGUpLG9wZXJhOm4oZyxlKSxmaXJlZm94Om4obSxlKSxjaHJvbWU6bih5LGUpLGRldmljZTpuKHAsZSl8fG4odixlKXx8bihnLGUpfHxuKG0sZSl8fG4oeSxlKX19O3JldHVybiBpLmFueT1pLmFwcGxlLmRldmljZXx8aS5hbmRyb2lkLmRldmljZXx8aS53aW5kb3dzLmRldmljZXx8aS5vdGhlci5kZXZpY2UsaS5waG9uZT1pLmFwcGxlLnBob25lfHxpLmFuZHJvaWQucGhvbmV8fGkud2luZG93cy5waG9uZSxpLnRhYmxldD1pLmFwcGxlLnRhYmxldHx8aS5hbmRyb2lkLnRhYmxldHx8aS53aW5kb3dzLnRhYmxldCxpfXZhciBvPS9pUGhvbmUvaSxzPS9pUG9kL2ksYT0vaVBhZC9pLHU9L1xcXFxiQW5kcm9pZCg/Oi4rKU1vYmlsZVxcXFxiL2ksaD0vQW5kcm9pZC9pLGw9L1xcXFxiQW5kcm9pZCg/Oi4rKVNENDkzMFVSXFxcXGIvaSxjPS9cXFxcYkFuZHJvaWQoPzouKykoPzpLRltBLVpdezIsNH0pXFxcXGIvaSxkPS9XaW5kb3dzIFBob25lL2ksZj0vXFxcXGJXaW5kb3dzKD86LispQVJNXFxcXGIvaSxwPS9CbGFja0JlcnJ5L2ksdj0vQkIxMC9pLGc9L09wZXJhIE1pbmkvaSx5PS9cXFxcYihDcmlPU3xDaHJvbWUpKD86LispTW9iaWxlL2ksbT0vXFxcXE1vYmlsZSg/Oi4rKUZpcmVmb3hcXFxcYi9pO3ZvaWQgMCE9PXImJnIuZXhwb3J0cyYmXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiB3aW5kb3c/ci5leHBvcnRzPWk6dm9pZCAwIT09ciYmci5leHBvcnRzJiZcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHdpbmRvdz9yLmV4cG9ydHM9aSgpOlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB0JiZ0LmFtZD90KFtdLGUuaXNNb2JpbGU9aSgpKTplLmlzTW9iaWxlPWkoKX0odGhpcyl9LHt9XSw1OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBpKHQsZSl7cmV0dXJuIHQuX2hlYWQ/KHQuX3RhaWwuX25leHQ9ZSxlLl9wcmV2PXQuX3RhaWwsdC5fdGFpbD1lKToodC5faGVhZD1lLHQuX3RhaWw9ZSksZS5fb3duZXI9dCxlfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJfX2VzTW9kdWxlXFxcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHIsaSl7dm9pZCAwPT09ciYmKHI9ITEpLG4odGhpcyx0KSx0aGlzLl9mbj1lLHRoaXMuX29uY2U9cix0aGlzLl90aGlzQXJnPWksdGhpcy5fbmV4dD10aGlzLl9wcmV2PXRoaXMuX293bmVyPW51bGx9cmV0dXJuIG8odCxbe2tleTpcXFwiZGV0YWNoXFxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5fb3duZXImJih0aGlzLl9vd25lci5kZXRhY2godGhpcyksITApfX1dKSx0fSgpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7bih0aGlzLHQpLHRoaXMuX2hlYWQ9dGhpcy5fdGFpbD12b2lkIDB9cmV0dXJuIG8odCxbe2tleTpcXFwiaGFuZGxlcnNcXFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0pJiZhcmd1bWVudHNbMF0sZT10aGlzLl9oZWFkO2lmKHQpcmV0dXJuISFlO2Zvcih2YXIgcj1bXTtlOylyLnB1c2goZSksZT1lLl9uZXh0O3JldHVybiByfX0se2tleTpcXFwiaGFzXFxcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBzKSl0aHJvdyBuZXcgRXJyb3IoXFxcIk1pbmlTaWduYWwjaGFzKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LlxcXCIpO3JldHVybiB0Ll9vd25lcj09PXRoaXN9fSx7a2V5OlxcXCJkaXNwYXRjaFxcXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9oZWFkO2lmKCF0KXJldHVybiExO2Zvcig7dDspdC5fb25jZSYmdGhpcy5kZXRhY2godCksdC5fZm4uYXBwbHkodC5fdGhpc0FyZyxhcmd1bWVudHMpLHQ9dC5fbmV4dDtyZXR1cm4hMH19LHtrZXk6XFxcImFkZFxcXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP251bGw6YXJndW1lbnRzWzFdO2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcXFwiTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi5cXFwiKTtyZXR1cm4gaSh0aGlzLG5ldyBzKHQsITEsZSkpfX0se2tleTpcXFwib25jZVxcXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP251bGw6YXJndW1lbnRzWzFdO2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcXFwiTWluaVNpZ25hbCNvbmNlKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uXFxcIik7cmV0dXJuIGkodGhpcyxuZXcgcyh0LCEwLGUpKX19LHtrZXk6XFxcImRldGFjaFxcXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoISh0IGluc3RhbmNlb2YgcykpdGhyb3cgbmV3IEVycm9yKFxcXCJNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC5cXFwiKTtyZXR1cm4gdC5fb3duZXIhPT10aGlzP3RoaXM6KHQuX3ByZXYmJih0Ll9wcmV2Ll9uZXh0PXQuX25leHQpLHQuX25leHQmJih0Ll9uZXh0Ll9wcmV2PXQuX3ByZXYpLHQ9PT10aGlzLl9oZWFkPyh0aGlzLl9oZWFkPXQuX25leHQsbnVsbD09PXQuX25leHQmJih0aGlzLl90YWlsPW51bGwpKTp0PT09dGhpcy5fdGFpbCYmKHRoaXMuX3RhaWw9dC5fcHJldix0aGlzLl90YWlsLl9uZXh0PW51bGwpLHQuX293bmVyPW51bGwsdGhpcyl9fSx7a2V5OlxcXCJkZXRhY2hBbGxcXFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faGVhZDtpZighdClyZXR1cm4gdGhpcztmb3IodGhpcy5faGVhZD10aGlzLl90YWlsPW51bGw7dDspdC5fb3duZXI9bnVsbCx0PXQuX25leHQ7cmV0dXJuIHRoaXN9fV0pLHR9KCk7YS5NaW5pU2lnbmFsQmluZGluZz1zLHIuZGVmYXVsdD1hLGUuZXhwb3J0cz1yLmRlZmF1bHR9LHt9XSw2OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7aWYobnVsbD09PXR8fHZvaWQgMD09PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWRcXFwiKTtyZXR1cm4gT2JqZWN0KHQpfXZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHM9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0cnl7aWYoIU9iamVjdC5hc3NpZ24pcmV0dXJuITE7dmFyIHQ9bmV3IFN0cmluZyhcXFwiYWJjXFxcIik7aWYodFs1XT1cXFwiZGVcXFwiLFxcXCI1XFxcIj09PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpWzBdKXJldHVybiExO2Zvcih2YXIgZT17fSxyPTA7cjwxMDtyKyspZVtcXFwiX1xcXCIrU3RyaW5nLmZyb21DaGFyQ29kZShyKV09cjtpZihcXFwiMDEyMzQ1Njc4OVxcXCIhPT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KS5qb2luKFxcXCJcXFwiKSlyZXR1cm4hMTt2YXIgbj17fTtyZXR1cm5cXFwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcXFwiLnNwbGl0KFxcXCJcXFwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe25bdF09dH0pLFxcXCJhYmNkZWZnaGlqa2xtbm9wcXJzdFxcXCI9PT1PYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LG4pKS5qb2luKFxcXCJcXFwiKX1jYXRjaCh0KXtyZXR1cm4hMX19KCk/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcixhLHU9bih0KSxoPTE7aDxhcmd1bWVudHMubGVuZ3RoO2grKyl7cj1PYmplY3QoYXJndW1lbnRzW2hdKTtmb3IodmFyIGwgaW4gcilvLmNhbGwocixsKSYmKHVbbF09cltsXSk7aWYoaSl7YT1pKHIpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXMuY2FsbChyLGFbY10pJiYodVthW2NdXT1yW2FbY11dKX19cmV0dXJuIHV9fSx7fV0sNzpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtlPWV8fHt9O2Zvcih2YXIgcj17a2V5OltcXFwic291cmNlXFxcIixcXFwicHJvdG9jb2xcXFwiLFxcXCJhdXRob3JpdHlcXFwiLFxcXCJ1c2VySW5mb1xcXCIsXFxcInVzZXJcXFwiLFxcXCJwYXNzd29yZFxcXCIsXFxcImhvc3RcXFwiLFxcXCJwb3J0XFxcIixcXFwicmVsYXRpdmVcXFwiLFxcXCJwYXRoXFxcIixcXFwiZGlyZWN0b3J5XFxcIixcXFwiZmlsZVxcXCIsXFxcInF1ZXJ5XFxcIixcXFwiYW5jaG9yXFxcIl0scTp7bmFtZTpcXFwicXVlcnlLZXlcXFwiLHBhcnNlcjovKD86XnwmKShbXiY9XSopPT8oW14mXSopL2d9LHBhcnNlcjp7c3RyaWN0Oi9eKD86KFteOlxcXFwvPyNdKyk6KT8oPzpcXFxcL1xcXFwvKCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFxcXC8/I10qKSg/OjooXFxcXGQqKSk/KSk/KCgoKD86W14/I1xcXFwvXSpcXFxcLykqKShbXj8jXSopKSg/OlxcXFw/KFteI10qKSk/KD86IyguKikpPykvLGxvb3NlOi9eKD86KD8hW146QF0rOlteOkBcXFxcL10qQCkoW146XFxcXC8/Iy5dKyk6KT8oPzpcXFxcL1xcXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXFxcLz8jXSopKD86OihcXFxcZCopKT8pKCgoXFxcXC8oPzpbXj8jXSg/IVtePyNcXFxcL10qXFxcXC5bXj8jXFxcXC8uXSsoPzpbPyNdfCQpKSkqXFxcXC8/KT8oW14/I1xcXFwvXSopKSg/OlxcXFw/KFteI10qKSk/KD86IyguKikpPykvfX0sbj1yLnBhcnNlcltlLnN0cmljdE1vZGU/XFxcInN0cmljdFxcXCI6XFxcImxvb3NlXFxcIl0uZXhlYyh0KSxpPXt9LG89MTQ7by0tOylpW3Iua2V5W29dXT1uW29dfHxcXFwiXFxcIjtyZXR1cm4gaVtyLnEubmFtZV09e30saVtyLmtleVsxMl1dLnJlcGxhY2Uoci5xLnBhcnNlcixmdW5jdGlvbih0LGUsbil7ZSYmKGlbci5xLm5hbWVdW2VdPW4pfSksaX19LHt9XSw4OltmdW5jdGlvbih0LGUscil7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtmb3IodmFyIHI9MCxuPXQubGVuZ3RoLTE7bj49MDtuLS0pe3ZhciBpPXRbbl07XFxcIi5cXFwiPT09aT90LnNwbGljZShuLDEpOlxcXCIuLlxcXCI9PT1pPyh0LnNwbGljZShuLDEpLHIrKyk6ciYmKHQuc3BsaWNlKG4sMSksci0tKX1pZihlKWZvcig7ci0tO3IpdC51bnNoaWZ0KFxcXCIuLlxcXCIpO3JldHVybiB0fWZ1bmN0aW9uIG4odCxlKXtpZih0LmZpbHRlcilyZXR1cm4gdC5maWx0ZXIoZSk7Zm9yKHZhciByPVtdLG49MDtuPHQubGVuZ3RoO24rKyllKHRbbl0sbix0KSYmci5wdXNoKHRbbl0pO3JldHVybiByfXZhciBpPS9eKFxcXFwvP3wpKFtcXFxcc1xcXFxTXSo/KSgoPzpcXFxcLnsxLDJ9fFteXFxcXC9dKz98KShcXFxcLlteLlxcXFwvXSp8KSkoPzpbXFxcXC9dKikkLyxvPWZ1bmN0aW9uKHQpe3JldHVybiBpLmV4ZWModCkuc2xpY2UoMSl9O3IucmVzb2x2ZT1mdW5jdGlvbigpe2Zvcih2YXIgcj1cXFwiXFxcIixpPSExLG89YXJndW1lbnRzLmxlbmd0aC0xO28+PS0xJiYhaTtvLS0pe3ZhciBzPW8+PTA/YXJndW1lbnRzW29dOnQuY3dkKCk7aWYoXFxcInN0cmluZ1xcXCIhPXR5cGVvZiBzKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkFyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzXFxcIik7cyYmKHI9cytcXFwiL1xcXCIrcixpPVxcXCIvXFxcIj09PXMuY2hhckF0KDApKX1yZXR1cm4gcj1lKG4oci5zcGxpdChcXFwiL1xcXCIpLGZ1bmN0aW9uKHQpe3JldHVybiEhdH0pLCFpKS5qb2luKFxcXCIvXFxcIiksKGk/XFxcIi9cXFwiOlxcXCJcXFwiKStyfHxcXFwiLlxcXCJ9LHIubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBpPXIuaXNBYnNvbHV0ZSh0KSxvPVxcXCIvXFxcIj09PXModCwtMSk7cmV0dXJuIHQ9ZShuKHQuc3BsaXQoXFxcIi9cXFwiKSxmdW5jdGlvbih0KXtyZXR1cm4hIXR9KSwhaSkuam9pbihcXFwiL1xcXCIpLHR8fGl8fCh0PVxcXCIuXFxcIiksdCYmbyYmKHQrPVxcXCIvXFxcIiksKGk/XFxcIi9cXFwiOlxcXCJcXFwiKSt0fSxyLmlzQWJzb2x1dGU9ZnVuY3Rpb24odCl7cmV0dXJuXFxcIi9cXFwiPT09dC5jaGFyQXQoMCl9LHIuam9pbj1mdW5jdGlvbigpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gci5ub3JtYWxpemUobih0LGZ1bmN0aW9uKHQsZSl7aWYoXFxcInN0cmluZ1xcXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkFyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzXFxcIik7cmV0dXJuIHR9KS5qb2luKFxcXCIvXFxcIikpfSxyLnJlbGF0aXZlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoJiZcXFwiXFxcIj09PXRbZV07ZSsrKTtmb3IodmFyIHI9dC5sZW5ndGgtMTtyPj0wJiZcXFwiXFxcIj09PXRbcl07ci0tKTtyZXR1cm4gZT5yP1tdOnQuc2xpY2UoZSxyLWUrMSl9dD1yLnJlc29sdmUodCkuc3Vic3RyKDEpLGU9ci5yZXNvbHZlKGUpLnN1YnN0cigxKTtmb3IodmFyIGk9bih0LnNwbGl0KFxcXCIvXFxcIikpLG89bihlLnNwbGl0KFxcXCIvXFxcIikpLHM9TWF0aC5taW4oaS5sZW5ndGgsby5sZW5ndGgpLGE9cyx1PTA7dTxzO3UrKylpZihpW3VdIT09b1t1XSl7YT11O2JyZWFrfWZvcih2YXIgaD1bXSx1PWE7dTxpLmxlbmd0aDt1KyspaC5wdXNoKFxcXCIuLlxcXCIpO3JldHVybiBoPWguY29uY2F0KG8uc2xpY2UoYSkpLGguam9pbihcXFwiL1xcXCIpfSxyLnNlcD1cXFwiL1xcXCIsci5kZWxpbWl0ZXI9XFxcIjpcXFwiLHIuZGlybmFtZT1mdW5jdGlvbih0KXt2YXIgZT1vKHQpLHI9ZVswXSxuPWVbMV07cmV0dXJuIHJ8fG4/KG4mJihuPW4uc3Vic3RyKDAsbi5sZW5ndGgtMSkpLHIrbik6XFxcIi5cXFwifSxyLmJhc2VuYW1lPWZ1bmN0aW9uKHQsZSl7dmFyIHI9byh0KVsyXTtyZXR1cm4gZSYmci5zdWJzdHIoLTEqZS5sZW5ndGgpPT09ZSYmKHI9ci5zdWJzdHIoMCxyLmxlbmd0aC1lLmxlbmd0aCkpLHJ9LHIuZXh0bmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gbyh0KVszXX07dmFyIHM9XFxcImJcXFwiPT09XFxcImFiXFxcIi5zdWJzdHIoLTEpP2Z1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdC5zdWJzdHIoZSxyKX06ZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPDAmJihlPXQubGVuZ3RoK2UpLHQuc3Vic3RyKGUscil9fSkuY2FsbCh0aGlzLHQoXFxcIl9wcm9jZXNzXFxcIikpfSx7X3Byb2Nlc3M6MjZ9XSw5OltmdW5jdGlvbih0LGUscil7dmFyIG49bmV3IEFycmF5QnVmZmVyKDApLGk9ZnVuY3Rpb24odCxlLHIsaSl7dGhpcy5nbD10LHRoaXMuYnVmZmVyPXQuY3JlYXRlQnVmZmVyKCksdGhpcy50eXBlPWV8fHQuQVJSQVlfQlVGRkVSLHRoaXMuZHJhd1R5cGU9aXx8dC5TVEFUSUNfRFJBVyx0aGlzLmRhdGE9bixyJiZ0aGlzLnVwbG9hZChyKSx0aGlzLl91cGRhdGVJRD0wfTtpLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCxlLHIpe3J8fHRoaXMuYmluZCgpO3ZhciBuPXRoaXMuZ2w7dD10fHx0aGlzLmRhdGEsZT1lfHwwLHRoaXMuZGF0YS5ieXRlTGVuZ3RoPj10LmJ5dGVMZW5ndGg/bi5idWZmZXJTdWJEYXRhKHRoaXMudHlwZSxlLHQpOm4uYnVmZmVyRGF0YSh0aGlzLnR5cGUsdCx0aGlzLmRyYXdUeXBlKSx0aGlzLmRhdGE9dH0saS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbigpe3RoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLnR5cGUsdGhpcy5idWZmZXIpfSxpLmNyZWF0ZVZlcnRleEJ1ZmZlcj1mdW5jdGlvbih0LGUscil7cmV0dXJuIG5ldyBpKHQsdC5BUlJBWV9CVUZGRVIsZSxyKX0saS5jcmVhdGVJbmRleEJ1ZmZlcj1mdW5jdGlvbih0LGUscil7cmV0dXJuIG5ldyBpKHQsdC5FTEVNRU5UX0FSUkFZX0JVRkZFUixlLHIpfSxpLmNyZWF0ZT1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gbmV3IGkodCxlLHIsbil9LGkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcil9LGUuZXhwb3J0cz1pfSx7fV0sMTA6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KFxcXCIuL0dMVGV4dHVyZVxcXCIpLGk9ZnVuY3Rpb24odCxlLHIpe3RoaXMuZ2w9dCx0aGlzLmZyYW1lYnVmZmVyPXQuY3JlYXRlRnJhbWVidWZmZXIoKSx0aGlzLnN0ZW5jaWw9bnVsbCx0aGlzLnRleHR1cmU9bnVsbCx0aGlzLndpZHRoPWV8fDEwMCx0aGlzLmhlaWdodD1yfHwxMDB9O2kucHJvdG90eXBlLmVuYWJsZVRleHR1cmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nbDt0aGlzLnRleHR1cmU9dHx8bmV3IG4oZSksdGhpcy50ZXh0dXJlLmJpbmQoKSx0aGlzLmJpbmQoKSxlLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGUuRlJBTUVCVUZGRVIsZS5DT0xPUl9BVFRBQ0hNRU5UMCxlLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlLnRleHR1cmUsMCl9LGkucHJvdG90eXBlLmVuYWJsZVN0ZW5jaWw9ZnVuY3Rpb24oKXtpZighdGhpcy5zdGVuY2lsKXt2YXIgdD10aGlzLmdsO3RoaXMuc3RlbmNpbD10LmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLHQuYmluZFJlbmRlcmJ1ZmZlcih0LlJFTkRFUkJVRkZFUix0aGlzLnN0ZW5jaWwpLHQuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodC5GUkFNRUJVRkZFUix0LkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCx0LlJFTkRFUkJVRkZFUix0aGlzLnN0ZW5jaWwpLHQucmVuZGVyYnVmZmVyU3RvcmFnZSh0LlJFTkRFUkJVRkZFUix0LkRFUFRIX1NURU5DSUwsdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9fSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbih0LGUscixuKXt0aGlzLmJpbmQoKTt2YXIgaT10aGlzLmdsO2kuY2xlYXJDb2xvcih0LGUscixuKSxpLmNsZWFyKGkuQ09MT1JfQlVGRkVSX0JJVHxpLkRFUFRIX0JVRkZFUl9CSVQpfSxpLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbDt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLHRoaXMuZnJhbWVidWZmZXIpfSxpLnByb3RvdHlwZS51bmJpbmQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbnVsbCl9LGkucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMuZ2w7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy50ZXh0dXJlJiZ0aGlzLnRleHR1cmUudXBsb2FkRGF0YShudWxsLHQsZSksdGhpcy5zdGVuY2lsJiYoci5iaW5kUmVuZGVyYnVmZmVyKHIuUkVOREVSQlVGRkVSLHRoaXMuc3RlbmNpbCksci5yZW5kZXJidWZmZXJTdG9yYWdlKHIuUkVOREVSQlVGRkVSLHIuREVQVEhfU1RFTkNJTCx0LGUpKX0saS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dGhpcy50ZXh0dXJlJiZ0aGlzLnRleHR1cmUuZGVzdHJveSgpLHQuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5mcmFtZWJ1ZmZlciksdGhpcy5nbD1udWxsLHRoaXMuc3RlbmNpbD1udWxsLHRoaXMudGV4dHVyZT1udWxsfSxpLmNyZWF0ZVJHQkE9ZnVuY3Rpb24odCxlLHIsbyl7dmFyIHM9bi5mcm9tRGF0YSh0LG51bGwsZSxyKTtzLmVuYWJsZU5lYXJlc3RTY2FsaW5nKCkscy5lbmFibGVXcmFwQ2xhbXAoKTt2YXIgYT1uZXcgaSh0LGUscik7cmV0dXJuIGEuZW5hYmxlVGV4dHVyZShzKSxhLnVuYmluZCgpLGF9LGkuY3JlYXRlRmxvYXQzMj1mdW5jdGlvbih0LGUscixvKXt2YXIgcz1uZXcgbi5mcm9tRGF0YSh0LG8sZSxyKTtzLmVuYWJsZU5lYXJlc3RTY2FsaW5nKCkscy5lbmFibGVXcmFwQ2xhbXAoKTt2YXIgYT1uZXcgaSh0LGUscik7cmV0dXJuIGEuZW5hYmxlVGV4dHVyZShzKSxhLnVuYmluZCgpLGF9LGUuZXhwb3J0cz1pfSx7XFxcIi4vR0xUZXh0dXJlXFxcIjoxMn1dLDExOltmdW5jdGlvbih0LGUscil7dmFyIG49dChcXFwiLi9zaGFkZXIvY29tcGlsZVByb2dyYW1cXFwiKSxpPXQoXFxcIi4vc2hhZGVyL2V4dHJhY3RBdHRyaWJ1dGVzXFxcIiksbz10KFxcXCIuL3NoYWRlci9leHRyYWN0VW5pZm9ybXNcXFwiKSxzPXQoXFxcIi4vc2hhZGVyL3NldFByZWNpc2lvblxcXCIpLGE9dChcXFwiLi9zaGFkZXIvZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0XFxcIiksdT1mdW5jdGlvbih0LGUscix1LGgpe3RoaXMuZ2w9dCx1JiYoZT1zKGUsdSkscj1zKHIsdSkpLHRoaXMucHJvZ3JhbT1uKHQsZSxyLGgpLHRoaXMuYXR0cmlidXRlcz1pKHQsdGhpcy5wcm9ncmFtKSx0aGlzLnVuaWZvcm1EYXRhPW8odCx0aGlzLnByb2dyYW0pLHRoaXMudW5pZm9ybXM9YSh0LHRoaXMudW5pZm9ybURhdGEpfTt1LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pLHRoaXN9LHUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmF0dHJpYnV0ZXM9bnVsbCx0aGlzLnVuaWZvcm1EYXRhPW51bGwsdGhpcy51bmlmb3Jtcz1udWxsLHRoaXMuZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnByb2dyYW0pfSxlLmV4cG9ydHM9dX0se1xcXCIuL3NoYWRlci9jb21waWxlUHJvZ3JhbVxcXCI6MTcsXFxcIi4vc2hhZGVyL2V4dHJhY3RBdHRyaWJ1dGVzXFxcIjoxOSxcXFwiLi9zaGFkZXIvZXh0cmFjdFVuaWZvcm1zXFxcIjoyMCxcXFwiLi9zaGFkZXIvZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0XFxcIjoyMSxcXFwiLi9zaGFkZXIvc2V0UHJlY2lzaW9uXFxcIjoyNX1dLDEyOltmdW5jdGlvbih0LGUscil7dmFyIG49ZnVuY3Rpb24odCxlLHIsbixpKXt0aGlzLmdsPXQsdGhpcy50ZXh0dXJlPXQuY3JlYXRlVGV4dHVyZSgpLHRoaXMubWlwbWFwPSExLHRoaXMucHJlbXVsdGlwbHlBbHBoYT0hMSx0aGlzLndpZHRoPWV8fC0xLHRoaXMuaGVpZ2h0PXJ8fC0xLHRoaXMuZm9ybWF0PW58fHQuUkdCQSx0aGlzLnR5cGU9aXx8dC5VTlNJR05FRF9CWVRFfTtuLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7dGhpcy5iaW5kKCk7dmFyIGU9dGhpcy5nbDtlLnBpeGVsU3RvcmVpKGUuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLHRoaXMucHJlbXVsdGlwbHlBbHBoYSk7dmFyIHI9dC52aWRlb1dpZHRofHx0LndpZHRoLG49dC52aWRlb0hlaWdodHx8dC5oZWlnaHQ7biE9PXRoaXMuaGVpZ2h0fHxyIT09dGhpcy53aWR0aD9lLnRleEltYWdlMkQoZS5URVhUVVJFXzJELDAsdGhpcy5mb3JtYXQsdGhpcy5mb3JtYXQsdGhpcy50eXBlLHQpOmUudGV4U3ViSW1hZ2UyRChlLlRFWFRVUkVfMkQsMCwwLDAsdGhpcy5mb3JtYXQsdGhpcy50eXBlLHQpLHRoaXMud2lkdGg9cix0aGlzLmhlaWdodD1ufTt2YXIgaT0hMTtuLnByb3RvdHlwZS51cGxvYWREYXRhPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLmJpbmQoKTt2YXIgbj10aGlzLmdsO2lmKHQgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe2lmKCFpKXtpZighbi5nZXRFeHRlbnNpb24oXFxcIk9FU190ZXh0dXJlX2Zsb2F0XFxcIikpdGhyb3cgbmV3IEVycm9yKFxcXCJmbG9hdGluZyBwb2ludCB0ZXh0dXJlcyBub3QgYXZhaWxhYmxlXFxcIik7aT0hMH10aGlzLnR5cGU9bi5GTE9BVH1lbHNlIHRoaXMudHlwZT10aGlzLnR5cGV8fG4uVU5TSUdORURfQllURTtuLnBpeGVsU3RvcmVpKG4uVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLHRoaXMucHJlbXVsdGlwbHlBbHBoYSksZSE9PXRoaXMud2lkdGh8fHIhPT10aGlzLmhlaWdodD9uLnRleEltYWdlMkQobi5URVhUVVJFXzJELDAsdGhpcy5mb3JtYXQsZSxyLDAsdGhpcy5mb3JtYXQsdGhpcy50eXBlLHR8fG51bGwpOm4udGV4U3ViSW1hZ2UyRChuLlRFWFRVUkVfMkQsMCwwLDAsZSxyLHRoaXMuZm9ybWF0LHRoaXMudHlwZSx0fHxudWxsKSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9cn0sbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdsO3ZvaWQgMCE9PXQmJmUuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwK3QpLGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHRoaXMudGV4dHVyZSl9LG4ucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsbnVsbCl9LG4ucHJvdG90eXBlLm1pbkZpbHRlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdsO3RoaXMuYmluZCgpLHRoaXMubWlwbWFwP2UudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX01JTl9GSUxURVIsdD9lLkxJTkVBUl9NSVBNQVBfTElORUFSOmUuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCk6ZS50ZXhQYXJhbWV0ZXJpKGUuVEVYVFVSRV8yRCxlLlRFWFRVUkVfTUlOX0ZJTFRFUix0P2UuTElORUFSOmUuTkVBUkVTVCl9LG4ucHJvdG90eXBlLm1hZ0ZpbHRlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdsO3RoaXMuYmluZCgpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX01BR19GSUxURVIsdD9lLkxJTkVBUjplLk5FQVJFU1QpfSxuLnByb3RvdHlwZS5lbmFibGVNaXBtYXA9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3RoaXMuYmluZCgpLHRoaXMubWlwbWFwPSEwLHQuZ2VuZXJhdGVNaXBtYXAodC5URVhUVVJFXzJEKX0sbi5wcm90b3R5cGUuZW5hYmxlTGluZWFyU2NhbGluZz1mdW5jdGlvbigpe3RoaXMubWluRmlsdGVyKCEwKSx0aGlzLm1hZ0ZpbHRlcighMCl9LG4ucHJvdG90eXBlLmVuYWJsZU5lYXJlc3RTY2FsaW5nPWZ1bmN0aW9uKCl7dGhpcy5taW5GaWx0ZXIoITEpLHRoaXMubWFnRmlsdGVyKCExKX0sbi5wcm90b3R5cGUuZW5hYmxlV3JhcENsYW1wPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbDt0aGlzLmJpbmQoKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdC5DTEFNUF9UT19FREdFKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsdC5DTEFNUF9UT19FREdFKX0sbi5wcm90b3R5cGUuZW5hYmxlV3JhcFJlcGVhdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dGhpcy5iaW5kKCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9TLHQuUkVQRUFUKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsdC5SRVBFQVQpfSxuLnByb3RvdHlwZS5lbmFibGVXcmFwTWlycm9yUmVwZWF0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbDt0aGlzLmJpbmQoKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdC5NSVJST1JFRF9SRVBFQVQpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfVCx0Lk1JUlJPUkVEX1JFUEVBVCl9LG4ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKX0sbi5mcm9tU291cmNlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgaT1uZXcgbih0KTtyZXR1cm4gaS5wcmVtdWx0aXBseUFscGhhPXJ8fCExLGkudXBsb2FkKGUpLGl9LG4uZnJvbURhdGE9ZnVuY3Rpb24odCxlLHIsaSl7dmFyIG89bmV3IG4odCk7cmV0dXJuIG8udXBsb2FkRGF0YShlLHIsaSksb30sZS5leHBvcnRzPW59LHt9XSwxMzpbZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG4odCxlKXtpZih0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbj1udWxsLG4uRk9SQ0VfTkFUSVZFfHwodGhpcy5uYXRpdmVWYW9FeHRlbnNpb249dC5nZXRFeHRlbnNpb24oXFxcIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0XFxcIil8fHQuZ2V0RXh0ZW5zaW9uKFxcXCJNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcXFwiKXx8dC5nZXRFeHRlbnNpb24oXFxcIldFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdFxcXCIpKSx0aGlzLm5hdGl2ZVN0YXRlPWUsdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24pe3RoaXMubmF0aXZlVmFvPXRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmNyZWF0ZVZlcnRleEFycmF5T0VTKCk7dmFyIHI9dC5nZXRQYXJhbWV0ZXIodC5NQVhfVkVSVEVYX0FUVFJJQlMpO3RoaXMubmF0aXZlU3RhdGU9e3RlbXBBdHRyaWJTdGF0ZTpuZXcgQXJyYXkociksYXR0cmliU3RhdGU6bmV3IEFycmF5KHIpfX10aGlzLmdsPXQsdGhpcy5hdHRyaWJ1dGVzPVtdLHRoaXMuaW5kZXhCdWZmZXI9bnVsbCx0aGlzLmRpcnR5PSExfXZhciBpPXQoXFxcIi4vc2V0VmVydGV4QXR0cmliQXJyYXlzXFxcIik7bi5wcm90b3R5cGUuY29uc3RydWN0b3I9bixlLmV4cG9ydHM9bixuLkZPUkNFX05BVElWRT0hMSxuLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKCl7aWYodGhpcy5uYXRpdmVWYW8pe2lmKHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyh0aGlzLm5hdGl2ZVZhbyksdGhpcy5kaXJ0eSlyZXR1cm4gdGhpcy5kaXJ0eT0hMSx0aGlzLmFjdGl2YXRlKCksdGhpczt0aGlzLmluZGV4QnVmZmVyJiZ0aGlzLmluZGV4QnVmZmVyLmJpbmQoKX1lbHNlIHRoaXMuYWN0aXZhdGUoKTtyZXR1cm4gdGhpc30sbi5wcm90b3R5cGUudW5iaW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmF0aXZlVmFvJiZ0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVMobnVsbCksdGhpc30sbi5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nbCxlPW51bGwscj0wO3I8dGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDtyKyspe3ZhciBuPXRoaXMuYXR0cmlidXRlc1tyXTtlIT09bi5idWZmZXImJihuLmJ1ZmZlci5iaW5kKCksZT1uLmJ1ZmZlciksdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKG4uYXR0cmlidXRlLmxvY2F0aW9uLG4uYXR0cmlidXRlLnNpemUsbi50eXBlfHx0LkZMT0FULG4ubm9ybWFsaXplZHx8ITEsbi5zdHJpZGV8fDAsbi5zdGFydHx8MCl9cmV0dXJuIGkodCx0aGlzLmF0dHJpYnV0ZXMsdGhpcy5uYXRpdmVTdGF0ZSksdGhpcy5pbmRleEJ1ZmZlciYmdGhpcy5pbmRleEJ1ZmZlci5iaW5kKCksdGhpc30sbi5wcm90b3R5cGUuYWRkQXR0cmlidXRlPWZ1bmN0aW9uKHQsZSxyLG4saSxvKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLnB1c2goe2J1ZmZlcjp0LGF0dHJpYnV0ZTplLGxvY2F0aW9uOmUubG9jYXRpb24sdHlwZTpyfHx0aGlzLmdsLkZMT0FULG5vcm1hbGl6ZWQ6bnx8ITEsc3RyaWRlOml8fDAsc3RhcnQ6b3x8MH0pLHRoaXMuZGlydHk9ITAsdGhpc30sbi5wcm90b3R5cGUuYWRkSW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW5kZXhCdWZmZXI9dCx0aGlzLmRpcnR5PSEwLHRoaXN9LG4ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmF0aXZlVmFvJiZ0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVModGhpcy5uYXRpdmVWYW8pLHRoaXMuYXR0cmlidXRlcy5sZW5ndGg9MCx0aGlzLmluZGV4QnVmZmVyPW51bGwsdGhpc30sbi5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5nbDtyZXR1cm4gdGhpcy5pbmRleEJ1ZmZlcj9uLmRyYXdFbGVtZW50cyh0LGV8fHRoaXMuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsbi5VTlNJR05FRF9TSE9SVCwyKihyfHwwKSk6bi5kcmF3QXJyYXlzKHQscixlfHx0aGlzLmdldFNpemUoKSksdGhpc30sbi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ2w9bnVsbCx0aGlzLmluZGV4QnVmZmVyPW51bGwsdGhpcy5hdHRyaWJ1dGVzPW51bGwsdGhpcy5uYXRpdmVTdGF0ZT1udWxsLHRoaXMubmF0aXZlVmFvJiZ0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5kZWxldGVWZXJ0ZXhBcnJheU9FUyh0aGlzLm5hdGl2ZVZhbyksdGhpcy5uYXRpdmVWYW9FeHRlbnNpb249bnVsbCx0aGlzLm5hdGl2ZVZhbz1udWxsfSxuLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hdHRyaWJ1dGVzWzBdO3JldHVybiB0LmJ1ZmZlci5kYXRhLmxlbmd0aC8odC5zdHJpZGUvNHx8dC5hdHRyaWJ1dGUuc2l6ZSl9fSx7XFxcIi4vc2V0VmVydGV4QXR0cmliQXJyYXlzXFxcIjoxNn1dLDE0OltmdW5jdGlvbih0LGUscil7dmFyIG49ZnVuY3Rpb24odCxlKXt2YXIgcj10LmdldENvbnRleHQoXFxcIndlYmdsXFxcIixlKXx8dC5nZXRDb250ZXh0KFxcXCJleHBlcmltZW50YWwtd2ViZ2xcXFwiLGUpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcXFwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgd2ViR0wuIFRyeSB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyXFxcIik7cmV0dXJuIHJ9O2UuZXhwb3J0cz1ufSx7fV0sMTU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj17Y3JlYXRlQ29udGV4dDp0KFxcXCIuL2NyZWF0ZUNvbnRleHRcXFwiKSxzZXRWZXJ0ZXhBdHRyaWJBcnJheXM6dChcXFwiLi9zZXRWZXJ0ZXhBdHRyaWJBcnJheXNcXFwiKSxHTEJ1ZmZlcjp0KFxcXCIuL0dMQnVmZmVyXFxcIiksR0xGcmFtZWJ1ZmZlcjp0KFxcXCIuL0dMRnJhbWVidWZmZXJcXFwiKSxHTFNoYWRlcjp0KFxcXCIuL0dMU2hhZGVyXFxcIiksR0xUZXh0dXJlOnQoXFxcIi4vR0xUZXh0dXJlXFxcIiksVmVydGV4QXJyYXlPYmplY3Q6dChcXFwiLi9WZXJ0ZXhBcnJheU9iamVjdFxcXCIpLHNoYWRlcjp0KFxcXCIuL3NoYWRlclxcXCIpfTt2b2lkIDAhPT1lJiZlLmV4cG9ydHMmJihlLmV4cG9ydHM9biksXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuUElYST13aW5kb3cuUElYSXx8e30sd2luZG93LlBJWEkuZ2xDb3JlPW4pfSx7XFxcIi4vR0xCdWZmZXJcXFwiOjksXFxcIi4vR0xGcmFtZWJ1ZmZlclxcXCI6MTAsXFxcIi4vR0xTaGFkZXJcXFwiOjExLFxcXCIuL0dMVGV4dHVyZVxcXCI6MTIsXFxcIi4vVmVydGV4QXJyYXlPYmplY3RcXFwiOjEzLFxcXCIuL2NyZWF0ZUNvbnRleHRcXFwiOjE0LFxcXCIuL3NldFZlcnRleEF0dHJpYkFycmF5c1xcXCI6MTYsXFxcIi4vc2hhZGVyXFxcIjoyMn1dLDE2OltmdW5jdGlvbih0LGUscil7dmFyIG49ZnVuY3Rpb24odCxlLHIpe3ZhciBuO2lmKHIpe3ZhciBpPXIudGVtcEF0dHJpYlN0YXRlLG89ci5hdHRyaWJTdGF0ZTtmb3Iobj0wO248aS5sZW5ndGg7bisrKWlbbl09ITE7Zm9yKG49MDtuPGUubGVuZ3RoO24rKylpW2Vbbl0uYXR0cmlidXRlLmxvY2F0aW9uXT0hMDtmb3Iobj0wO248by5sZW5ndGg7bisrKW9bbl0hPT1pW25dJiYob1tuXT1pW25dLHIuYXR0cmliU3RhdGVbbl0/dC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShuKTp0LmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShuKSl9ZWxzZSBmb3Iobj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcz1lW25dO3QuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocy5hdHRyaWJ1dGUubG9jYXRpb24pfX07ZS5leHBvcnRzPW59LHt9XSwxNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBvPWkodCx0LlZFUlRFWF9TSEFERVIsZSkscz1pKHQsdC5GUkFHTUVOVF9TSEFERVIsciksYT10LmNyZWF0ZVByb2dyYW0oKTtpZih0LmF0dGFjaFNoYWRlcihhLG8pLHQuYXR0YWNoU2hhZGVyKGEscyksbilmb3IodmFyIHUgaW4gbil0LmJpbmRBdHRyaWJMb2NhdGlvbihhLG5bdV0sdSk7cmV0dXJuIHQubGlua1Byb2dyYW0oYSksdC5nZXRQcm9ncmFtUGFyYW1ldGVyKGEsdC5MSU5LX1NUQVRVUyl8fChjb25zb2xlLmVycm9yKFxcXCJQaXhpLmpzIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuXFxcIiksY29uc29sZS5lcnJvcihcXFwiZ2wuVkFMSURBVEVfU1RBVFVTXFxcIix0LmdldFByb2dyYW1QYXJhbWV0ZXIoYSx0LlZBTElEQVRFX1NUQVRVUykpLGNvbnNvbGUuZXJyb3IoXFxcImdsLmdldEVycm9yKClcXFwiLHQuZ2V0RXJyb3IoKSksXFxcIlxcXCIhPT10LmdldFByb2dyYW1JbmZvTG9nKGEpJiZjb25zb2xlLndhcm4oXFxcIlBpeGkuanMgV2FybmluZzogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKVxcXCIsdC5nZXRQcm9ncmFtSW5mb0xvZyhhKSksdC5kZWxldGVQcm9ncmFtKGEpLGE9bnVsbCksdC5kZWxldGVTaGFkZXIobyksdC5kZWxldGVTaGFkZXIocyksYX0saT1mdW5jdGlvbih0LGUscil7dmFyIG49dC5jcmVhdGVTaGFkZXIoZSk7cmV0dXJuIHQuc2hhZGVyU291cmNlKG4sciksdC5jb21waWxlU2hhZGVyKG4pLHQuZ2V0U2hhZGVyUGFyYW1ldGVyKG4sdC5DT01QSUxFX1NUQVRVUyk/bjooY29uc29sZS5sb2codC5nZXRTaGFkZXJJbmZvTG9nKG4pKSxudWxsKX07ZS5leHBvcnRzPW59LHt9XSwxODpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQpe2Nhc2VcXFwiZmxvYXRcXFwiOnJldHVybiAwO2Nhc2VcXFwidmVjMlxcXCI6cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMiplKTtjYXNlXFxcInZlYzNcXFwiOnJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMqZSk7Y2FzZVxcXCJ2ZWM0XFxcIjpyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSg0KmUpO2Nhc2VcXFwiaW50XFxcIjpjYXNlXFxcInNhbXBsZXIyRFxcXCI6cmV0dXJuIDA7Y2FzZVxcXCJpdmVjMlxcXCI6cmV0dXJuIG5ldyBJbnQzMkFycmF5KDIqZSk7Y2FzZVxcXCJpdmVjM1xcXCI6cmV0dXJuIG5ldyBJbnQzMkFycmF5KDMqZSk7Y2FzZVxcXCJpdmVjNFxcXCI6cmV0dXJuIG5ldyBJbnQzMkFycmF5KDQqZSk7Y2FzZVxcXCJib29sXFxcIjpyZXR1cm4hMTtjYXNlXFxcImJ2ZWMyXFxcIjpyZXR1cm4gaSgyKmUpO2Nhc2VcXFwiYnZlYzNcXFwiOnJldHVybiBpKDMqZSk7Y2FzZVxcXCJidmVjNFxcXCI6cmV0dXJuIGkoNCplKTtjYXNlXFxcIm1hdDJcXFwiOnJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLDAsMCwxXSk7Y2FzZVxcXCJtYXQzXFxcIjpyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwwLDAsMCwxLDAsMCwwLDFdKTtjYXNlXFxcIm1hdDRcXFwiOnJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSl9fSxpPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodCkscj0wO3I8ZS5sZW5ndGg7cisrKWVbcl09ITE7cmV0dXJuIGV9O2UuZXhwb3J0cz1ufSx7fV0sMTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KFxcXCIuL21hcFR5cGVcXFwiKSxpPXQoXFxcIi4vbWFwU2l6ZVxcXCIpLG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9e30sbz10LmdldFByb2dyYW1QYXJhbWV0ZXIoZSx0LkFDVElWRV9BVFRSSUJVVEVTKSxhPTA7YTxvO2ErKyl7dmFyIHU9dC5nZXRBY3RpdmVBdHRyaWIoZSxhKSxoPW4odCx1LnR5cGUpO3JbdS5uYW1lXT17dHlwZTpoLHNpemU6aShoKSxsb2NhdGlvbjp0LmdldEF0dHJpYkxvY2F0aW9uKGUsdS5uYW1lKSxwb2ludGVyOnN9fXJldHVybiByfSxzPWZ1bmN0aW9uKHQsZSxyLG4pe2dsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5sb2NhdGlvbix0aGlzLnNpemUsdHx8Z2wuRkxPQVQsZXx8ITEscnx8MCxufHwwKX07ZS5leHBvcnRzPW99LHtcXFwiLi9tYXBTaXplXFxcIjoyMyxcXFwiLi9tYXBUeXBlXFxcIjoyNH1dLDIwOltmdW5jdGlvbih0LGUscil7dmFyIG49dChcXFwiLi9tYXBUeXBlXFxcIiksaT10KFxcXCIuL2RlZmF1bHRWYWx1ZVxcXCIpLG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9e30sbz10LmdldFByb2dyYW1QYXJhbWV0ZXIoZSx0LkFDVElWRV9VTklGT1JNUykscz0wO3M8bztzKyspe3ZhciBhPXQuZ2V0QWN0aXZlVW5pZm9ybShlLHMpLHU9YS5uYW1lLnJlcGxhY2UoL1xcXFxbLio/XFxcXF0vLFxcXCJcXFwiKSxoPW4odCxhLnR5cGUpO3JbdV09e3R5cGU6aCxzaXplOmEuc2l6ZSxsb2NhdGlvbjp0LmdldFVuaWZvcm1Mb2NhdGlvbihlLHUpLHZhbHVlOmkoaCxhLnNpemUpfX1yZXR1cm4gcn07ZS5leHBvcnRzPW99LHtcXFwiLi9kZWZhdWx0VmFsdWVcXFwiOjE4LFxcXCIuL21hcFR5cGVcXFwiOjI0fV0sMjE6W2Z1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3RoaXMuZGF0YVt0XS52YWx1ZT1yO3ZhciBuPXRoaXMuZGF0YVt0XS5sb2NhdGlvbjsxPT09ZS5zaXplP2FbZS50eXBlXSh0aGlzLmdsLG4scik6dVtlLnR5cGVdKHRoaXMuZ2wsbixyKX19ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgcj1lLG49MDtuPHQubGVuZ3RoLTE7bisrKXt2YXIgaT1yW3Rbbl1dfHx7ZGF0YTp7fX07clt0W25dXT1pLHI9aX1yZXR1cm4gcn12YXIgbz1mdW5jdGlvbih0LGUpe3ZhciByPXtkYXRhOnt9fTtyLmdsPXRcXG47Zm9yKHZhciBvPU9iamVjdC5rZXlzKGUpLGE9MDthPG8ubGVuZ3RoO2ErKyl7dmFyIHU9b1thXSxoPXUuc3BsaXQoXFxcIi5cXFwiKSxsPWhbaC5sZW5ndGgtMV0sYz1pKGgsciksZD1lW3VdO2MuZGF0YVtsXT1kLGMuZ2w9dCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxsLHtnZXQ6cyhsKSxzZXQ6bihsLGQpfSl9cmV0dXJuIHJ9LHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YVt0XS52YWx1ZX19LGE9e2Zsb2F0OmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm0xZihlLHIpfSx2ZWMyOmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm0yZihlLHJbMF0sclsxXSl9LHZlYzM6ZnVuY3Rpb24odCxlLHIpe3QudW5pZm9ybTNmKGUsclswXSxyWzFdLHJbMl0pfSx2ZWM0OmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm00ZihlLHJbMF0sclsxXSxyWzJdLHJbM10pfSxpbnQ6ZnVuY3Rpb24odCxlLHIpe3QudW5pZm9ybTFpKGUscil9LGl2ZWMyOmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm0yaShlLHJbMF0sclsxXSl9LGl2ZWMzOmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm0zaShlLHJbMF0sclsxXSxyWzJdKX0saXZlYzQ6ZnVuY3Rpb24odCxlLHIpe3QudW5pZm9ybTRpKGUsclswXSxyWzFdLHJbMl0sclszXSl9LGJvb2w6ZnVuY3Rpb24odCxlLHIpe3QudW5pZm9ybTFpKGUscil9LGJ2ZWMyOmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm0yaShlLHJbMF0sclsxXSl9LGJ2ZWMzOmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm0zaShlLHJbMF0sclsxXSxyWzJdKX0sYnZlYzQ6ZnVuY3Rpb24odCxlLHIpe3QudW5pZm9ybTRpKGUsclswXSxyWzFdLHJbMl0sclszXSl9LG1hdDI6ZnVuY3Rpb24odCxlLHIpe3QudW5pZm9ybU1hdHJpeDJmdihlLCExLHIpfSxtYXQzOmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm1NYXRyaXgzZnYoZSwhMSxyKX0sbWF0NDpmdW5jdGlvbih0LGUscil7dC51bmlmb3JtTWF0cml4NGZ2KGUsITEscil9LHNhbXBsZXIyRDpmdW5jdGlvbih0LGUscil7dC51bmlmb3JtMWkoZSxyKX19LHU9e2Zsb2F0OmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm0xZnYoZSxyKX0sdmVjMjpmdW5jdGlvbih0LGUscil7dC51bmlmb3JtMmZ2KGUscil9LHZlYzM6ZnVuY3Rpb24odCxlLHIpe3QudW5pZm9ybTNmdihlLHIpfSx2ZWM0OmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm00ZnYoZSxyKX0saW50OmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm0xaXYoZSxyKX0saXZlYzI6ZnVuY3Rpb24odCxlLHIpe3QudW5pZm9ybTJpdihlLHIpfSxpdmVjMzpmdW5jdGlvbih0LGUscil7dC51bmlmb3JtM2l2KGUscil9LGl2ZWM0OmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm00aXYoZSxyKX0sYm9vbDpmdW5jdGlvbih0LGUscil7dC51bmlmb3JtMWl2KGUscil9LGJ2ZWMyOmZ1bmN0aW9uKHQsZSxyKXt0LnVuaWZvcm0yaXYoZSxyKX0sYnZlYzM6ZnVuY3Rpb24odCxlLHIpe3QudW5pZm9ybTNpdihlLHIpfSxidmVjNDpmdW5jdGlvbih0LGUscil7dC51bmlmb3JtNGl2KGUscil9LHNhbXBsZXIyRDpmdW5jdGlvbih0LGUscil7dC51bmlmb3JtMWl2KGUscil9fTtlLmV4cG9ydHM9b30se31dLDIyOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPXtjb21waWxlUHJvZ3JhbTp0KFxcXCIuL2NvbXBpbGVQcm9ncmFtXFxcIiksZGVmYXVsdFZhbHVlOnQoXFxcIi4vZGVmYXVsdFZhbHVlXFxcIiksZXh0cmFjdEF0dHJpYnV0ZXM6dChcXFwiLi9leHRyYWN0QXR0cmlidXRlc1xcXCIpLGV4dHJhY3RVbmlmb3Jtczp0KFxcXCIuL2V4dHJhY3RVbmlmb3Jtc1xcXCIpLGdlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdDp0KFxcXCIuL2dlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdFxcXCIpLHNldFByZWNpc2lvbjp0KFxcXCIuL3NldFByZWNpc2lvblxcXCIpLG1hcFNpemU6dChcXFwiLi9tYXBTaXplXFxcIiksbWFwVHlwZTp0KFxcXCIuL21hcFR5cGVcXFwiKX19LHtcXFwiLi9jb21waWxlUHJvZ3JhbVxcXCI6MTcsXFxcIi4vZGVmYXVsdFZhbHVlXFxcIjoxOCxcXFwiLi9leHRyYWN0QXR0cmlidXRlc1xcXCI6MTksXFxcIi4vZXh0cmFjdFVuaWZvcm1zXFxcIjoyMCxcXFwiLi9nZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3RcXFwiOjIxLFxcXCIuL21hcFNpemVcXFwiOjIzLFxcXCIuL21hcFR5cGVcXFwiOjI0LFxcXCIuL3NldFByZWNpc2lvblxcXCI6MjV9XSwyMzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPWZ1bmN0aW9uKHQpe3JldHVybiBpW3RdfSxpPXtmbG9hdDoxLHZlYzI6Mix2ZWMzOjMsdmVjNDo0LGludDoxLGl2ZWMyOjIsaXZlYzM6MyxpdmVjNDo0LGJvb2w6MSxidmVjMjoyLGJ2ZWMzOjMsYnZlYzQ6NCxtYXQyOjQsbWF0Mzo5LG1hdDQ6MTYsc2FtcGxlcjJEOjF9O2UuZXhwb3J0cz1ufSx7fV0sMjQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1mdW5jdGlvbih0LGUpe2lmKCFpKXt2YXIgcj1PYmplY3Qua2V5cyhvKTtpPXt9O2Zvcih2YXIgbj0wO248ci5sZW5ndGg7KytuKXt2YXIgcz1yW25dO2lbdFtzXV09b1tzXX19cmV0dXJuIGlbZV19LGk9bnVsbCxvPXtGTE9BVDpcXFwiZmxvYXRcXFwiLEZMT0FUX1ZFQzI6XFxcInZlYzJcXFwiLEZMT0FUX1ZFQzM6XFxcInZlYzNcXFwiLEZMT0FUX1ZFQzQ6XFxcInZlYzRcXFwiLElOVDpcXFwiaW50XFxcIixJTlRfVkVDMjpcXFwiaXZlYzJcXFwiLElOVF9WRUMzOlxcXCJpdmVjM1xcXCIsSU5UX1ZFQzQ6XFxcIml2ZWM0XFxcIixCT09MOlxcXCJib29sXFxcIixCT09MX1ZFQzI6XFxcImJ2ZWMyXFxcIixCT09MX1ZFQzM6XFxcImJ2ZWMzXFxcIixCT09MX1ZFQzQ6XFxcImJ2ZWM0XFxcIixGTE9BVF9NQVQyOlxcXCJtYXQyXFxcIixGTE9BVF9NQVQzOlxcXCJtYXQzXFxcIixGTE9BVF9NQVQ0OlxcXCJtYXQ0XFxcIixTQU1QTEVSXzJEOlxcXCJzYW1wbGVyMkRcXFwifTtlLmV4cG9ydHM9bn0se31dLDI1OltmdW5jdGlvbih0LGUscil7dmFyIG49ZnVuY3Rpb24odCxlKXtyZXR1cm5cXFwicHJlY2lzaW9uXFxcIiE9PXQuc3Vic3RyaW5nKDAsOSk/XFxcInByZWNpc2lvbiBcXFwiK2UrXFxcIiBmbG9hdDtcXFxcblxcXCIrdDp0fTtlLmV4cG9ydHM9bn0se31dLDI2OltmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcihcXFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFxcXCIpfWZ1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoXFxcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFxcXCIpfWZ1bmN0aW9uIG8odCl7aWYoYz09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQodCwwKTtpZigoYz09PW58fCFjKSYmc2V0VGltZW91dClyZXR1cm4gYz1zZXRUaW1lb3V0LHNldFRpbWVvdXQodCwwKTt0cnl7cmV0dXJuIGModCwwKX1jYXRjaChlKXt0cnl7cmV0dXJuIGMuY2FsbChudWxsLHQsMCl9Y2F0Y2goZSl7cmV0dXJuIGMuY2FsbCh0aGlzLHQsMCl9fX1mdW5jdGlvbiBzKHQpe2lmKGQ9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dCh0KTtpZigoZD09PWl8fCFkKSYmY2xlYXJUaW1lb3V0KXJldHVybiBkPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQodCk7dHJ5e3JldHVybiBkKHQpfWNhdGNoKGUpe3RyeXtyZXR1cm4gZC5jYWxsKG51bGwsdCl9Y2F0Y2goZSl7cmV0dXJuIGQuY2FsbCh0aGlzLHQpfX19ZnVuY3Rpb24gYSgpe2cmJnAmJihnPSExLHAubGVuZ3RoP3Y9cC5jb25jYXQodik6eT0tMSx2Lmxlbmd0aCYmdSgpKX1mdW5jdGlvbiB1KCl7aWYoIWcpe3ZhciB0PW8oYSk7Zz0hMDtmb3IodmFyIGU9di5sZW5ndGg7ZTspe2ZvcihwPXYsdj1bXTsrK3k8ZTspcCYmcFt5XS5ydW4oKTt5PS0xLGU9di5sZW5ndGh9cD1udWxsLGc9ITEscyh0KX19ZnVuY3Rpb24gaCh0LGUpe3RoaXMuZnVuPXQsdGhpcy5hcnJheT1lfWZ1bmN0aW9uIGwoKXt9dmFyIGMsZCxmPWUuZXhwb3J0cz17fTshZnVuY3Rpb24oKXt0cnl7Yz1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om59Y2F0Y2godCl7Yz1ufXRyeXtkPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0Oml9Y2F0Y2godCl7ZD1pfX0oKTt2YXIgcCx2PVtdLGc9ITEseT0tMTtmLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWVbci0xXT1hcmd1bWVudHNbcl07di5wdXNoKG5ldyBoKHQsZSkpLDEhPT12Lmxlbmd0aHx8Z3x8byh1KX0saC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sZi50aXRsZT1cXFwiYnJvd3NlclxcXCIsZi5icm93c2VyPSEwLGYuZW52PXt9LGYuYXJndj1bXSxmLnZlcnNpb249XFxcIlxcXCIsZi52ZXJzaW9ucz17fSxmLm9uPWwsZi5hZGRMaXN0ZW5lcj1sLGYub25jZT1sLGYub2ZmPWwsZi5yZW1vdmVMaXN0ZW5lcj1sLGYucmVtb3ZlQWxsTGlzdGVuZXJzPWwsZi5lbWl0PWwsZi5wcmVwZW5kTGlzdGVuZXI9bCxmLnByZXBlbmRPbmNlTGlzdGVuZXI9bCxmLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm5bXX0sZi5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcXFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcXFwiKX0sZi5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cXFwiL1xcXCJ9LGYuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFxcXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcXFwiKX0sZi51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0se31dLDI3OltmdW5jdGlvbihlLHIsbil7KGZ1bmN0aW9uKGUpeyFmdW5jdGlvbihpKXtmdW5jdGlvbiBvKHQpe3Rocm93IG5ldyBSYW5nZUVycm9yKExbdF0pfWZ1bmN0aW9uIHModCxlKXtmb3IodmFyIHI9dC5sZW5ndGgsbj1bXTtyLS07KW5bcl09ZSh0W3JdKTtyZXR1cm4gbn1mdW5jdGlvbiBhKHQsZSl7dmFyIHI9dC5zcGxpdChcXFwiQFxcXCIpLG49XFxcIlxcXCI7cmV0dXJuIHIubGVuZ3RoPjEmJihuPXJbMF0rXFxcIkBcXFwiLHQ9clsxXSksdD10LnJlcGxhY2UoRCxcXFwiLlxcXCIpLG4rcyh0LnNwbGl0KFxcXCIuXFxcIiksZSkuam9pbihcXFwiLlxcXCIpfWZ1bmN0aW9uIHUodCl7Zm9yKHZhciBlLHIsbj1bXSxpPTAsbz10Lmxlbmd0aDtpPG87KWU9dC5jaGFyQ29kZUF0KGkrKyksZT49NTUyOTYmJmU8PTU2MzE5JiZpPG8/KHI9dC5jaGFyQ29kZUF0KGkrKyksNTYzMjA9PSg2NDUxMiZyKT9uLnB1c2goKCgxMDIzJmUpPDwxMCkrKDEwMjMmcikrNjU1MzYpOihuLnB1c2goZSksaS0tKSk6bi5wdXNoKGUpO3JldHVybiBufWZ1bmN0aW9uIGgodCl7cmV0dXJuIHModCxmdW5jdGlvbih0KXt2YXIgZT1cXFwiXFxcIjtyZXR1cm4gdD42NTUzNSYmKHQtPTY1NTM2LGUrPWsodD4+PjEwJjEwMjN8NTUyOTYpLHQ9NTYzMjB8MTAyMyZ0KSxlKz1rKHQpfSkuam9pbihcXFwiXFxcIil9ZnVuY3Rpb24gbCh0KXtyZXR1cm4gdC00ODwxMD90LTIyOnQtNjU8MjY/dC02NTp0LTk3PDI2P3QtOTc6d31mdW5jdGlvbiBjKHQsZSl7cmV0dXJuIHQrMjIrNzUqKHQ8MjYpLSgoMCE9ZSk8PDUpfWZ1bmN0aW9uIGQodCxlLHIpe3ZhciBuPTA7Zm9yKHQ9cj9CKHQvTSk6dD4+MSx0Kz1CKHQvZSk7dD5OKlM+PjE7bis9dyl0PUIodC9OKTtyZXR1cm4gQihuKyhOKzEpKnQvKHQrTykpfWZ1bmN0aW9uIGYodCl7dmFyIGUscixuLGkscyxhLHUsYyxmLHAsdj1bXSxnPXQubGVuZ3RoLHk9MCxtPUMsXz1QO2ZvcihyPXQubGFzdEluZGV4T2YoUikscjwwJiYocj0wKSxuPTA7bjxyOysrbil0LmNoYXJDb2RlQXQobik+PTEyOCYmbyhcXFwibm90LWJhc2ljXFxcIiksdi5wdXNoKHQuY2hhckNvZGVBdChuKSk7Zm9yKGk9cj4wP3IrMTowO2k8Zzspe2ZvcihzPXksYT0xLHU9dztpPj1nJiZvKFxcXCJpbnZhbGlkLWlucHV0XFxcIiksYz1sKHQuY2hhckNvZGVBdChpKyspKSwoYz49d3x8Yz5CKChULXkpL2EpKSYmbyhcXFwib3ZlcmZsb3dcXFwiKSx5Kz1jKmEsZj11PD1fP0U6dT49XytTP1M6dS1fLCEoYzxmKTt1Kz13KXA9dy1mLGE+QihUL3ApJiZvKFxcXCJvdmVyZmxvd1xcXCIpLGEqPXA7ZT12Lmxlbmd0aCsxLF89ZCh5LXMsZSwwPT1zKSxCKHkvZSk+VC1tJiZvKFxcXCJvdmVyZmxvd1xcXCIpLG0rPUIoeS9lKSx5JT1lLHYuc3BsaWNlKHkrKywwLG0pfXJldHVybiBoKHYpfWZ1bmN0aW9uIHAodCl7dmFyIGUscixuLGkscyxhLGgsbCxmLHAsdixnLHksbSxfLGI9W107Zm9yKHQ9dSh0KSxnPXQubGVuZ3RoLGU9QyxyPTAscz1QLGE9MDthPGc7KythKSh2PXRbYV0pPDEyOCYmYi5wdXNoKGsodikpO2ZvcihuPWk9Yi5sZW5ndGgsaSYmYi5wdXNoKFIpO248Zzspe2ZvcihoPVQsYT0wO2E8ZzsrK2EpKHY9dFthXSk+PWUmJnY8aCYmKGg9dik7Zm9yKHk9bisxLGgtZT5CKChULXIpL3kpJiZvKFxcXCJvdmVyZmxvd1xcXCIpLHIrPShoLWUpKnksZT1oLGE9MDthPGc7KythKWlmKHY9dFthXSx2PGUmJisrcj5UJiZvKFxcXCJvdmVyZmxvd1xcXCIpLHY9PWUpe2ZvcihsPXIsZj13O3A9Zjw9cz9FOmY+PXMrUz9TOmYtcywhKGw8cCk7Zis9dylfPWwtcCxtPXctcCxiLnB1c2goayhjKHArXyVtLDApKSksbD1CKF8vbSk7Yi5wdXNoKGsoYyhsLDApKSkscz1kKHIseSxuPT1pKSxyPTAsKytufSsrciwrK2V9cmV0dXJuIGIuam9pbihcXFwiXFxcIil9ZnVuY3Rpb24gdih0KXtyZXR1cm4gYSh0LGZ1bmN0aW9uKHQpe3JldHVybiBBLnRlc3QodCk/Zih0LnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpOnR9KX1mdW5jdGlvbiBnKHQpe3JldHVybiBhKHQsZnVuY3Rpb24odCl7cmV0dXJuIEkudGVzdCh0KT9cXFwieG4tLVxcXCIrcCh0KTp0fSl9dmFyIHk9XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBuJiZuJiYhbi5ub2RlVHlwZSYmbixtPVxcXCJvYmplY3RcXFwiPT10eXBlb2YgciYmciYmIXIubm9kZVR5cGUmJnIsXz1cXFwib2JqZWN0XFxcIj09dHlwZW9mIGUmJmU7Xy5nbG9iYWwhPT1fJiZfLndpbmRvdyE9PV8mJl8uc2VsZiE9PV98fChpPV8pO3ZhciBiLHgsVD0yMTQ3NDgzNjQ3LHc9MzYsRT0xLFM9MjYsTz0zOCxNPTcwMCxQPTcyLEM9MTI4LFI9XFxcIi1cXFwiLEE9L154bi0tLyxJPS9bXlxcXFx4MjAtXFxcXHg3RV0vLEQ9L1tcXFxceDJFXFxcXHUzMDAyXFxcXHVGRjBFXFxcXHVGRjYxXS9nLEw9e292ZXJmbG93OlxcXCJPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2Vzc1xcXCIsXFxcIm5vdC1iYXNpY1xcXCI6XFxcIklsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludClcXFwiLFxcXCJpbnZhbGlkLWlucHV0XFxcIjpcXFwiSW52YWxpZCBpbnB1dFxcXCJ9LE49dy1FLEI9TWF0aC5mbG9vcixrPVN0cmluZy5mcm9tQ2hhckNvZGU7aWYoYj17dmVyc2lvbjpcXFwiMS40LjFcXFwiLHVjczI6e2RlY29kZTp1LGVuY29kZTpofSxkZWNvZGU6ZixlbmNvZGU6cCx0b0FTQ0lJOmcsdG9Vbmljb2RlOnZ9LFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB0JiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIHQuYW1kJiZ0LmFtZCl0KFxcXCJwdW55Y29kZVxcXCIsZnVuY3Rpb24oKXtyZXR1cm4gYn0pO2Vsc2UgaWYoeSYmbSlpZihyLmV4cG9ydHM9PXkpbS5leHBvcnRzPWI7ZWxzZSBmb3IoeCBpbiBiKWIuaGFzT3duUHJvcGVydHkoeCkmJih5W3hdPWJbeF0pO2Vsc2UgaS5wdW55Y29kZT1ifSh0aGlzKX0pLmNhbGwodGhpcyxcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBzZWxmP3NlbGY6XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDI4OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLG8pe2U9ZXx8XFxcIiZcXFwiLHI9cnx8XFxcIj1cXFwiO3ZhciBzPXt9O2lmKFxcXCJzdHJpbmdcXFwiIT10eXBlb2YgdHx8MD09PXQubGVuZ3RoKXJldHVybiBzO3ZhciBhPS9cXFxcKy9nO3Q9dC5zcGxpdChlKTt2YXIgdT0xZTM7byYmXFxcIm51bWJlclxcXCI9PXR5cGVvZiBvLm1heEtleXMmJih1PW8ubWF4S2V5cyk7dmFyIGg9dC5sZW5ndGg7dT4wJiZoPnUmJihoPXUpO2Zvcih2YXIgbD0wO2w8aDsrK2wpe3ZhciBjLGQsZixwLHY9dFtsXS5yZXBsYWNlKGEsXFxcIiUyMFxcXCIpLGc9di5pbmRleE9mKHIpO2c+PTA/KGM9di5zdWJzdHIoMCxnKSxkPXYuc3Vic3RyKGcrMSkpOihjPXYsZD1cXFwiXFxcIiksZj1kZWNvZGVVUklDb21wb25lbnQoYykscD1kZWNvZGVVUklDb21wb25lbnQoZCksbihzLGYpP2koc1tmXSk/c1tmXS5wdXNoKHApOnNbZl09W3NbZl0scF06c1tmXT1wfXJldHVybiBzfTt2YXIgaT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cXFwiW29iamVjdCBBcnJheV1cXFwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfX0se31dLDI5OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZih0Lm1hcClyZXR1cm4gdC5tYXAoZSk7Zm9yKHZhciByPVtdLG49MDtuPHQubGVuZ3RoO24rKylyLnB1c2goZSh0W25dLG4pKTtyZXR1cm4gcn12YXIgaT1mdW5jdGlvbih0KXtzd2l0Y2godHlwZW9mIHQpe2Nhc2VcXFwic3RyaW5nXFxcIjpyZXR1cm4gdDtjYXNlXFxcImJvb2xlYW5cXFwiOnJldHVybiB0P1xcXCJ0cnVlXFxcIjpcXFwiZmFsc2VcXFwiO2Nhc2VcXFwibnVtYmVyXFxcIjpyZXR1cm4gaXNGaW5pdGUodCk/dDpcXFwiXFxcIjtkZWZhdWx0OnJldHVyblxcXCJcXFwifX07ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLGEpe3JldHVybiBlPWV8fFxcXCImXFxcIixyPXJ8fFxcXCI9XFxcIixudWxsPT09dCYmKHQ9dm9pZCAwKSxcXFwib2JqZWN0XFxcIj09dHlwZW9mIHQ/bihzKHQpLGZ1bmN0aW9uKHMpe3ZhciBhPWVuY29kZVVSSUNvbXBvbmVudChpKHMpKStyO3JldHVybiBvKHRbc10pP24odFtzXSxmdW5jdGlvbih0KXtyZXR1cm4gYStlbmNvZGVVUklDb21wb25lbnQoaSh0KSl9KS5qb2luKGUpOmErZW5jb2RlVVJJQ29tcG9uZW50KGkodFtzXSkpfSkuam9pbihlKTphP2VuY29kZVVSSUNvbXBvbmVudChpKGEpKStyK2VuY29kZVVSSUNvbXBvbmVudChpKHQpKTpcXFwiXFxcIn07dmFyIG89QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuXFxcIltvYmplY3QgQXJyYXldXFxcIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX0scz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7dmFyIGU9W107Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJmUucHVzaChyKTtyZXR1cm4gZX19LHt9XSwzMDpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtyLmRlY29kZT1yLnBhcnNlPXQoXFxcIi4vZGVjb2RlXFxcIiksci5lbmNvZGU9ci5zdHJpbmdpZnk9dChcXFwiLi9lbmNvZGVcXFwiKX0se1xcXCIuL2RlY29kZVxcXCI6MjgsXFxcIi4vZW5jb2RlXFxcIjoyOX1dLDMxOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dmFyIG4saT10Lmxlbmd0aDtpZighKGU+PWl8fDA9PT1yKSl7cj1lK3I+aT9pLWU6cjt2YXIgbz1pLXI7Zm9yKG49ZTtuPG87KytuKXRbbl09dFtuK3JdO3QubGVuZ3RoPW99fX0se31dLDMyOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITAsci5Mb2FkZXI9dm9pZCAwO3ZhciBvPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBTeW1ib2wmJlxcXCJzeW1ib2xcXFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1xcXCJzeW1ib2xcXFwiOnR5cGVvZiB0fSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGE9dChcXFwibWluaS1zaWduYWxzXFxcIiksdT1uKGEpLGg9dChcXFwicGFyc2UtdXJpXFxcIiksbD1uKGgpLGM9dChcXFwiLi9hc3luY1xcXCIpLGQ9ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShjKSxmPXQoXFxcIi4vUmVzb3VyY2VcXFwiKSxwPS8oI1tcXFxcdy1dKyk/JC8sdj1yLkxvYWRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT10aGlzLHI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlxcXCJcXFwiLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEwO2kodGhpcyx0KSx0aGlzLmJhc2VVcmw9cix0aGlzLnByb2dyZXNzPTAsdGhpcy5sb2FkaW5nPSExLHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nPVxcXCJcXFwiLHRoaXMuX2JlZm9yZU1pZGRsZXdhcmU9W10sdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlPVtdLHRoaXMuX3Jlc291cmNlc1BhcnNpbmc9W10sdGhpcy5fYm91bmRMb2FkUmVzb3VyY2U9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5fbG9hZFJlc291cmNlKHQscil9LHRoaXMuX3F1ZXVlPWQucXVldWUodGhpcy5fYm91bmRMb2FkUmVzb3VyY2UsbiksdGhpcy5fcXVldWUucGF1c2UoKSx0aGlzLnJlc291cmNlcz17fSx0aGlzLm9uUHJvZ3Jlc3M9bmV3IHUuZGVmYXVsdCx0aGlzLm9uRXJyb3I9bmV3IHUuZGVmYXVsdCx0aGlzLm9uTG9hZD1uZXcgdS5kZWZhdWx0LHRoaXMub25TdGFydD1uZXcgdS5kZWZhdWx0LHRoaXMub25Db21wbGV0ZT1uZXcgdS5kZWZhdWx0O2Zvcih2YXIgbz0wO288dC5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUubGVuZ3RoOysrbyl0aGlzLnByZSh0Ll9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZVtvXSk7Zm9yKHZhciBzPTA7czx0Ll9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlLmxlbmd0aDsrK3MpdGhpcy51c2UodC5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZVtzXSl9cmV0dXJuIHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUscixuKXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoOysraSl0aGlzLmFkZCh0W2ldKTtyZXR1cm4gdGhpc31pZihcXFwib2JqZWN0XFxcIj09PSh2b2lkIDA9PT10P1xcXCJ1bmRlZmluZWRcXFwiOm8odCkpJiYobj1lfHx0LmNhbGxiYWNrfHx0Lm9uQ29tcGxldGUscj10LGU9dC51cmwsdD10Lm5hbWV8fHQua2V5fHx0LnVybCksXFxcInN0cmluZ1xcXCIhPXR5cGVvZiBlJiYobj1yLHI9ZSxlPXQpLFxcXCJzdHJpbmdcXFwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXFxcIk5vIHVybCBwYXNzZWQgdG8gYWRkIHJlc291cmNlIHRvIGxvYWRlci5cXFwiKTtpZihcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgciYmKG49cixyPW51bGwpLHRoaXMubG9hZGluZyYmKCFyfHwhci5wYXJlbnRSZXNvdXJjZSkpdGhyb3cgbmV3IEVycm9yKFxcXCJDYW5ub3QgYWRkIHJlc291cmNlcyB3aGlsZSB0aGUgbG9hZGVyIGlzIHJ1bm5pbmcuXFxcIik7aWYodGhpcy5yZXNvdXJjZXNbdF0pdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBuYW1lZCBcXFwiJyt0KydcXFwiIGFscmVhZHkgZXhpc3RzLicpO2lmKGU9dGhpcy5fcHJlcGFyZVVybChlKSx0aGlzLnJlc291cmNlc1t0XT1uZXcgZi5SZXNvdXJjZSh0LGUsciksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIG4mJnRoaXMucmVzb3VyY2VzW3RdLm9uQWZ0ZXJNaWRkbGV3YXJlLm9uY2UobiksdGhpcy5sb2FkaW5nKXtmb3IodmFyIHM9ci5wYXJlbnRSZXNvdXJjZSxhPVtdLHU9MDt1PHMuY2hpbGRyZW4ubGVuZ3RoOysrdSlzLmNoaWxkcmVuW3VdLmlzQ29tcGxldGV8fGEucHVzaChzLmNoaWxkcmVuW3VdKTt2YXIgaD1zLnByb2dyZXNzQ2h1bmsqKGEubGVuZ3RoKzEpLGw9aC8oYS5sZW5ndGgrMik7cy5jaGlsZHJlbi5wdXNoKHRoaXMucmVzb3VyY2VzW3RdKSxzLnByb2dyZXNzQ2h1bms9bDtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylhW2NdLnByb2dyZXNzQ2h1bms9bDt0aGlzLnJlc291cmNlc1t0XS5wcm9ncmVzc0NodW5rPWx9cmV0dXJuIHRoaXMuX3F1ZXVlLnB1c2godGhpcy5yZXNvdXJjZXNbdF0pLHRoaXN9LHQucHJvdG90eXBlLnByZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKHQpLHRoaXN9LHQucHJvdG90eXBlLnVzZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLnB1c2godCksdGhpc30sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnByb2dyZXNzPTAsdGhpcy5sb2FkaW5nPSExLHRoaXMuX3F1ZXVlLmtpbGwoKSx0aGlzLl9xdWV1ZS5wYXVzZSgpO2Zvcih2YXIgdCBpbiB0aGlzLnJlc291cmNlcyl7dmFyIGU9dGhpcy5yZXNvdXJjZXNbdF07ZS5fb25Mb2FkQmluZGluZyYmZS5fb25Mb2FkQmluZGluZy5kZXRhY2goKSxlLmlzTG9hZGluZyYmZS5hYm9ydCgpfXJldHVybiB0aGlzLnJlc291cmNlcz17fSx0aGlzfSx0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe2lmKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB0JiZ0aGlzLm9uQ29tcGxldGUub25jZSh0KSx0aGlzLmxvYWRpbmcpcmV0dXJuIHRoaXM7aWYodGhpcy5fcXVldWUuaWRsZSgpKXRoaXMuX29uU3RhcnQoKSx0aGlzLl9vbkNvbXBsZXRlKCk7ZWxzZXtmb3IodmFyIGU9dGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aCxyPTEwMC9lLG49MDtuPHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7KytuKXRoaXMuX3F1ZXVlLl90YXNrc1tuXS5kYXRhLnByb2dyZXNzQ2h1bms9cjt0aGlzLl9vblN0YXJ0KCksdGhpcy5fcXVldWUucmVzdW1lKCl9cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLl9wcmVwYXJlVXJsPWZ1bmN0aW9uKHQpe3ZhciBlPSgwLGwuZGVmYXVsdCkodCx7c3RyaWN0TW9kZTohMH0pLHI9dm9pZCAwO2lmKHI9ZS5wcm90b2NvbHx8IWUucGF0aHx8MD09PXQuaW5kZXhPZihcXFwiLy9cXFwiKT90OnRoaXMuYmFzZVVybC5sZW5ndGgmJnRoaXMuYmFzZVVybC5sYXN0SW5kZXhPZihcXFwiL1xcXCIpIT09dGhpcy5iYXNlVXJsLmxlbmd0aC0xJiZcXFwiL1xcXCIhPT10LmNoYXJBdCgwKT90aGlzLmJhc2VVcmwrXFxcIi9cXFwiK3Q6dGhpcy5iYXNlVXJsK3QsdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcpe3ZhciBuPXAuZXhlYyhyKVswXTtyPXIuc3Vic3RyKDAsci5sZW5ndGgtbi5sZW5ndGgpLC0xIT09ci5pbmRleE9mKFxcXCI/XFxcIik/cis9XFxcIiZcXFwiK3RoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nOnIrPVxcXCI/XFxcIit0aGlzLmRlZmF1bHRRdWVyeVN0cmluZyxyKz1ufXJldHVybiByfSx0LnByb3RvdHlwZS5fbG9hZFJlc291cmNlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpczt0Ll9kZXF1ZXVlPWUsZC5lYWNoU2VyaWVzKHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUsZnVuY3Rpb24oZSxuKXtlLmNhbGwocix0LGZ1bmN0aW9uKCl7bih0LmlzQ29tcGxldGU/e306bnVsbCl9KX0sZnVuY3Rpb24oKXt0LmlzQ29tcGxldGU/ci5fb25Mb2FkKHQpOih0Ll9vbkxvYWRCaW5kaW5nPXQub25Db21wbGV0ZS5vbmNlKHIuX29uTG9hZCxyKSx0LmxvYWQoKSl9LCEwKX0sdC5wcm90b3R5cGUuX29uU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLnByb2dyZXNzPTAsdGhpcy5sb2FkaW5nPSEwLHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKX0sdC5wcm90b3R5cGUuX29uQ29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLnByb2dyZXNzPTEwMCx0aGlzLmxvYWRpbmc9ITEsdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMsdGhpcy5yZXNvdXJjZXMpfSx0LnByb3RvdHlwZS5fb25Mb2FkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5fb25Mb2FkQmluZGluZz1udWxsLHRoaXMuX3Jlc291cmNlc1BhcnNpbmcucHVzaCh0KSx0Ll9kZXF1ZXVlKCksZC5lYWNoU2VyaWVzKHRoaXMuX2FmdGVyTWlkZGxld2FyZSxmdW5jdGlvbihyLG4pe3IuY2FsbChlLHQsbil9LGZ1bmN0aW9uKCl7dC5vbkFmdGVyTWlkZGxld2FyZS5kaXNwYXRjaCh0KSxlLnByb2dyZXNzPU1hdGgubWluKDEwMCxlLnByb2dyZXNzK3QucHJvZ3Jlc3NDaHVuayksZS5vblByb2dyZXNzLmRpc3BhdGNoKGUsdCksdC5lcnJvcj9lLm9uRXJyb3IuZGlzcGF0Y2godC5lcnJvcixlLHQpOmUub25Mb2FkLmRpc3BhdGNoKGUsdCksZS5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoZS5fcmVzb3VyY2VzUGFyc2luZy5pbmRleE9mKHQpLDEpLGUuX3F1ZXVlLmlkbGUoKSYmMD09PWUuX3Jlc291cmNlc1BhcnNpbmcubGVuZ3RoJiZlLl9vbkNvbXBsZXRlKCl9LCEwKX0scyh0LFt7a2V5OlxcXCJjb25jdXJyZW5jeVxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3F1ZXVlLmNvbmN1cnJlbmN5fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcXVldWUuY29uY3VycmVuY3k9dH19XSksdH0oKTt2Ll9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZT1bXSx2Ll9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlPVtdLHYucHJlPWZ1bmN0aW9uKHQpe3JldHVybiB2Ll9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5wdXNoKHQpLHZ9LHYudXNlPWZ1bmN0aW9uKHQpe3JldHVybiB2Ll9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlLnB1c2godCksdn19LHtcXFwiLi9SZXNvdXJjZVxcXCI6MzMsXFxcIi4vYXN5bmNcXFwiOjM0LFxcXCJtaW5pLXNpZ25hbHNcXFwiOjUsXFxcInBhcnNlLXVyaVxcXCI6N31dLDMzOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIHModCxlLHIpe2UmJjA9PT1lLmluZGV4T2YoXFxcIi5cXFwiKSYmKGU9ZS5zdWJzdHJpbmcoMSkpLGUmJih0W2VdPXIpfWZ1bmN0aW9uIGEodCl7cmV0dXJuIHQudG9TdHJpbmcoKS5yZXBsYWNlKFxcXCJvYmplY3QgXFxcIixcXFwiXFxcIil9ci5fX2VzTW9kdWxlPSEwLHIuUmVzb3VyY2U9dm9pZCAwO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGg9dChcXFwicGFyc2UtdXJpXFxcIiksbD1uKGgpLGM9dChcXFwibWluaS1zaWduYWxzXFxcIiksZD1uKGMpLGY9ISghd2luZG93LlhEb21haW5SZXF1ZXN0fHxcXFwid2l0aENyZWRlbnRpYWxzXFxcImluIG5ldyBYTUxIdHRwUmVxdWVzdCkscD1udWxsLHY9ci5SZXNvdXJjZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLG4pe2lmKGkodGhpcyx0KSxcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGV8fFxcXCJzdHJpbmdcXFwiIT10eXBlb2Ygcil0aHJvdyBuZXcgRXJyb3IoXFxcIkJvdGggbmFtZSBhbmQgdXJsIGFyZSByZXF1aXJlZCBmb3IgY29uc3RydWN0aW5nIGEgcmVzb3VyY2UuXFxcIik7bj1ufHx7fSx0aGlzLl9mbGFncz0wLHRoaXMuX3NldEZsYWcodC5TVEFUVVNfRkxBR1MuREFUQV9VUkwsMD09PXIuaW5kZXhPZihcXFwiZGF0YTpcXFwiKSksdGhpcy5uYW1lPWUsdGhpcy51cmw9cix0aGlzLmV4dGVuc2lvbj10aGlzLl9nZXRFeHRlbnNpb24oKSx0aGlzLmRhdGE9bnVsbCx0aGlzLmNyb3NzT3JpZ2luPSEwPT09bi5jcm9zc09yaWdpbj9cXFwiYW5vbnltb3VzXFxcIjpuLmNyb3NzT3JpZ2luLHRoaXMudGltZW91dD1uLnRpbWVvdXR8fDAsdGhpcy5sb2FkVHlwZT1uLmxvYWRUeXBlfHx0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpLHRoaXMueGhyVHlwZT1uLnhoclR5cGUsdGhpcy5tZXRhZGF0YT1uLm1ldGFkYXRhfHx7fSx0aGlzLmVycm9yPW51bGwsdGhpcy54aHI9bnVsbCx0aGlzLmNoaWxkcmVuPVtdLHRoaXMudHlwZT10LlRZUEUuVU5LTk9XTix0aGlzLnByb2dyZXNzQ2h1bms9MCx0aGlzLl9kZXF1ZXVlPW8sdGhpcy5fb25Mb2FkQmluZGluZz1udWxsLHRoaXMuX2VsZW1lbnRUaW1lcj0wLHRoaXMuX2JvdW5kQ29tcGxldGU9dGhpcy5jb21wbGV0ZS5iaW5kKHRoaXMpLHRoaXMuX2JvdW5kT25FcnJvcj10aGlzLl9vbkVycm9yLmJpbmQodGhpcyksdGhpcy5fYm91bmRPblByb2dyZXNzPXRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKSx0aGlzLl9ib3VuZE9uVGltZW91dD10aGlzLl9vblRpbWVvdXQuYmluZCh0aGlzKSx0aGlzLl9ib3VuZFhock9uRXJyb3I9dGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpLHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0PXRoaXMuX3hock9uVGltZW91dC5iaW5kKHRoaXMpLHRoaXMuX2JvdW5kWGhyT25BYm9ydD10aGlzLl94aHJPbkFib3J0LmJpbmQodGhpcyksdGhpcy5fYm91bmRYaHJPbkxvYWQ9dGhpcy5feGhyT25Mb2FkLmJpbmQodGhpcyksdGhpcy5vblN0YXJ0PW5ldyBkLmRlZmF1bHQsdGhpcy5vblByb2dyZXNzPW5ldyBkLmRlZmF1bHQsdGhpcy5vbkNvbXBsZXRlPW5ldyBkLmRlZmF1bHQsdGhpcy5vbkFmdGVyTWlkZGxld2FyZT1uZXcgZC5kZWZhdWx0fXJldHVybiB0LnNldEV4dGVuc2lvbkxvYWRUeXBlPWZ1bmN0aW9uKGUscil7cyh0Ll9sb2FkVHlwZU1hcCxlLHIpfSx0LnNldEV4dGVuc2lvblhoclR5cGU9ZnVuY3Rpb24oZSxyKXtzKHQuX3hoclR5cGVNYXAsZSxyKX0sdC5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckV2ZW50cygpLHRoaXMuX2ZpbmlzaCgpfSx0LnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbihlKXtpZighdGhpcy5lcnJvcil7aWYodGhpcy5lcnJvcj1uZXcgRXJyb3IoZSksdGhpcy5fY2xlYXJFdmVudHMoKSx0aGlzLnhocil0aGlzLnhoci5hYm9ydCgpO2Vsc2UgaWYodGhpcy54ZHIpdGhpcy54ZHIuYWJvcnQoKTtlbHNlIGlmKHRoaXMuZGF0YSlpZih0aGlzLmRhdGEuc3JjKXRoaXMuZGF0YS5zcmM9dC5FTVBUWV9HSUY7ZWxzZSBmb3IoO3RoaXMuZGF0YS5maXJzdENoaWxkOyl0aGlzLmRhdGEucmVtb3ZlQ2hpbGQodGhpcy5kYXRhLmZpcnN0Q2hpbGQpO3RoaXMuX2ZpbmlzaCgpfX0sdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihlKXt2YXIgcj10aGlzO2lmKCF0aGlzLmlzTG9hZGluZyl7aWYodGhpcy5pc0NvbXBsZXRlKXJldHVybiB2b2lkKGUmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZShyKX0sMSkpO3N3aXRjaChlJiZ0aGlzLm9uQ29tcGxldGUub25jZShlKSx0aGlzLl9zZXRGbGFnKHQuU1RBVFVTX0ZMQUdTLkxPQURJTkcsITApLHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKSwhMSE9PXRoaXMuY3Jvc3NPcmlnaW4mJlxcXCJzdHJpbmdcXFwiPT10eXBlb2YgdGhpcy5jcm9zc09yaWdpbnx8KHRoaXMuY3Jvc3NPcmlnaW49dGhpcy5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odGhpcy51cmwpKSx0aGlzLmxvYWRUeXBlKXtjYXNlIHQuTE9BRF9UWVBFLklNQUdFOnRoaXMudHlwZT10LlRZUEUuSU1BR0UsdGhpcy5fbG9hZEVsZW1lbnQoXFxcImltYWdlXFxcIik7YnJlYWs7Y2FzZSB0LkxPQURfVFlQRS5BVURJTzp0aGlzLnR5cGU9dC5UWVBFLkFVRElPLHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KFxcXCJhdWRpb1xcXCIpO2JyZWFrO2Nhc2UgdC5MT0FEX1RZUEUuVklERU86dGhpcy50eXBlPXQuVFlQRS5WSURFTyx0aGlzLl9sb2FkU291cmNlRWxlbWVudChcXFwidmlkZW9cXFwiKTticmVhaztjYXNlIHQuTE9BRF9UWVBFLlhIUjpkZWZhdWx0OmYmJnRoaXMuY3Jvc3NPcmlnaW4/dGhpcy5fbG9hZFhkcigpOnRoaXMuX2xvYWRYaHIoKX19fSx0LnByb3RvdHlwZS5faGFzRmxhZz1mdW5jdGlvbih0KXtyZXR1cm4gMCE9KHRoaXMuX2ZsYWdzJnQpfSx0LnByb3RvdHlwZS5fc2V0RmxhZz1mdW5jdGlvbih0LGUpe3RoaXMuX2ZsYWdzPWU/dGhpcy5fZmxhZ3N8dDp0aGlzLl9mbGFncyZ+dH0sdC5wcm90b3R5cGUuX2NsZWFyRXZlbnRzPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2VsZW1lbnRUaW1lciksdGhpcy5kYXRhJiZ0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lciYmKHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJlcnJvclxcXCIsdGhpcy5fYm91bmRPbkVycm9yLCExKSx0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwibG9hZFxcXCIsdGhpcy5fYm91bmRDb21wbGV0ZSwhMSksdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcInByb2dyZXNzXFxcIix0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsITEpLHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJjYW5wbGF5dGhyb3VnaFxcXCIsdGhpcy5fYm91bmRDb21wbGV0ZSwhMSkpLHRoaXMueGhyJiYodGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcj8odGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwiZXJyb3JcXFwiLHRoaXMuX2JvdW5kWGhyT25FcnJvciwhMSksdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwidGltZW91dFxcXCIsdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsITEpLHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcImFib3J0XFxcIix0aGlzLl9ib3VuZFhock9uQWJvcnQsITEpLHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcInByb2dyZXNzXFxcIix0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsITEpLHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcImxvYWRcXFwiLHRoaXMuX2JvdW5kWGhyT25Mb2FkLCExKSk6KHRoaXMueGhyLm9uZXJyb3I9bnVsbCx0aGlzLnhoci5vbnRpbWVvdXQ9bnVsbCx0aGlzLnhoci5vbnByb2dyZXNzPW51bGwsdGhpcy54aHIub25sb2FkPW51bGwpKX0sdC5wcm90b3R5cGUuX2ZpbmlzaD1mdW5jdGlvbigpe2lmKHRoaXMuaXNDb21wbGV0ZSl0aHJvdyBuZXcgRXJyb3IoXFxcIkNvbXBsZXRlIGNhbGxlZCBhZ2FpbiBmb3IgYW4gYWxyZWFkeSBjb21wbGV0ZWQgcmVzb3VyY2UuXFxcIik7dGhpcy5fc2V0RmxhZyh0LlNUQVRVU19GTEFHUy5DT01QTEVURSwhMCksdGhpcy5fc2V0RmxhZyh0LlNUQVRVU19GTEFHUy5MT0FESU5HLCExKSx0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcyl9LHQucHJvdG90eXBlLl9sb2FkRWxlbWVudD1mdW5jdGlvbih0KXt0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50P3RoaXMuZGF0YT10aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50OlxcXCJpbWFnZVxcXCI9PT10JiZ2b2lkIDAhPT13aW5kb3cuSW1hZ2U/dGhpcy5kYXRhPW5ldyBJbWFnZTp0aGlzLmRhdGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KSx0aGlzLmNyb3NzT3JpZ2luJiYodGhpcy5kYXRhLmNyb3NzT3JpZ2luPXRoaXMuY3Jvc3NPcmlnaW4pLHRoaXMubWV0YWRhdGEuc2tpcFNvdXJjZXx8KHRoaXMuZGF0YS5zcmM9dGhpcy51cmwpLHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKFxcXCJlcnJvclxcXCIsdGhpcy5fYm91bmRPbkVycm9yLCExKSx0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcihcXFwibG9hZFxcXCIsdGhpcy5fYm91bmRDb21wbGV0ZSwhMSksdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoXFxcInByb2dyZXNzXFxcIix0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsITEpLHRoaXMudGltZW91dCYmKHRoaXMuX2VsZW1lbnRUaW1lcj1zZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LHRoaXMudGltZW91dCkpfSx0LnByb3RvdHlwZS5fbG9hZFNvdXJjZUVsZW1lbnQ9ZnVuY3Rpb24odCl7aWYodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudD90aGlzLmRhdGE9dGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDpcXFwiYXVkaW9cXFwiPT09dCYmdm9pZCAwIT09d2luZG93LkF1ZGlvP3RoaXMuZGF0YT1uZXcgQXVkaW86dGhpcy5kYXRhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCksbnVsbD09PXRoaXMuZGF0YSlyZXR1cm4gdm9pZCB0aGlzLmFib3J0KFxcXCJVbnN1cHBvcnRlZCBlbGVtZW50OiBcXFwiK3QpO2lmKHRoaXMuY3Jvc3NPcmlnaW4mJih0aGlzLmRhdGEuY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbiksIXRoaXMubWV0YWRhdGEuc2tpcFNvdXJjZSlpZihuYXZpZ2F0b3IuaXNDb2Nvb25KUyl0aGlzLmRhdGEuc3JjPUFycmF5LmlzQXJyYXkodGhpcy51cmwpP3RoaXMudXJsWzBdOnRoaXMudXJsO2Vsc2UgaWYoQXJyYXkuaXNBcnJheSh0aGlzLnVybCkpZm9yKHZhciBlPXRoaXMubWV0YWRhdGEubWltZVR5cGUscj0wO3I8dGhpcy51cmwubGVuZ3RoOysrcil0aGlzLmRhdGEuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlU291cmNlKHQsdGhpcy51cmxbcl0sQXJyYXkuaXNBcnJheShlKT9lW3JdOmUpKTtlbHNle3ZhciBuPXRoaXMubWV0YWRhdGEubWltZVR5cGU7dGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0LHRoaXMudXJsLEFycmF5LmlzQXJyYXkobik/blswXTpuKSl9dGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoXFxcImVycm9yXFxcIix0aGlzLl9ib3VuZE9uRXJyb3IsITEpLHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKFxcXCJsb2FkXFxcIix0aGlzLl9ib3VuZENvbXBsZXRlLCExKSx0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcihcXFwicHJvZ3Jlc3NcXFwiLHRoaXMuX2JvdW5kT25Qcm9ncmVzcywhMSksdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoXFxcImNhbnBsYXl0aHJvdWdoXFxcIix0aGlzLl9ib3VuZENvbXBsZXRlLCExKSx0aGlzLmRhdGEubG9hZCgpLHRoaXMudGltZW91dCYmKHRoaXMuX2VsZW1lbnRUaW1lcj1zZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LHRoaXMudGltZW91dCkpfSx0LnByb3RvdHlwZS5fbG9hZFhocj1mdW5jdGlvbigpe1xcXCJzdHJpbmdcXFwiIT10eXBlb2YgdGhpcy54aHJUeXBlJiYodGhpcy54aHJUeXBlPXRoaXMuX2RldGVybWluZVhoclR5cGUoKSk7dmFyIGU9dGhpcy54aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O2Uub3BlbihcXFwiR0VUXFxcIix0aGlzLnVybCwhMCksZS50aW1lb3V0PXRoaXMudGltZW91dCx0aGlzLnhoclR5cGU9PT10LlhIUl9SRVNQT05TRV9UWVBFLkpTT058fHRoaXMueGhyVHlwZT09PXQuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQ/ZS5yZXNwb25zZVR5cGU9dC5YSFJfUkVTUE9OU0VfVFlQRS5URVhUOmUucmVzcG9uc2VUeXBlPXRoaXMueGhyVHlwZSxlLmFkZEV2ZW50TGlzdGVuZXIoXFxcImVycm9yXFxcIix0aGlzLl9ib3VuZFhock9uRXJyb3IsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcXFwidGltZW91dFxcXCIsdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcXFwiYWJvcnRcXFwiLHRoaXMuX2JvdW5kWGhyT25BYm9ydCwhMSksZS5hZGRFdmVudExpc3RlbmVyKFxcXCJwcm9ncmVzc1xcXCIsdGhpcy5fYm91bmRPblByb2dyZXNzLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXFxcImxvYWRcXFwiLHRoaXMuX2JvdW5kWGhyT25Mb2FkLCExKSxlLnNlbmQoKX0sdC5wcm90b3R5cGUuX2xvYWRYZHI9ZnVuY3Rpb24oKXtcXFwic3RyaW5nXFxcIiE9dHlwZW9mIHRoaXMueGhyVHlwZSYmKHRoaXMueGhyVHlwZT10aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCkpO3ZhciB0PXRoaXMueGhyPW5ldyBYRG9tYWluUmVxdWVzdDt0LnRpbWVvdXQ9dGhpcy50aW1lb3V0fHw1ZTMsdC5vbmVycm9yPXRoaXMuX2JvdW5kWGhyT25FcnJvcix0Lm9udGltZW91dD10aGlzLl9ib3VuZFhock9uVGltZW91dCx0Lm9ucHJvZ3Jlc3M9dGhpcy5fYm91bmRPblByb2dyZXNzLHQub25sb2FkPXRoaXMuX2JvdW5kWGhyT25Mb2FkLHQub3BlbihcXFwiR0VUXFxcIix0aGlzLnVybCwhMCksc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0LnNlbmQoKX0sMSl9LHQucHJvdG90eXBlLl9jcmVhdGVTb3VyY2U9ZnVuY3Rpb24odCxlLHIpe3J8fChyPXQrXFxcIi9cXFwiK3RoaXMuX2dldEV4dGVuc2lvbihlKSk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwic291cmNlXFxcIik7cmV0dXJuIG4uc3JjPWUsbi50eXBlPXIsbn0sdC5wcm90b3R5cGUuX29uRXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5hYm9ydChcXFwiRmFpbGVkIHRvIGxvYWQgZWxlbWVudCB1c2luZzogXFxcIit0LnRhcmdldC5ub2RlTmFtZSl9LHQucHJvdG90eXBlLl9vblByb2dyZXNzPWZ1bmN0aW9uKHQpe3QmJnQubGVuZ3RoQ29tcHV0YWJsZSYmdGhpcy5vblByb2dyZXNzLmRpc3BhdGNoKHRoaXMsdC5sb2FkZWQvdC50b3RhbCl9LHQucHJvdG90eXBlLl9vblRpbWVvdXQ9ZnVuY3Rpb24oKXt0aGlzLmFib3J0KFxcXCJMb2FkIHRpbWVkIG91dC5cXFwiKX0sdC5wcm90b3R5cGUuX3hock9uRXJyb3I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnhocjt0aGlzLmFib3J0KGEodCkrXFxcIiBSZXF1ZXN0IGZhaWxlZC4gU3RhdHVzOiBcXFwiK3Quc3RhdHVzKycsIHRleHQ6IFxcXCInK3Quc3RhdHVzVGV4dCsnXFxcIicpfSx0LnByb3RvdHlwZS5feGhyT25UaW1lb3V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy54aHI7dGhpcy5hYm9ydChhKHQpK1xcXCIgUmVxdWVzdCB0aW1lZCBvdXQuXFxcIil9LHQucHJvdG90eXBlLl94aHJPbkFib3J0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy54aHI7dGhpcy5hYm9ydChhKHQpK1xcXCIgUmVxdWVzdCB3YXMgYWJvcnRlZCBieSB0aGUgdXNlci5cXFwiKX0sdC5wcm90b3R5cGUuX3hock9uTG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMueGhyLHI9XFxcIlxcXCIsbj12b2lkIDA9PT1lLnN0YXR1cz8yMDA6ZS5zdGF0dXM7aWYoXFxcIlxcXCIhPT1lLnJlc3BvbnNlVHlwZSYmXFxcInRleHRcXFwiIT09ZS5yZXNwb25zZVR5cGUmJnZvaWQgMCE9PWUucmVzcG9uc2VUeXBlfHwocj1lLnJlc3BvbnNlVGV4dCksMD09PW4mJihyLmxlbmd0aD4wfHxlLnJlc3BvbnNlVHlwZT09PXQuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKT9uPTIwMDoxMjIzPT09biYmKG49MjA0KSwyIT0obi8xMDB8MCkpcmV0dXJuIHZvaWQgdGhpcy5hYm9ydChcXFwiW1xcXCIrZS5zdGF0dXMrXFxcIl0gXFxcIitlLnN0YXR1c1RleHQrXFxcIjogXFxcIitlLnJlc3BvbnNlVVJMKTtpZih0aGlzLnhoclR5cGU9PT10LlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpdGhpcy5kYXRhPXIsdGhpcy50eXBlPXQuVFlQRS5URVhUO2Vsc2UgaWYodGhpcy54aHJUeXBlPT09dC5YSFJfUkVTUE9OU0VfVFlQRS5KU09OKXRyeXt0aGlzLmRhdGE9SlNPTi5wYXJzZShyKSx0aGlzLnR5cGU9dC5UWVBFLkpTT059Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5hYm9ydChcXFwiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCBqc29uOiBcXFwiK3QpfWVsc2UgaWYodGhpcy54aHJUeXBlPT09dC5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCl0cnl7aWYod2luZG93LkRPTVBhcnNlcil7dmFyIGk9bmV3IERPTVBhcnNlcjt0aGlzLmRhdGE9aS5wYXJzZUZyb21TdHJpbmcocixcXFwidGV4dC94bWxcXFwiKX1lbHNle3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXFxcImRpdlxcXCIpO28uaW5uZXJIVE1MPXIsdGhpcy5kYXRhPW99dGhpcy50eXBlPXQuVFlQRS5YTUx9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5hYm9ydChcXFwiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCB4bWw6IFxcXCIrdCl9ZWxzZSB0aGlzLmRhdGE9ZS5yZXNwb25zZXx8cjt0aGlzLmNvbXBsZXRlKCl9LHQucHJvdG90eXBlLl9kZXRlcm1pbmVDcm9zc09yaWdpbj1mdW5jdGlvbih0LGUpe2lmKDA9PT10LmluZGV4T2YoXFxcImRhdGE6XFxcIikpcmV0dXJuXFxcIlxcXCI7aWYod2luZG93Lm9yaWdpbiE9PXdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pcmV0dXJuXFxcImFub255bW91c1xcXCI7ZT1lfHx3aW5kb3cubG9jYXRpb24scHx8KHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiYVxcXCIpKSxwLmhyZWY9dCx0PSgwLGwuZGVmYXVsdCkocC5ocmVmLHtzdHJpY3RNb2RlOiEwfSk7dmFyIHI9IXQucG9ydCYmXFxcIlxcXCI9PT1lLnBvcnR8fHQucG9ydD09PWUucG9ydCxuPXQucHJvdG9jb2w/dC5wcm90b2NvbCtcXFwiOlxcXCI6XFxcIlxcXCI7cmV0dXJuIHQuaG9zdD09PWUuaG9zdG5hbWUmJnImJm49PT1lLnByb3RvY29sP1xcXCJcXFwiOlxcXCJhbm9ueW1vdXNcXFwifSx0LnByb3RvdHlwZS5fZGV0ZXJtaW5lWGhyVHlwZT1mdW5jdGlvbigpe3JldHVybiB0Ll94aHJUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXXx8dC5YSFJfUkVTUE9OU0VfVFlQRS5URVhUfSx0LnByb3RvdHlwZS5fZGV0ZXJtaW5lTG9hZFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5fbG9hZFR5cGVNYXBbdGhpcy5leHRlbnNpb25dfHx0LkxPQURfVFlQRS5YSFJ9LHQucHJvdG90eXBlLl9nZXRFeHRlbnNpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVybCxlPVxcXCJcXFwiO2lmKHRoaXMuaXNEYXRhVXJsKXt2YXIgcj10LmluZGV4T2YoXFxcIi9cXFwiKTtlPXQuc3Vic3RyaW5nKHIrMSx0LmluZGV4T2YoXFxcIjtcXFwiLHIpKX1lbHNle3ZhciBuPXQuaW5kZXhPZihcXFwiP1xcXCIpLGk9dC5pbmRleE9mKFxcXCIjXFxcIiksbz1NYXRoLm1pbihuPi0xP246dC5sZW5ndGgsaT4tMT9pOnQubGVuZ3RoKTt0PXQuc3Vic3RyaW5nKDAsbyksZT10LnN1YnN0cmluZyh0Lmxhc3RJbmRleE9mKFxcXCIuXFxcIikrMSl9cmV0dXJuIGUudG9Mb3dlckNhc2UoKX0sdC5wcm90b3R5cGUuX2dldE1pbWVGcm9tWGhyVHlwZT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSB0LlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpyZXR1cm5cXFwiYXBwbGljYXRpb24vb2N0ZXQtYmluYXJ5XFxcIjtjYXNlIHQuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpyZXR1cm5cXFwiYXBwbGljYXRpb24vYmxvYlxcXCI7Y2FzZSB0LlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UOnJldHVyblxcXCJhcHBsaWNhdGlvbi94bWxcXFwiO2Nhc2UgdC5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOnJldHVyblxcXCJhcHBsaWNhdGlvbi9qc29uXFxcIjtjYXNlIHQuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpjYXNlIHQuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpkZWZhdWx0OnJldHVyblxcXCJ0ZXh0L3BsYWluXFxcIn19LHUodCxbe2tleTpcXFwiaXNEYXRhVXJsXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzRmxhZyh0LlNUQVRVU19GTEFHUy5EQVRBX1VSTCl9fSx7a2V5OlxcXCJpc0NvbXBsZXRlXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzRmxhZyh0LlNUQVRVU19GTEFHUy5DT01QTEVURSl9fSx7a2V5OlxcXCJpc0xvYWRpbmdcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNGbGFnKHQuU1RBVFVTX0ZMQUdTLkxPQURJTkcpfX1dKSx0fSgpO3YuU1RBVFVTX0ZMQUdTPXtOT05FOjAsREFUQV9VUkw6MSxDT01QTEVURToyLExPQURJTkc6NH0sdi5UWVBFPXtVTktOT1dOOjAsSlNPTjoxLFhNTDoyLElNQUdFOjMsQVVESU86NCxWSURFTzo1LFRFWFQ6Nn0sdi5MT0FEX1RZUEU9e1hIUjoxLElNQUdFOjIsQVVESU86MyxWSURFTzo0fSx2LlhIUl9SRVNQT05TRV9UWVBFPXtERUZBVUxUOlxcXCJ0ZXh0XFxcIixCVUZGRVI6XFxcImFycmF5YnVmZmVyXFxcIixCTE9COlxcXCJibG9iXFxcIixET0NVTUVOVDpcXFwiZG9jdW1lbnRcXFwiLEpTT046XFxcImpzb25cXFwiLFRFWFQ6XFxcInRleHRcXFwifSx2Ll9sb2FkVHlwZU1hcD17Z2lmOnYuTE9BRF9UWVBFLklNQUdFLHBuZzp2LkxPQURfVFlQRS5JTUFHRSxibXA6di5MT0FEX1RZUEUuSU1BR0UsanBnOnYuTE9BRF9UWVBFLklNQUdFLGpwZWc6di5MT0FEX1RZUEUuSU1BR0UsdGlmOnYuTE9BRF9UWVBFLklNQUdFLHRpZmY6di5MT0FEX1RZUEUuSU1BR0Usd2VicDp2LkxPQURfVFlQRS5JTUFHRSx0Z2E6di5MT0FEX1RZUEUuSU1BR0Usc3ZnOnYuTE9BRF9UWVBFLklNQUdFLFxcXCJzdmcreG1sXFxcIjp2LkxPQURfVFlQRS5JTUFHRSxtcDM6di5MT0FEX1RZUEUuQVVESU8sb2dnOnYuTE9BRF9UWVBFLkFVRElPLHdhdjp2LkxPQURfVFlQRS5BVURJTyxtcDQ6di5MT0FEX1RZUEUuVklERU8sd2VibTp2LkxPQURfVFlQRS5WSURFT30sdi5feGhyVHlwZU1hcD17eGh0bWw6di5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxodG1sOnYuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsaHRtOnYuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQseG1sOnYuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsdG14OnYuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsc3ZnOnYuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsdHN4OnYuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsZ2lmOnYuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixwbmc6di5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLGJtcDp2LlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsanBnOnYuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixqcGVnOnYuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQix0aWY6di5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLHRpZmY6di5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLHdlYnA6di5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLHRnYTp2LlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsanNvbjp2LlhIUl9SRVNQT05TRV9UWVBFLkpTT04sdGV4dDp2LlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsdHh0OnYuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCx0dGY6di5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsb3RmOnYuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSfSx2LkVNUFRZX0dJRj1cXFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBUC8vL3dBQUFDSDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3c9PVxcXCIsdm9pZCAwIT09ZSYmKGUuZXhwb3J0cy5kZWZhdWx0PXYpfSx7XFxcIm1pbmktc2lnbmFsc1xcXCI6NSxcXFwicGFyc2UtdXJpXFxcIjo3fV0sMzQ6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbigpe31mdW5jdGlvbiBpKHQsZSxyLG4pe3ZhciBpPTAsbz10Lmxlbmd0aDshZnVuY3Rpb24gcyhhKXtpZihhfHxpPT09bylyZXR1cm4gdm9pZChyJiZyKGEpKTtuP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlKHRbaSsrXSxzKX0sMSk6ZSh0W2krK10scyl9KCl9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gZnVuY3Rpb24oKXtpZihudWxsPT09dCl0aHJvdyBuZXcgRXJyb3IoXFxcIkNhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC5cXFwiKTt2YXIgZT10O3Q9bnVsbCxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gcyh0LGUpe2Z1bmN0aW9uIHIodCxlLHIpe2lmKG51bGwhPXImJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiByKXRocm93IG5ldyBFcnJvcihcXFwidGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb25cXFwiKTtpZihhLnN0YXJ0ZWQ9ITAsbnVsbD09dCYmYS5pZGxlKCkpcmV0dXJuIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBhLmRyYWluKCl9LDEpO3ZhciBpPXtkYXRhOnQsY2FsbGJhY2s6XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHI/cjpufTtlP2EuX3Rhc2tzLnVuc2hpZnQoaSk6YS5fdGFza3MucHVzaChpKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGEucHJvY2VzcygpfSwxKX1mdW5jdGlvbiBpKHQpe3JldHVybiBmdW5jdGlvbigpe3MtPTEsdC5jYWxsYmFjay5hcHBseSh0LGFyZ3VtZW50cyksbnVsbCE9YXJndW1lbnRzWzBdJiZhLmVycm9yKGFyZ3VtZW50c1swXSx0LmRhdGEpLHM8PWEuY29uY3VycmVuY3ktYS5idWZmZXImJmEudW5zYXR1cmF0ZWQoKSxhLmlkbGUoKSYmYS5kcmFpbigpLGEucHJvY2VzcygpfX1pZihudWxsPT1lKWU9MTtlbHNlIGlmKDA9PT1lKXRocm93IG5ldyBFcnJvcihcXFwiQ29uY3VycmVuY3kgbXVzdCBub3QgYmUgemVyb1xcXCIpO3ZhciBzPTAsYT17X3Rhc2tzOltdLGNvbmN1cnJlbmN5OmUsc2F0dXJhdGVkOm4sdW5zYXR1cmF0ZWQ6bixidWZmZXI6ZS80LGVtcHR5Om4sZHJhaW46bixlcnJvcjpuLHN0YXJ0ZWQ6ITEscGF1c2VkOiExLHB1c2g6ZnVuY3Rpb24odCxlKXtyKHQsITEsZSl9LGtpbGw6ZnVuY3Rpb24oKXtzPTAsYS5kcmFpbj1uLGEuc3RhcnRlZD0hMSxhLl90YXNrcz1bXX0sdW5zaGlmdDpmdW5jdGlvbih0LGUpe3IodCwhMCxlKX0scHJvY2VzczpmdW5jdGlvbigpe2Zvcig7IWEucGF1c2VkJiZzPGEuY29uY3VycmVuY3kmJmEuX3Rhc2tzLmxlbmd0aDspe3ZhciBlPWEuX3Rhc2tzLnNoaWZ0KCk7MD09PWEuX3Rhc2tzLmxlbmd0aCYmYS5lbXB0eSgpLHMrPTEscz09PWEuY29uY3VycmVuY3kmJmEuc2F0dXJhdGVkKCksdChlLmRhdGEsbyhpKGUpKSl9fSxsZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gYS5fdGFza3MubGVuZ3RofSxydW5uaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHN9LGlkbGU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5fdGFza3MubGVuZ3RoK3M9PT0wfSxwYXVzZTpmdW5jdGlvbigpeyEwIT09YS5wYXVzZWQmJihhLnBhdXNlZD0hMCl9LHJlc3VtZTpmdW5jdGlvbigpe2lmKCExIT09YS5wYXVzZWQpe2EucGF1c2VkPSExO2Zvcih2YXIgdD0xO3Q8PWEuY29uY3VycmVuY3k7dCsrKWEucHJvY2VzcygpfX19O3JldHVybiBhfXIuX19lc01vZHVsZT0hMCxyLmVhY2hTZXJpZXM9aSxyLnF1ZXVlPXN9LHt9XSwzNTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgZT1cXFwiXFxcIixyPTA7cjx0Lmxlbmd0aDspe2Zvcih2YXIgbj1bMCwwLDBdLG89WzAsMCwwLDBdLHM9MDtzPG4ubGVuZ3RoOysrcylyPHQubGVuZ3RoP25bc109MjU1JnQuY2hhckNvZGVBdChyKyspOm5bc109MDtvWzBdPW5bMF0+PjIsb1sxXT0oMyZuWzBdKTw8NHxuWzFdPj40LG9bMl09KDE1Jm5bMV0pPDwyfG5bMl0+PjYsb1szXT02MyZuWzJdO3N3aXRjaChyLSh0Lmxlbmd0aC0xKSl7Y2FzZSAyOm9bM109NjQsb1syXT02NDticmVhaztjYXNlIDE6b1szXT02NH1mb3IodmFyIGE9MDthPG8ubGVuZ3RoOysrYSllKz1pLmNoYXJBdChvW2FdKX1yZXR1cm4gZX1yLl9fZXNNb2R1bGU9ITAsci5lbmNvZGVCaW5hcnk9bjt2YXIgaT1cXFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cXFwiO3ZvaWQgMCE9PWUmJihlLmV4cG9ydHMuZGVmYXVsdD1uKX0se31dLDM2OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBuPXQoXFxcIi4vTG9hZGVyXFxcIikuTG9hZGVyLGk9dChcXFwiLi9SZXNvdXJjZVxcXCIpLlJlc291cmNlLG89dChcXFwiLi9hc3luY1xcXCIpLHM9dChcXFwiLi9iNjRcXFwiKTtuLlJlc291cmNlPWksbi5hc3luYz1vLG4uZW5jb2RlQmluYXJ5PXMsbi5iYXNlNjQ9cyxlLmV4cG9ydHM9bixlLmV4cG9ydHMuTG9hZGVyPW4sZS5leHBvcnRzLmRlZmF1bHQ9bn0se1xcXCIuL0xvYWRlclxcXCI6MzIsXFxcIi4vUmVzb3VyY2VcXFwiOjMzLFxcXCIuL2FzeW5jXFxcIjozNCxcXFwiLi9iNjRcXFwiOjM1fV0sMzc6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbigpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCF0LmRhdGEpcmV0dXJuIHZvaWQgZSgpO2lmKHQueGhyJiZ0LnhoclR5cGU9PT1pLlJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IpaWYod2luZG93LkJsb2ImJlxcXCJzdHJpbmdcXFwiIT10eXBlb2YgdC5kYXRhKXtpZigwPT09dC5kYXRhLnR5cGUuaW5kZXhPZihcXFwiaW1hZ2VcXFwiKSl7dmFyIHI9cy5jcmVhdGVPYmplY3RVUkwodC5kYXRhKTtyZXR1cm4gdC5ibG9iPXQuZGF0YSx0LmRhdGE9bmV3IEltYWdlLHQuZGF0YS5zcmM9cix0LnR5cGU9aS5SZXNvdXJjZS5UWVBFLklNQUdFLHZvaWQodC5kYXRhLm9ubG9hZD1mdW5jdGlvbigpe3MucmV2b2tlT2JqZWN0VVJMKHIpLHQuZGF0YS5vbmxvYWQ9bnVsbCxlKCl9KX19ZWxzZXt2YXIgbj10Lnhoci5nZXRSZXNwb25zZUhlYWRlcihcXFwiY29udGVudC10eXBlXFxcIik7aWYobiYmMD09PW4uaW5kZXhPZihcXFwiaW1hZ2VcXFwiKSlyZXR1cm4gdC5kYXRhPW5ldyBJbWFnZSx0LmRhdGEuc3JjPVxcXCJkYXRhOlxcXCIrbitcXFwiO2Jhc2U2NCxcXFwiKygwLG8uZW5jb2RlQmluYXJ5KSh0Lnhoci5yZXNwb25zZVRleHQpLHQudHlwZT1pLlJlc291cmNlLlRZUEUuSU1BR0Usdm9pZCh0LmRhdGEub25sb2FkPWZ1bmN0aW9uKCl7dC5kYXRhLm9ubG9hZD1udWxsLGUoKX0pfWUoKX19ci5fX2VzTW9kdWxlPSEwLHIuYmxvYk1pZGRsZXdhcmVGYWN0b3J5PW47dmFyIGk9dChcXFwiLi4vLi4vUmVzb3VyY2VcXFwiKSxvPXQoXFxcIi4uLy4uL2I2NFxcXCIpLHM9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTH0se1xcXCIuLi8uLi9SZXNvdXJjZVxcXCI6MzMsXFxcIi4uLy4uL2I2NFxcXCI6MzV9XSwzODpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKCl7dGhpcy5wcm90b2NvbD1udWxsLHRoaXMuc2xhc2hlcz1udWxsLHRoaXMuYXV0aD1udWxsLHRoaXMuaG9zdD1udWxsLHRoaXMucG9ydD1udWxsLHRoaXMuaG9zdG5hbWU9bnVsbCx0aGlzLmhhc2g9bnVsbCx0aGlzLnNlYXJjaD1udWxsLHRoaXMucXVlcnk9bnVsbCx0aGlzLnBhdGhuYW1lPW51bGwsdGhpcy5wYXRoPW51bGwsdGhpcy5ocmVmPW51bGx9ZnVuY3Rpb24gaSh0LGUscil7aWYodCYmaC5pc09iamVjdCh0KSYmdCBpbnN0YW5jZW9mIG4pcmV0dXJuIHQ7dmFyIGk9bmV3IG47cmV0dXJuIGkucGFyc2UodCxlLHIpLGl9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gaC5pc1N0cmluZyh0KSYmKHQ9aSh0KSksdCBpbnN0YW5jZW9mIG4/dC5mb3JtYXQoKTpuLnByb3RvdHlwZS5mb3JtYXQuY2FsbCh0KX1mdW5jdGlvbiBzKHQsZSl7cmV0dXJuIGkodCwhMSwhMCkucmVzb2x2ZShlKX1mdW5jdGlvbiBhKHQsZSl7cmV0dXJuIHQ/aSh0LCExLCEwKS5yZXNvbHZlT2JqZWN0KGUpOmV9dmFyIHU9dChcXFwicHVueWNvZGVcXFwiKSxoPXQoXFxcIi4vdXRpbFxcXCIpO3IucGFyc2U9aSxyLnJlc29sdmU9cyxyLnJlc29sdmVPYmplY3Q9YSxyLmZvcm1hdD1vLHIuVXJsPW47dmFyIGw9L14oW2EtejAtOS4rLV0rOikvaSxjPS86WzAtOV0qJC8sZD0vXihcXFxcL1xcXFwvPyg/IVxcXFwvKVteXFxcXD9cXFxcc10qKShcXFxcP1teXFxcXHNdKik/JC8sZj1bXFxcIjxcXFwiLFxcXCI+XFxcIiwnXFxcIicsXFxcImBcXFwiLFxcXCIgXFxcIixcXFwiXFxcXHJcXFwiLFxcXCJcXFxcblxcXCIsXFxcIlxcXFx0XFxcIl0scD1bXFxcIntcXFwiLFxcXCJ9XFxcIixcXFwifFxcXCIsXFxcIlxcXFxcXFxcXFxcIixcXFwiXlxcXCIsXFxcImBcXFwiXS5jb25jYXQoZiksdj1bXFxcIidcXFwiXS5jb25jYXQocCksZz1bXFxcIiVcXFwiLFxcXCIvXFxcIixcXFwiP1xcXCIsXFxcIjtcXFwiLFxcXCIjXFxcIl0uY29uY2F0KHYpLHk9W1xcXCIvXFxcIixcXFwiP1xcXCIsXFxcIiNcXFwiXSxtPS9eWythLXowLTlBLVpfLV17MCw2M30kLyxfPS9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxiPXtqYXZhc2NyaXB0OiEwLFxcXCJqYXZhc2NyaXB0OlxcXCI6ITB9LHg9e2phdmFzY3JpcHQ6ITAsXFxcImphdmFzY3JpcHQ6XFxcIjohMH0sVD17aHR0cDohMCxodHRwczohMCxmdHA6ITAsZ29waGVyOiEwLGZpbGU6ITAsXFxcImh0dHA6XFxcIjohMCxcXFwiaHR0cHM6XFxcIjohMCxcXFwiZnRwOlxcXCI6ITAsXFxcImdvcGhlcjpcXFwiOiEwLFxcXCJmaWxlOlxcXCI6ITB9LHc9dChcXFwicXVlcnlzdHJpbmdcXFwiKTtuLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0LGUscil7aWYoIWguaXNTdHJpbmcodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcXFwiK3R5cGVvZiB0KTt2YXIgbj10LmluZGV4T2YoXFxcIj9cXFwiKSxpPS0xIT09biYmbjx0LmluZGV4T2YoXFxcIiNcXFwiKT9cXFwiP1xcXCI6XFxcIiNcXFwiLG89dC5zcGxpdChpKSxzPS9cXFxcXFxcXC9nO29bMF09b1swXS5yZXBsYWNlKHMsXFxcIi9cXFwiKSx0PW8uam9pbihpKTt2YXIgYT10O2lmKGE9YS50cmltKCksIXImJjE9PT10LnNwbGl0KFxcXCIjXFxcIikubGVuZ3RoKXt2YXIgYz1kLmV4ZWMoYSk7aWYoYylyZXR1cm4gdGhpcy5wYXRoPWEsdGhpcy5ocmVmPWEsdGhpcy5wYXRobmFtZT1jWzFdLGNbMl0/KHRoaXMuc2VhcmNoPWNbMl0sdGhpcy5xdWVyeT1lP3cucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTp0aGlzLnNlYXJjaC5zdWJzdHIoMSkpOmUmJih0aGlzLnNlYXJjaD1cXFwiXFxcIix0aGlzLnF1ZXJ5PXt9KSx0aGlzfXZhciBmPWwuZXhlYyhhKTtpZihmKXtmPWZbMF07dmFyIHA9Zi50b0xvd2VyQ2FzZSgpO3RoaXMucHJvdG9jb2w9cCxhPWEuc3Vic3RyKGYubGVuZ3RoKX1pZihyfHxmfHxhLm1hdGNoKC9eXFxcXC9cXFxcL1teQFxcXFwvXStAW15AXFxcXC9dKy8pKXt2YXIgRT1cXFwiLy9cXFwiPT09YS5zdWJzdHIoMCwyKTshRXx8ZiYmeFtmXXx8KGE9YS5zdWJzdHIoMiksdGhpcy5zbGFzaGVzPSEwKX1pZigheFtmXSYmKEV8fGYmJiFUW2ZdKSl7Zm9yKHZhciBTPS0xLE89MDtPPHkubGVuZ3RoO08rKyl7dmFyIE09YS5pbmRleE9mKHlbT10pOy0xIT09TSYmKC0xPT09U3x8TTxTKSYmKFM9TSl9dmFyIFAsQztDPS0xPT09Uz9hLmxhc3RJbmRleE9mKFxcXCJAXFxcIik6YS5sYXN0SW5kZXhPZihcXFwiQFxcXCIsUyksLTEhPT1DJiYoUD1hLnNsaWNlKDAsQyksYT1hLnNsaWNlKEMrMSksdGhpcy5hdXRoPWRlY29kZVVSSUNvbXBvbmVudChQKSksUz0tMTtmb3IodmFyIE89MDtPPGcubGVuZ3RoO08rKyl7dmFyIE09YS5pbmRleE9mKGdbT10pOy0xIT09TSYmKC0xPT09U3x8TTxTKSYmKFM9TSl9LTE9PT1TJiYoUz1hLmxlbmd0aCksdGhpcy5ob3N0PWEuc2xpY2UoMCxTKSxhPWEuc2xpY2UoUyksdGhpcy5wYXJzZUhvc3QoKSx0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWV8fFxcXCJcXFwiO3ZhciBSPVxcXCJbXFxcIj09PXRoaXMuaG9zdG5hbWVbMF0mJlxcXCJdXFxcIj09PXRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGgtMV07aWYoIVIpZm9yKHZhciBBPXRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcXFwuLyksTz0wLEk9QS5sZW5ndGg7TzxJO08rKyl7dmFyIEQ9QVtPXTtpZihEJiYhRC5tYXRjaChtKSl7Zm9yKHZhciBMPVxcXCJcXFwiLE49MCxCPUQubGVuZ3RoO048QjtOKyspRC5jaGFyQ29kZUF0KE4pPjEyNz9MKz1cXFwieFxcXCI6TCs9RFtOXTtpZighTC5tYXRjaChtKSl7dmFyIGs9QS5zbGljZSgwLE8pLEY9QS5zbGljZShPKzEpLGo9RC5tYXRjaChfKTtqJiYoay5wdXNoKGpbMV0pLEYudW5zaGlmdChqWzJdKSksRi5sZW5ndGgmJihhPVxcXCIvXFxcIitGLmpvaW4oXFxcIi5cXFwiKSthKSx0aGlzLmhvc3RuYW1lPWsuam9pbihcXFwiLlxcXCIpO2JyZWFrfX19XFxudGhpcy5ob3N0bmFtZS5sZW5ndGg+MjU1P3RoaXMuaG9zdG5hbWU9XFxcIlxcXCI6dGhpcy5ob3N0bmFtZT10aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCksUnx8KHRoaXMuaG9zdG5hbWU9dS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpKTt2YXIgVT10aGlzLnBvcnQ/XFxcIjpcXFwiK3RoaXMucG9ydDpcXFwiXFxcIixYPXRoaXMuaG9zdG5hbWV8fFxcXCJcXFwiO3RoaXMuaG9zdD1YK1UsdGhpcy5ocmVmKz10aGlzLmhvc3QsUiYmKHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZS5zdWJzdHIoMSx0aGlzLmhvc3RuYW1lLmxlbmd0aC0yKSxcXFwiL1xcXCIhPT1hWzBdJiYoYT1cXFwiL1xcXCIrYSkpfWlmKCFiW3BdKWZvcih2YXIgTz0wLEk9di5sZW5ndGg7TzxJO08rKyl7dmFyIEc9dltPXTtpZigtMSE9PWEuaW5kZXhPZihHKSl7dmFyIFc9ZW5jb2RlVVJJQ29tcG9uZW50KEcpO1c9PT1HJiYoVz1lc2NhcGUoRykpLGE9YS5zcGxpdChHKS5qb2luKFcpfX12YXIgSD1hLmluZGV4T2YoXFxcIiNcXFwiKTstMSE9PUgmJih0aGlzLmhhc2g9YS5zdWJzdHIoSCksYT1hLnNsaWNlKDAsSCkpO3ZhciBZPWEuaW5kZXhPZihcXFwiP1xcXCIpO2lmKC0xIT09WT8odGhpcy5zZWFyY2g9YS5zdWJzdHIoWSksdGhpcy5xdWVyeT1hLnN1YnN0cihZKzEpLGUmJih0aGlzLnF1ZXJ5PXcucGFyc2UodGhpcy5xdWVyeSkpLGE9YS5zbGljZSgwLFkpKTplJiYodGhpcy5zZWFyY2g9XFxcIlxcXCIsdGhpcy5xdWVyeT17fSksYSYmKHRoaXMucGF0aG5hbWU9YSksVFtwXSYmdGhpcy5ob3N0bmFtZSYmIXRoaXMucGF0aG5hbWUmJih0aGlzLnBhdGhuYW1lPVxcXCIvXFxcIiksdGhpcy5wYXRobmFtZXx8dGhpcy5zZWFyY2gpe3ZhciBVPXRoaXMucGF0aG5hbWV8fFxcXCJcXFwiLFY9dGhpcy5zZWFyY2h8fFxcXCJcXFwiO3RoaXMucGF0aD1VK1Z9cmV0dXJuIHRoaXMuaHJlZj10aGlzLmZvcm1hdCgpLHRoaXN9LG4ucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYXV0aHx8XFxcIlxcXCI7dCYmKHQ9ZW5jb2RlVVJJQ29tcG9uZW50KHQpLHQ9dC5yZXBsYWNlKC8lM0EvaSxcXFwiOlxcXCIpLHQrPVxcXCJAXFxcIik7dmFyIGU9dGhpcy5wcm90b2NvbHx8XFxcIlxcXCIscj10aGlzLnBhdGhuYW1lfHxcXFwiXFxcIixuPXRoaXMuaGFzaHx8XFxcIlxcXCIsaT0hMSxvPVxcXCJcXFwiO3RoaXMuaG9zdD9pPXQrdGhpcy5ob3N0OnRoaXMuaG9zdG5hbWUmJihpPXQrKC0xPT09dGhpcy5ob3N0bmFtZS5pbmRleE9mKFxcXCI6XFxcIik/dGhpcy5ob3N0bmFtZTpcXFwiW1xcXCIrdGhpcy5ob3N0bmFtZStcXFwiXVxcXCIpLHRoaXMucG9ydCYmKGkrPVxcXCI6XFxcIit0aGlzLnBvcnQpKSx0aGlzLnF1ZXJ5JiZoLmlzT2JqZWN0KHRoaXMucXVlcnkpJiZPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgmJihvPXcuc3RyaW5naWZ5KHRoaXMucXVlcnkpKTt2YXIgcz10aGlzLnNlYXJjaHx8byYmXFxcIj9cXFwiK298fFxcXCJcXFwiO3JldHVybiBlJiZcXFwiOlxcXCIhPT1lLnN1YnN0cigtMSkmJihlKz1cXFwiOlxcXCIpLHRoaXMuc2xhc2hlc3x8KCFlfHxUW2VdKSYmITEhPT1pPyhpPVxcXCIvL1xcXCIrKGl8fFxcXCJcXFwiKSxyJiZcXFwiL1xcXCIhPT1yLmNoYXJBdCgwKSYmKHI9XFxcIi9cXFwiK3IpKTppfHwoaT1cXFwiXFxcIiksbiYmXFxcIiNcXFwiIT09bi5jaGFyQXQoMCkmJihuPVxcXCIjXFxcIituKSxzJiZcXFwiP1xcXCIhPT1zLmNoYXJBdCgwKSYmKHM9XFxcIj9cXFwiK3MpLHI9ci5yZXBsYWNlKC9bPyNdL2csZnVuY3Rpb24odCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KX0pLHM9cy5yZXBsYWNlKFxcXCIjXFxcIixcXFwiJTIzXFxcIiksZStpK3IrcytufSxuLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlc29sdmVPYmplY3QoaSh0LCExLCEwKSkuZm9ybWF0KCl9LG4ucHJvdG90eXBlLnJlc29sdmVPYmplY3Q9ZnVuY3Rpb24odCl7aWYoaC5pc1N0cmluZyh0KSl7dmFyIGU9bmV3IG47ZS5wYXJzZSh0LCExLCEwKSx0PWV9Zm9yKHZhciByPW5ldyBuLGk9T2JqZWN0LmtleXModGhpcyksbz0wO288aS5sZW5ndGg7bysrKXt2YXIgcz1pW29dO3Jbc109dGhpc1tzXX1pZihyLmhhc2g9dC5oYXNoLFxcXCJcXFwiPT09dC5ocmVmKXJldHVybiByLmhyZWY9ci5mb3JtYXQoKSxyO2lmKHQuc2xhc2hlcyYmIXQucHJvdG9jb2wpe2Zvcih2YXIgYT1PYmplY3Qua2V5cyh0KSx1PTA7dTxhLmxlbmd0aDt1Kyspe3ZhciBsPWFbdV07XFxcInByb3RvY29sXFxcIiE9PWwmJihyW2xdPXRbbF0pfXJldHVybiBUW3IucHJvdG9jb2xdJiZyLmhvc3RuYW1lJiYhci5wYXRobmFtZSYmKHIucGF0aD1yLnBhdGhuYW1lPVxcXCIvXFxcIiksci5ocmVmPXIuZm9ybWF0KCkscn1pZih0LnByb3RvY29sJiZ0LnByb3RvY29sIT09ci5wcm90b2NvbCl7aWYoIVRbdC5wcm90b2NvbF0pe2Zvcih2YXIgYz1PYmplY3Qua2V5cyh0KSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBmPWNbZF07cltmXT10W2ZdfXJldHVybiByLmhyZWY9ci5mb3JtYXQoKSxyfWlmKHIucHJvdG9jb2w9dC5wcm90b2NvbCx0Lmhvc3R8fHhbdC5wcm90b2NvbF0pci5wYXRobmFtZT10LnBhdGhuYW1lO2Vsc2V7Zm9yKHZhciBwPSh0LnBhdGhuYW1lfHxcXFwiXFxcIikuc3BsaXQoXFxcIi9cXFwiKTtwLmxlbmd0aCYmISh0Lmhvc3Q9cC5zaGlmdCgpKTspO3QuaG9zdHx8KHQuaG9zdD1cXFwiXFxcIiksdC5ob3N0bmFtZXx8KHQuaG9zdG5hbWU9XFxcIlxcXCIpLFxcXCJcXFwiIT09cFswXSYmcC51bnNoaWZ0KFxcXCJcXFwiKSxwLmxlbmd0aDwyJiZwLnVuc2hpZnQoXFxcIlxcXCIpLHIucGF0aG5hbWU9cC5qb2luKFxcXCIvXFxcIil9aWYoci5zZWFyY2g9dC5zZWFyY2gsci5xdWVyeT10LnF1ZXJ5LHIuaG9zdD10Lmhvc3R8fFxcXCJcXFwiLHIuYXV0aD10LmF1dGgsci5ob3N0bmFtZT10Lmhvc3RuYW1lfHx0Lmhvc3Qsci5wb3J0PXQucG9ydCxyLnBhdGhuYW1lfHxyLnNlYXJjaCl7dmFyIHY9ci5wYXRobmFtZXx8XFxcIlxcXCIsZz1yLnNlYXJjaHx8XFxcIlxcXCI7ci5wYXRoPXYrZ31yZXR1cm4gci5zbGFzaGVzPXIuc2xhc2hlc3x8dC5zbGFzaGVzLHIuaHJlZj1yLmZvcm1hdCgpLHJ9dmFyIHk9ci5wYXRobmFtZSYmXFxcIi9cXFwiPT09ci5wYXRobmFtZS5jaGFyQXQoMCksbT10Lmhvc3R8fHQucGF0aG5hbWUmJlxcXCIvXFxcIj09PXQucGF0aG5hbWUuY2hhckF0KDApLF89bXx8eXx8ci5ob3N0JiZ0LnBhdGhuYW1lLGI9Xyx3PXIucGF0aG5hbWUmJnIucGF0aG5hbWUuc3BsaXQoXFxcIi9cXFwiKXx8W10scD10LnBhdGhuYW1lJiZ0LnBhdGhuYW1lLnNwbGl0KFxcXCIvXFxcIil8fFtdLEU9ci5wcm90b2NvbCYmIVRbci5wcm90b2NvbF07aWYoRSYmKHIuaG9zdG5hbWU9XFxcIlxcXCIsci5wb3J0PW51bGwsci5ob3N0JiYoXFxcIlxcXCI9PT13WzBdP3dbMF09ci5ob3N0OncudW5zaGlmdChyLmhvc3QpKSxyLmhvc3Q9XFxcIlxcXCIsdC5wcm90b2NvbCYmKHQuaG9zdG5hbWU9bnVsbCx0LnBvcnQ9bnVsbCx0Lmhvc3QmJihcXFwiXFxcIj09PXBbMF0/cFswXT10Lmhvc3Q6cC51bnNoaWZ0KHQuaG9zdCkpLHQuaG9zdD1udWxsKSxfPV8mJihcXFwiXFxcIj09PXBbMF18fFxcXCJcXFwiPT09d1swXSkpLG0pci5ob3N0PXQuaG9zdHx8XFxcIlxcXCI9PT10Lmhvc3Q/dC5ob3N0OnIuaG9zdCxyLmhvc3RuYW1lPXQuaG9zdG5hbWV8fFxcXCJcXFwiPT09dC5ob3N0bmFtZT90Lmhvc3RuYW1lOnIuaG9zdG5hbWUsci5zZWFyY2g9dC5zZWFyY2gsci5xdWVyeT10LnF1ZXJ5LHc9cDtlbHNlIGlmKHAubGVuZ3RoKXd8fCh3PVtdKSx3LnBvcCgpLHc9dy5jb25jYXQocCksci5zZWFyY2g9dC5zZWFyY2gsci5xdWVyeT10LnF1ZXJ5O2Vsc2UgaWYoIWguaXNOdWxsT3JVbmRlZmluZWQodC5zZWFyY2gpKXtpZihFKXtyLmhvc3RuYW1lPXIuaG9zdD13LnNoaWZ0KCk7dmFyIFM9ISEoci5ob3N0JiZyLmhvc3QuaW5kZXhPZihcXFwiQFxcXCIpPjApJiZyLmhvc3Quc3BsaXQoXFxcIkBcXFwiKTtTJiYoci5hdXRoPVMuc2hpZnQoKSxyLmhvc3Q9ci5ob3N0bmFtZT1TLnNoaWZ0KCkpfXJldHVybiByLnNlYXJjaD10LnNlYXJjaCxyLnF1ZXJ5PXQucXVlcnksaC5pc051bGwoci5wYXRobmFtZSkmJmguaXNOdWxsKHIuc2VhcmNoKXx8KHIucGF0aD0oci5wYXRobmFtZT9yLnBhdGhuYW1lOlxcXCJcXFwiKSsoci5zZWFyY2g/ci5zZWFyY2g6XFxcIlxcXCIpKSxyLmhyZWY9ci5mb3JtYXQoKSxyfWlmKCF3Lmxlbmd0aClyZXR1cm4gci5wYXRobmFtZT1udWxsLHIuc2VhcmNoP3IucGF0aD1cXFwiL1xcXCIrci5zZWFyY2g6ci5wYXRoPW51bGwsci5ocmVmPXIuZm9ybWF0KCkscjtmb3IodmFyIE89dy5zbGljZSgtMSlbMF0sTT0oci5ob3N0fHx0Lmhvc3R8fHcubGVuZ3RoPjEpJiYoXFxcIi5cXFwiPT09T3x8XFxcIi4uXFxcIj09PU8pfHxcXFwiXFxcIj09PU8sUD0wLEM9dy5sZW5ndGg7Qz49MDtDLS0pTz13W0NdLFxcXCIuXFxcIj09PU8/dy5zcGxpY2UoQywxKTpcXFwiLi5cXFwiPT09Tz8ody5zcGxpY2UoQywxKSxQKyspOlAmJih3LnNwbGljZShDLDEpLFAtLSk7aWYoIV8mJiFiKWZvcig7UC0tO1Apdy51bnNoaWZ0KFxcXCIuLlxcXCIpOyFffHxcXFwiXFxcIj09PXdbMF18fHdbMF0mJlxcXCIvXFxcIj09PXdbMF0uY2hhckF0KDApfHx3LnVuc2hpZnQoXFxcIlxcXCIpLE0mJlxcXCIvXFxcIiE9PXcuam9pbihcXFwiL1xcXCIpLnN1YnN0cigtMSkmJncucHVzaChcXFwiXFxcIik7dmFyIFI9XFxcIlxcXCI9PT13WzBdfHx3WzBdJiZcXFwiL1xcXCI9PT13WzBdLmNoYXJBdCgwKTtpZihFKXtyLmhvc3RuYW1lPXIuaG9zdD1SP1xcXCJcXFwiOncubGVuZ3RoP3cuc2hpZnQoKTpcXFwiXFxcIjt2YXIgUz0hIShyLmhvc3QmJnIuaG9zdC5pbmRleE9mKFxcXCJAXFxcIik+MCkmJnIuaG9zdC5zcGxpdChcXFwiQFxcXCIpO1MmJihyLmF1dGg9Uy5zaGlmdCgpLHIuaG9zdD1yLmhvc3RuYW1lPVMuc2hpZnQoKSl9cmV0dXJuIF89X3x8ci5ob3N0JiZ3Lmxlbmd0aCxfJiYhUiYmdy51bnNoaWZ0KFxcXCJcXFwiKSx3Lmxlbmd0aD9yLnBhdGhuYW1lPXcuam9pbihcXFwiL1xcXCIpOihyLnBhdGhuYW1lPW51bGwsci5wYXRoPW51bGwpLGguaXNOdWxsKHIucGF0aG5hbWUpJiZoLmlzTnVsbChyLnNlYXJjaCl8fChyLnBhdGg9KHIucGF0aG5hbWU/ci5wYXRobmFtZTpcXFwiXFxcIikrKHIuc2VhcmNoP3Iuc2VhcmNoOlxcXCJcXFwiKSksci5hdXRoPXQuYXV0aHx8ci5hdXRoLHIuc2xhc2hlcz1yLnNsYXNoZXN8fHQuc2xhc2hlcyxyLmhyZWY9ci5mb3JtYXQoKSxyfSxuLnByb3RvdHlwZS5wYXJzZUhvc3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhvc3QsZT1jLmV4ZWModCk7ZSYmKGU9ZVswXSxcXFwiOlxcXCIhPT1lJiYodGhpcy5wb3J0PWUuc3Vic3RyKDEpKSx0PXQuc3Vic3RyKDAsdC5sZW5ndGgtZS5sZW5ndGgpKSx0JiYodGhpcy5ob3N0bmFtZT10KX19LHtcXFwiLi91dGlsXFxcIjozOSxwdW55Y29kZToyNyxxdWVyeXN0cmluZzozMH1dLDM5OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2UuZXhwb3J0cz17aXNTdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuXFxcInN0cmluZ1xcXCI9PXR5cGVvZiB0fSxpc09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm5cXFwib2JqZWN0XFxcIj09dHlwZW9mIHQmJm51bGwhPT10fSxpc051bGw6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PT10fSxpc051bGxPclVuZGVmaW5lZDpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dH19fSx7fV0sNDA6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz10KFxcXCIuLi9jb3JlXFxcIikscz1mdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9KG8pLGE9dChcXFwiaXNtb2JpbGVqc1xcXCIpLHU9bihhKSxoPXQoXFxcIi4vYWNjZXNzaWJsZVRhcmdldFxcXCIpLGw9bihoKTtzLnV0aWxzLm1peGlucy5kZWxheU1peGluKHMuRGlzcGxheU9iamVjdC5wcm90b3R5cGUsbC5kZWZhdWx0KTt2YXIgYz0xMDAsZD0wLGY9MCxwPTIsdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aSh0aGlzLHQpLCF1LmRlZmF1bHQudGFibGV0JiYhdS5kZWZhdWx0LnBob25lfHxuYXZpZ2F0b3IuaXNDb2Nvb25KU3x8dGhpcy5jcmVhdGVUb3VjaEhvb2soKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJkaXZcXFwiKTtyLnN0eWxlLndpZHRoPWMrXFxcInB4XFxcIixyLnN0eWxlLmhlaWdodD1jK1xcXCJweFxcXCIsci5zdHlsZS5wb3NpdGlvbj1cXFwiYWJzb2x1dGVcXFwiLHIuc3R5bGUudG9wPWQrXFxcInB4XFxcIixyLnN0eWxlLmxlZnQ9ZitcXFwicHhcXFwiLHIuc3R5bGUuekluZGV4PXAsdGhpcy5kaXY9cix0aGlzLnBvb2w9W10sdGhpcy5yZW5kZXJJZD0wLHRoaXMuZGVidWc9ITEsdGhpcy5yZW5kZXJlcj1lLHRoaXMuY2hpbGRyZW49W10sdGhpcy5fb25LZXlEb3duPXRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpLHRoaXMuX29uTW91c2VNb3ZlPXRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyksdGhpcy5pc0FjdGl2ZT0hMSx0aGlzLmlzTW9iaWxlQWNjZXNzYWJpbGxpdHk9ITEsd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXFxcImtleWRvd25cXFwiLHRoaXMuX29uS2V5RG93biwhMSl9cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZVRvdWNoSG9vaz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJidXR0b25cXFwiKTtlLnN0eWxlLndpZHRoPVxcXCIxcHhcXFwiLGUuc3R5bGUuaGVpZ2h0PVxcXCIxcHhcXFwiLGUuc3R5bGUucG9zaXRpb249XFxcImFic29sdXRlXFxcIixlLnN0eWxlLnRvcD1cXFwiLTEwMDBweFxcXCIsZS5zdHlsZS5sZWZ0PVxcXCItMTAwMHB4XFxcIixlLnN0eWxlLnpJbmRleD0yLGUuc3R5bGUuYmFja2dyb3VuZENvbG9yPVxcXCIjRkYwMDAwXFxcIixlLnRpdGxlPVxcXCJIT09LIERJVlxcXCIsZS5hZGRFdmVudExpc3RlbmVyKFxcXCJmb2N1c1xcXCIsZnVuY3Rpb24oKXt0LmlzTW9iaWxlQWNjZXNzYWJpbGxpdHk9ITAsdC5hY3RpdmF0ZSgpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZSl9KSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpfSx0LnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbigpe3RoaXMuaXNBY3RpdmV8fCh0aGlzLmlzQWN0aXZlPSEwLHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxcXCJtb3VzZW1vdmVcXFwiLHRoaXMuX29uTW91c2VNb3ZlLCEwKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwia2V5ZG93blxcXCIsdGhpcy5fb25LZXlEb3duLCExKSx0aGlzLnJlbmRlcmVyLm9uKFxcXCJwb3N0cmVuZGVyXFxcIix0aGlzLnVwZGF0ZSx0aGlzKSx0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZSYmdGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5kaXYpKX0sdC5wcm90b3R5cGUuZGVhY3RpdmF0ZT1mdW5jdGlvbigpe3RoaXMuaXNBY3RpdmUmJiF0aGlzLmlzTW9iaWxlQWNjZXNzYWJpbGxpdHkmJih0aGlzLmlzQWN0aXZlPSExLHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJtb3VzZW1vdmVcXFwiLHRoaXMuX29uTW91c2VNb3ZlLCEwKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcXFwia2V5ZG93blxcXCIsdGhpcy5fb25LZXlEb3duLCExKSx0aGlzLnJlbmRlcmVyLm9mZihcXFwicG9zdHJlbmRlclxcXCIsdGhpcy51cGRhdGUpLHRoaXMuZGl2LnBhcmVudE5vZGUmJnRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpKX0sdC5wcm90b3R5cGUudXBkYXRlQWNjZXNzaWJsZU9iamVjdHM9ZnVuY3Rpb24odCl7aWYodC52aXNpYmxlKXt0LmFjY2Vzc2libGUmJnQuaW50ZXJhY3RpdmUmJih0Ll9hY2Nlc3NpYmxlQWN0aXZlfHx0aGlzLmFkZENoaWxkKHQpLHQucmVuZGVySWQ9dGhpcy5yZW5kZXJJZCk7Zm9yKHZhciBlPXQuY2hpbGRyZW4scj0wO3I8ZS5sZW5ndGg7cisrKXRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoZVtyXSl9fSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKXt0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCk7dmFyIHQ9dGhpcy5yZW5kZXJlci52aWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGU9dC53aWR0aC90aGlzLnJlbmRlcmVyLndpZHRoLHI9dC5oZWlnaHQvdGhpcy5yZW5kZXJlci5oZWlnaHQsbj10aGlzLmRpdjtuLnN0eWxlLmxlZnQ9dC5sZWZ0K1xcXCJweFxcXCIsbi5zdHlsZS50b3A9dC50b3ArXFxcInB4XFxcIixuLnN0eWxlLndpZHRoPXRoaXMucmVuZGVyZXIud2lkdGgrXFxcInB4XFxcIixuLnN0eWxlLmhlaWdodD10aGlzLnJlbmRlcmVyLmhlaWdodCtcXFwicHhcXFwiO2Zvcih2YXIgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXt2YXIgbz10aGlzLmNoaWxkcmVuW2ldO2lmKG8ucmVuZGVySWQhPT10aGlzLnJlbmRlcklkKW8uX2FjY2Vzc2libGVBY3RpdmU9ITEscy51dGlscy5yZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLGksMSksdGhpcy5kaXYucmVtb3ZlQ2hpbGQoby5fYWNjZXNzaWJsZURpdiksdGhpcy5wb29sLnB1c2goby5fYWNjZXNzaWJsZURpdiksby5fYWNjZXNzaWJsZURpdj1udWxsLGktLSwwPT09dGhpcy5jaGlsZHJlbi5sZW5ndGgmJnRoaXMuZGVhY3RpdmF0ZSgpO2Vsc2V7bj1vLl9hY2Nlc3NpYmxlRGl2O3ZhciBhPW8uaGl0QXJlYSx1PW8ud29ybGRUcmFuc2Zvcm07by5oaXRBcmVhPyhuLnN0eWxlLmxlZnQ9KHUudHgrYS54KnUuYSkqZStcXFwicHhcXFwiLG4uc3R5bGUudG9wPSh1LnR5K2EueSp1LmQpKnIrXFxcInB4XFxcIixuLnN0eWxlLndpZHRoPWEud2lkdGgqdS5hKmUrXFxcInB4XFxcIixuLnN0eWxlLmhlaWdodD1hLmhlaWdodCp1LmQqcitcXFwicHhcXFwiKTooYT1vLmdldEJvdW5kcygpLHRoaXMuY2FwSGl0QXJlYShhKSxuLnN0eWxlLmxlZnQ9YS54KmUrXFxcInB4XFxcIixuLnN0eWxlLnRvcD1hLnkqcitcXFwicHhcXFwiLG4uc3R5bGUud2lkdGg9YS53aWR0aCplK1xcXCJweFxcXCIsbi5zdHlsZS5oZWlnaHQ9YS5oZWlnaHQqcitcXFwicHhcXFwiLG4udGl0bGUhPT1vLmFjY2Vzc2libGVUaXRsZSYmbnVsbCE9PW8uYWNjZXNzaWJsZVRpdGxlJiYobi50aXRsZT1vLmFjY2Vzc2libGVUaXRsZSksbi5nZXRBdHRyaWJ1dGUoXFxcImFyaWEtbGFiZWxcXFwiKSE9PW8uYWNjZXNzaWJsZUhpbnQmJm51bGwhPT1vLmFjY2Vzc2libGVIaW50JiZuLnNldEF0dHJpYnV0ZShcXFwiYXJpYS1sYWJlbFxcXCIsby5hY2Nlc3NpYmxlSGludCkpfX10aGlzLnJlbmRlcklkKyt9fSx0LnByb3RvdHlwZS5jYXBIaXRBcmVhPWZ1bmN0aW9uKHQpe3QueDwwJiYodC53aWR0aCs9dC54LHQueD0wKSx0Lnk8MCYmKHQuaGVpZ2h0Kz10LnksdC55PTApLHQueCt0LndpZHRoPnRoaXMucmVuZGVyZXIud2lkdGgmJih0LndpZHRoPXRoaXMucmVuZGVyZXIud2lkdGgtdC54KSx0LnkrdC5oZWlnaHQ+dGhpcy5yZW5kZXJlci5oZWlnaHQmJih0LmhlaWdodD10aGlzLnJlbmRlcmVyLmhlaWdodC10LnkpfSx0LnByb3RvdHlwZS5hZGRDaGlsZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnBvb2wucG9wKCk7ZXx8KGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiYnV0dG9uXFxcIiksZS5zdHlsZS53aWR0aD1jK1xcXCJweFxcXCIsZS5zdHlsZS5oZWlnaHQ9YytcXFwicHhcXFwiLGUuc3R5bGUuYmFja2dyb3VuZENvbG9yPXRoaXMuZGVidWc/XFxcInJnYmEoMjU1LDAsMCwwLjUpXFxcIjpcXFwidHJhbnNwYXJlbnRcXFwiLGUuc3R5bGUucG9zaXRpb249XFxcImFic29sdXRlXFxcIixlLnN0eWxlLnpJbmRleD1wLGUuc3R5bGUuYm9yZGVyU3R5bGU9XFxcIm5vbmVcXFwiLG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFxcXCJjaHJvbWVcXFwiKT4tMT9lLnNldEF0dHJpYnV0ZShcXFwiYXJpYS1saXZlXFxcIixcXFwib2ZmXFxcIik6ZS5zZXRBdHRyaWJ1dGUoXFxcImFyaWEtbGl2ZVxcXCIsXFxcInBvbGl0ZVxcXCIpLG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3J2Oi4qR2Vja29cXFxcLy8pP2Uuc2V0QXR0cmlidXRlKFxcXCJhcmlhLXJlbGV2YW50XFxcIixcXFwiYWRkaXRpb25zXFxcIik6ZS5zZXRBdHRyaWJ1dGUoXFxcImFyaWEtcmVsZXZhbnRcXFwiLFxcXCJ0ZXh0XFxcIiksZS5hZGRFdmVudExpc3RlbmVyKFxcXCJjbGlja1xcXCIsdGhpcy5fb25DbGljay5iaW5kKHRoaXMpKSxlLmFkZEV2ZW50TGlzdGVuZXIoXFxcImZvY3VzXFxcIix0aGlzLl9vbkZvY3VzLmJpbmQodGhpcykpLGUuYWRkRXZlbnRMaXN0ZW5lcihcXFwiZm9jdXNvdXRcXFwiLHRoaXMuX29uRm9jdXNPdXQuYmluZCh0aGlzKSkpLHQuYWNjZXNzaWJsZVRpdGxlJiZudWxsIT09dC5hY2Nlc3NpYmxlVGl0bGU/ZS50aXRsZT10LmFjY2Vzc2libGVUaXRsZTp0LmFjY2Vzc2libGVIaW50JiZudWxsIT09dC5hY2Nlc3NpYmxlSGludHx8KGUudGl0bGU9XFxcImRpc3BsYXlPYmplY3QgXFxcIit0LnRhYkluZGV4KSx0LmFjY2Vzc2libGVIaW50JiZudWxsIT09dC5hY2Nlc3NpYmxlSGludCYmZS5zZXRBdHRyaWJ1dGUoXFxcImFyaWEtbGFiZWxcXFwiLHQuYWNjZXNzaWJsZUhpbnQpLHQuX2FjY2Vzc2libGVBY3RpdmU9ITAsdC5fYWNjZXNzaWJsZURpdj1lLGUuZGlzcGxheU9iamVjdD10LHRoaXMuY2hpbGRyZW4ucHVzaCh0KSx0aGlzLmRpdi5hcHBlbmRDaGlsZCh0Ll9hY2Nlc3NpYmxlRGl2KSx0Ll9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4PXQudGFiSW5kZXh9LHQucHJvdG90eXBlLl9vbkNsaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtlLmRpc3BhdGNoRXZlbnQodC50YXJnZXQuZGlzcGxheU9iamVjdCxcXFwiY2xpY2tcXFwiLGUuZXZlbnREYXRhKX0sdC5wcm90b3R5cGUuX29uRm9jdXM9ZnVuY3Rpb24odCl7dC50YXJnZXQuZ2V0QXR0cmlidXRlKFxcXCJhcmlhLWxpdmVcXFwiLFxcXCJvZmZcXFwiKXx8dC50YXJnZXQuc2V0QXR0cmlidXRlKFxcXCJhcmlhLWxpdmVcXFwiLFxcXCJhc3NlcnRpdmVcXFwiKTt2YXIgZT10aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247ZS5kaXNwYXRjaEV2ZW50KHQudGFyZ2V0LmRpc3BsYXlPYmplY3QsXFxcIm1vdXNlb3ZlclxcXCIsZS5ldmVudERhdGEpfSx0LnByb3RvdHlwZS5fb25Gb2N1c091dD1mdW5jdGlvbih0KXt0LnRhcmdldC5nZXRBdHRyaWJ1dGUoXFxcImFyaWEtbGl2ZVxcXCIsXFxcIm9mZlxcXCIpfHx0LnRhcmdldC5zZXRBdHRyaWJ1dGUoXFxcImFyaWEtbGl2ZVxcXCIsXFxcInBvbGl0ZVxcXCIpO3ZhciBlPXRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtlLmRpc3BhdGNoRXZlbnQodC50YXJnZXQuZGlzcGxheU9iamVjdCxcXFwibW91c2VvdXRcXFwiLGUuZXZlbnREYXRhKX0sdC5wcm90b3R5cGUuX29uS2V5RG93bj1mdW5jdGlvbih0KXs5PT09dC5rZXlDb2RlJiZ0aGlzLmFjdGl2YXRlKCl9LHQucHJvdG90eXBlLl9vbk1vdXNlTW92ZT1mdW5jdGlvbih0KXswPT09dC5tb3ZlbWVudFgmJjA9PT10Lm1vdmVtZW50WXx8dGhpcy5kZWFjdGl2YXRlKCl9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRpdj1udWxsO2Zvcih2YXIgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXRoaXMuY2hpbGRyZW5bdF0uZGl2PW51bGw7d2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcIm1vdXNlbW92ZVxcXCIsdGhpcy5fb25Nb3VzZU1vdmUsITApLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJrZXlkb3duXFxcIix0aGlzLl9vbktleURvd24pLHRoaXMucG9vbD1udWxsLHRoaXMuY2hpbGRyZW49bnVsbCx0aGlzLnJlbmRlcmVyPW51bGx9LHR9KCk7ci5kZWZhdWx0PXYscy5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKFxcXCJhY2Nlc3NpYmlsaXR5XFxcIix2KSxzLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKFxcXCJhY2Nlc3NpYmlsaXR5XFxcIix2KX0se1xcXCIuLi9jb3JlXFxcIjo2NSxcXFwiLi9hY2Nlc3NpYmxlVGFyZ2V0XFxcIjo0MSxpc21vYmlsZWpzOjR9XSw0MTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtyLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PXthY2Nlc3NpYmxlOiExLGFjY2Vzc2libGVUaXRsZTpudWxsLGFjY2Vzc2libGVIaW50Om51bGwsdGFiSW5kZXg6MCxfYWNjZXNzaWJsZUFjdGl2ZTohMSxfYWNjZXNzaWJsZURpdjohMX19LHt9XSw0MjpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcXFwiLi9hY2Nlc3NpYmxlVGFyZ2V0XFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcImFjY2Vzc2libGVUYXJnZXRcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGkpLmRlZmF1bHR9fSk7dmFyIG89dChcXFwiLi9BY2Nlc3NpYmlsaXR5TWFuYWdlclxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJBY2Nlc3NpYmlsaXR5TWFuYWdlclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4obykuZGVmYXVsdH19KX0se1xcXCIuL0FjY2Vzc2liaWxpdHlNYW5hZ2VyXFxcIjo0MCxcXFwiLi9hY2Nlc3NpYmxlVGFyZ2V0XFxcIjo0MX1dLDQzOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXFxcInZhbHVlXFxcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCkscz10KFxcXCIuL2F1dG9EZXRlY3RSZW5kZXJlclxcXCIpLGE9dChcXFwiLi9kaXNwbGF5L0NvbnRhaW5lclxcXCIpLHU9bihhKSxoPXQoXFxcIi4vdGlja2VyXFxcIiksbD10KFxcXCIuL3NldHRpbmdzXFxcIiksYz1uKGwpLGQ9dChcXFwiLi9jb25zdFxcXCIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscixuLG8sYSl7aSh0aGlzLHQpLFxcXCJudW1iZXJcXFwiPT10eXBlb2YgZSYmKGU9T2JqZWN0LmFzc2lnbih7d2lkdGg6ZSxoZWlnaHQ6cnx8Yy5kZWZhdWx0LlJFTkRFUl9PUFRJT05TLmhlaWdodCxmb3JjZUNhbnZhczohIW8sc2hhcmVkVGlja2VyOiEhYX0sbikpLHRoaXMuX29wdGlvbnM9ZT1PYmplY3QuYXNzaWduKHthdXRvU3RhcnQ6ITAsc2hhcmVkVGlja2VyOiExLGZvcmNlQ2FudmFzOiExLHNoYXJlZExvYWRlcjohMX0sZSksdGhpcy5yZW5kZXJlcj0oMCxzLmF1dG9EZXRlY3RSZW5kZXJlcikoZSksdGhpcy5zdGFnZT1uZXcgdS5kZWZhdWx0LHRoaXMuX3RpY2tlcj1udWxsLHRoaXMudGlja2VyPWUuc2hhcmVkVGlja2VyP2guc2hhcmVkOm5ldyBoLlRpY2tlcixlLmF1dG9TdGFydCYmdGhpcy5zdGFydCgpfXJldHVybiB0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnN0YWdlKX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX3RpY2tlci5zdG9wKCl9LHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5fdGlja2VyLnN0YXJ0KCl9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl90aWNrZXIpe3ZhciByPXRoaXMuX3RpY2tlcjt0aGlzLnRpY2tlcj1udWxsLHIuZGVzdHJveSgpfXRoaXMuc3RhZ2UuZGVzdHJveShlKSx0aGlzLnN0YWdlPW51bGwsdGhpcy5yZW5kZXJlci5kZXN0cm95KHQpLHRoaXMucmVuZGVyZXI9bnVsbCx0aGlzLl9vcHRpb25zPW51bGx9LG8odCxbe2tleTpcXFwidGlja2VyXFxcIixzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGlja2VyJiZ0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLHRoaXMpLHRoaXMuX3RpY2tlcj10LHQmJnQuYWRkKHRoaXMucmVuZGVyLHRoaXMsZC5VUERBVEVfUFJJT1JJVFkuTE9XKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpY2tlcn19LHtrZXk6XFxcInZpZXdcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLnZpZXd9fSx7a2V5OlxcXCJzY3JlZW5cXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbn19XSksdH0oKTtyLmRlZmF1bHQ9Zn0se1xcXCIuL2F1dG9EZXRlY3RSZW5kZXJlclxcXCI6NDUsXFxcIi4vY29uc3RcXFwiOjQ2LFxcXCIuL2Rpc3BsYXkvQ29udGFpbmVyXFxcIjo0OCxcXFwiLi9zZXR0aW5nc1xcXCI6MTAxLFxcXCIuL3RpY2tlclxcXCI6MTIxfV0sNDQ6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1mdW5jdGlvbiBzKHQsZSl7aWYodCBpbnN0YW5jZW9mIEFycmF5KXtpZihcXFwicHJlY2lzaW9uXFxcIiE9PXRbMF0uc3Vic3RyaW5nKDAsOSkpe3ZhciByPXQuc2xpY2UoMCk7cmV0dXJuIHIudW5zaGlmdChcXFwicHJlY2lzaW9uIFxcXCIrZStcXFwiIGZsb2F0O1xcXCIpLHJ9fWVsc2UgaWYoXFxcInByZWNpc2lvblxcXCIhPT10LnRyaW0oKS5zdWJzdHJpbmcoMCw5KSlyZXR1cm5cXFwicHJlY2lzaW9uIFxcXCIrZStcXFwiIGZsb2F0O1xcXFxuXFxcIit0O3JldHVybiB0fXIuX19lc01vZHVsZT0hMDt2YXIgYT10KFxcXCJwaXhpLWdsLWNvcmVcXFwiKSx1PXQoXFxcIi4vc2V0dGluZ3NcXFwiKSxoPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0odSksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbyxhLHUsbCl7cmV0dXJuIG4odGhpcyxlKSxpKHRoaXMsdC5jYWxsKHRoaXMscixzKG8sbHx8aC5kZWZhdWx0LlBSRUNJU0lPTl9WRVJURVgpLHMoYSxsfHxoLmRlZmF1bHQuUFJFQ0lTSU9OX0ZSQUdNRU5UKSx2b2lkIDAsdSkpfXJldHVybiBvKGUsdCksZX0oYS5HTFNoYWRlcik7ci5kZWZhdWx0PWx9LHtcXFwiLi9zZXR0aW5nc1xcXCI6MTAxLFxcXCJwaXhpLWdsLWNvcmVcXFwiOjE1fV0sNDU6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUscixuKXt2YXIgaT10JiZ0LmZvcmNlQ2FudmFzO3JldHVybiB2b2lkIDAhPT1uJiYoaT1uKSwhaSYmcy5pc1dlYkdMU3VwcG9ydGVkKCk/bmV3IGwuZGVmYXVsdCh0LGUscik6bmV3IHUuZGVmYXVsdCh0LGUscil9ci5fX2VzTW9kdWxlPSEwLHIuYXV0b0RldGVjdFJlbmRlcmVyPWk7dmFyIG89dChcXFwiLi91dGlsc1xcXCIpLHM9ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShvKSxhPXQoXFxcIi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlclxcXCIpLHU9bihhKSxoPXQoXFxcIi4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXJcXFwiKSxsPW4oaCl9LHtcXFwiLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyXFxcIjo3NyxcXFwiLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlclxcXCI6ODQsXFxcIi4vdXRpbHNcXFwiOjEyNX1dLDQ2OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO3IuX19lc01vZHVsZT0hMDtyLlZFUlNJT049XFxcIjQuOC42XFxcIixyLlBJXzI9MipNYXRoLlBJLHIuUkFEX1RPX0RFRz0xODAvTWF0aC5QSSxyLkRFR19UT19SQUQ9TWF0aC5QSS8xODAsci5SRU5ERVJFUl9UWVBFPXtVTktOT1dOOjAsV0VCR0w6MSxDQU5WQVM6Mn0sci5CTEVORF9NT0RFUz17Tk9STUFMOjAsQUREOjEsTVVMVElQTFk6MixTQ1JFRU46MyxPVkVSTEFZOjQsREFSS0VOOjUsTElHSFRFTjo2LENPTE9SX0RPREdFOjcsQ09MT1JfQlVSTjo4LEhBUkRfTElHSFQ6OSxTT0ZUX0xJR0hUOjEwLERJRkZFUkVOQ0U6MTEsRVhDTFVTSU9OOjEyLEhVRToxMyxTQVRVUkFUSU9OOjE0LENPTE9SOjE1LExVTUlOT1NJVFk6MTYsTk9STUFMX05QTToxNyxBRERfTlBNOjE4LFNDUkVFTl9OUE06MTl9LHIuRFJBV19NT0RFUz17UE9JTlRTOjAsTElORVM6MSxMSU5FX0xPT1A6MixMSU5FX1NUUklQOjMsVFJJQU5HTEVTOjQsVFJJQU5HTEVfU1RSSVA6NSxUUklBTkdMRV9GQU46Nn0sci5TQ0FMRV9NT0RFUz17TElORUFSOjAsTkVBUkVTVDoxfSxyLldSQVBfTU9ERVM9e0NMQU1QOjAsUkVQRUFUOjEsTUlSUk9SRURfUkVQRUFUOjJ9LHIuR0NfTU9ERVM9e0FVVE86MCxNQU5VQUw6MX0sci5VUkxfRklMRV9FWFRFTlNJT049L1xcXFwuKFxcXFx3ezMsNH0pKD86JHxcXFxcP3wjKS9pLHIuREFUQV9VUkk9L15cXFxccypkYXRhOig/OihbXFxcXHctXSspXFxcXC8oW1xcXFx3Ky4tXSspKT8oPzo7Y2hhcnNldD0oW1xcXFx3LV0rKSk/KD86OyhiYXNlNjQpKT8sKC4qKS9pLHIuU1ZHX1NJWkU9LzxzdmdbXj5dKig/OlxcXFxzKHdpZHRofGhlaWdodCk9KCd8XFxcIikoXFxcXGQqKD86XFxcXC5cXFxcZCspPykoPzpweCk/KCd8XFxcIikpW14+XSooPzpcXFxccyh3aWR0aHxoZWlnaHQpPSgnfFxcXCIpKFxcXFxkKig/OlxcXFwuXFxcXGQrKT8pKD86cHgpPygnfFxcXCIpKVtePl0qPi9pLHIuU0hBUEVTPXtQT0xZOjAsUkVDVDoxLENJUkM6MixFTElQOjMsUlJFQzo0fSxyLlBSRUNJU0lPTj17TE9XOlxcXCJsb3dwXFxcIixNRURJVU06XFxcIm1lZGl1bXBcXFwiLEhJR0g6XFxcImhpZ2hwXFxcIn0sci5UUkFOU0ZPUk1fTU9ERT17U1RBVElDOjAsRFlOQU1JQzoxfSxyLlRFWFRfR1JBRElFTlQ9e0xJTkVBUl9WRVJUSUNBTDowLExJTkVBUl9IT1JJWk9OVEFMOjF9LHIuVVBEQVRFX1BSSU9SSVRZPXtJTlRFUkFDVElPTjo1MCxISUdIOjI1LE5PUk1BTDowLExPVzotMjUsVVRJTElUWTotNTB9fSx7fV0sNDc6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFxcXCIuLi9tYXRoXFxcIiksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtuKHRoaXMsdCksdGhpcy5taW5YPTEvMCx0aGlzLm1pblk9MS8wLHRoaXMubWF4WD0tMS8wLHRoaXMubWF4WT0tMS8wLHRoaXMucmVjdD1udWxsfXJldHVybiB0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWluWD50aGlzLm1heFh8fHRoaXMubWluWT50aGlzLm1heFl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVJRCsrLHRoaXMubWluWD0xLzAsdGhpcy5taW5ZPTEvMCx0aGlzLm1heFg9LTEvMCx0aGlzLm1heFk9LTEvMH0sdC5wcm90b3R5cGUuZ2V0UmVjdGFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm1pblg+dGhpcy5tYXhYfHx0aGlzLm1pblk+dGhpcy5tYXhZP2kuUmVjdGFuZ2xlLkVNUFRZOih0PXR8fG5ldyBpLlJlY3RhbmdsZSgwLDAsMSwxKSx0Lng9dGhpcy5taW5YLHQueT10aGlzLm1pblksdC53aWR0aD10aGlzLm1heFgtdGhpcy5taW5YLHQuaGVpZ2h0PXRoaXMubWF4WS10aGlzLm1pblksdCl9LHQucHJvdG90eXBlLmFkZFBvaW50PWZ1bmN0aW9uKHQpe3RoaXMubWluWD1NYXRoLm1pbih0aGlzLm1pblgsdC54KSx0aGlzLm1heFg9TWF0aC5tYXgodGhpcy5tYXhYLHQueCksdGhpcy5taW5ZPU1hdGgubWluKHRoaXMubWluWSx0LnkpLHRoaXMubWF4WT1NYXRoLm1heCh0aGlzLm1heFksdC55KX0sdC5wcm90b3R5cGUuYWRkUXVhZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm1pblgscj10aGlzLm1pblksbj10aGlzLm1heFgsaT10aGlzLm1heFksbz10WzBdLHM9dFsxXTtlPW88ZT9vOmUscj1zPHI/czpyLG49bz5uP286bixpPXM+aT9zOmksbz10WzJdLHM9dFszXSxlPW88ZT9vOmUscj1zPHI/czpyLG49bz5uP286bixpPXM+aT9zOmksbz10WzRdLHM9dFs1XSxlPW88ZT9vOmUscj1zPHI/czpyLG49bz5uP286bixpPXM+aT9zOmksbz10WzZdLHM9dFs3XSxlPW88ZT9vOmUscj1zPHI/czpyLG49bz5uP286bixpPXM+aT9zOmksdGhpcy5taW5YPWUsdGhpcy5taW5ZPXIsdGhpcy5tYXhYPW4sdGhpcy5tYXhZPWl9LHQucHJvdG90eXBlLmFkZEZyYW1lPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIG89dC53b3JsZFRyYW5zZm9ybSxzPW8uYSxhPW8uYix1PW8uYyxoPW8uZCxsPW8udHgsYz1vLnR5LGQ9dGhpcy5taW5YLGY9dGhpcy5taW5ZLHA9dGhpcy5tYXhYLHY9dGhpcy5tYXhZLGc9cyplK3UqcitsLHk9YSplK2gqcitjO2Q9ZzxkP2c6ZCxmPXk8Zj95OmYscD1nPnA/ZzpwLHY9eT52P3k6dixnPXMqbit1KnIrbCx5PWEqbitoKnIrYyxkPWc8ZD9nOmQsZj15PGY/eTpmLHA9Zz5wP2c6cCx2PXk+dj95OnYsZz1zKmUrdSppK2wseT1hKmUraCppK2MsZD1nPGQ/ZzpkLGY9eTxmP3k6ZixwPWc+cD9nOnAsdj15PnY/eTp2LGc9cypuK3UqaStsLHk9YSpuK2gqaStjLGQ9ZzxkP2c6ZCxmPXk8Zj95OmYscD1nPnA/ZzpwLHY9eT52P3k6dix0aGlzLm1pblg9ZCx0aGlzLm1pblk9Zix0aGlzLm1heFg9cCx0aGlzLm1heFk9dn0sdC5wcm90b3R5cGUuYWRkVmVydGljZXM9ZnVuY3Rpb24odCxlLHIsbil7Zm9yKHZhciBpPXQud29ybGRUcmFuc2Zvcm0sbz1pLmEscz1pLmIsYT1pLmMsdT1pLmQsaD1pLnR4LGw9aS50eSxjPXRoaXMubWluWCxkPXRoaXMubWluWSxmPXRoaXMubWF4WCxwPXRoaXMubWF4WSx2PXI7djxuO3YrPTIpe3ZhciBnPWVbdl0seT1lW3YrMV0sbT1vKmcrYSp5K2gsXz11KnkrcypnK2w7Yz1tPGM/bTpjLGQ9XzxkP186ZCxmPW0+Zj9tOmYscD1fPnA/XzpwfXRoaXMubWluWD1jLHRoaXMubWluWT1kLHRoaXMubWF4WD1mLHRoaXMubWF4WT1wfSx0LnByb3RvdHlwZS5hZGRCb3VuZHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5taW5YLHI9dGhpcy5taW5ZLG49dGhpcy5tYXhYLGk9dGhpcy5tYXhZO3RoaXMubWluWD10Lm1pblg8ZT90Lm1pblg6ZSx0aGlzLm1pblk9dC5taW5ZPHI/dC5taW5ZOnIsdGhpcy5tYXhYPXQubWF4WD5uP3QubWF4WDpuLHRoaXMubWF4WT10Lm1heFk+aT90Lm1heFk6aX0sdC5wcm90b3R5cGUuYWRkQm91bmRzTWFzaz1mdW5jdGlvbih0LGUpe3ZhciByPXQubWluWD5lLm1pblg/dC5taW5YOmUubWluWCxuPXQubWluWT5lLm1pblk/dC5taW5ZOmUubWluWSxpPXQubWF4WDxlLm1heFg/dC5tYXhYOmUubWF4WCxvPXQubWF4WTxlLm1heFk/dC5tYXhZOmUubWF4WTtpZihyPD1pJiZuPD1vKXt2YXIgcz10aGlzLm1pblgsYT10aGlzLm1pblksdT10aGlzLm1heFgsaD10aGlzLm1heFk7dGhpcy5taW5YPXI8cz9yOnMsdGhpcy5taW5ZPW48YT9uOmEsdGhpcy5tYXhYPWk+dT9pOnUsdGhpcy5tYXhZPW8+aD9vOmh9fSx0LnByb3RvdHlwZS5hZGRCb3VuZHNBcmVhPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5taW5YPmUueD90Lm1pblg6ZS54LG49dC5taW5ZPmUueT90Lm1pblk6ZS55LGk9dC5tYXhYPGUueCtlLndpZHRoP3QubWF4WDplLngrZS53aWR0aCxvPXQubWF4WTxlLnkrZS5oZWlnaHQ/dC5tYXhZOmUueStlLmhlaWdodDtpZihyPD1pJiZuPD1vKXt2YXIgcz10aGlzLm1pblgsYT10aGlzLm1pblksdT10aGlzLm1heFgsaD10aGlzLm1heFk7dGhpcy5taW5YPXI8cz9yOnMsdGhpcy5taW5ZPW48YT9uOmEsdGhpcy5tYXhYPWk+dT9pOnUsdGhpcy5tYXhZPW8+aD9vOmh9fSx0fSgpO3IuZGVmYXVsdD1vfSx7XFxcIi4uL21hdGhcXFwiOjcwfV0sNDg6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXFxcInZhbHVlXFxcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksYT10KFxcXCIuLi91dGlsc1xcXCIpLHU9dChcXFwiLi9EaXNwbGF5T2JqZWN0XFxcIiksaD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KHUpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe24odGhpcyxlKTt2YXIgcj1pKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gci5jaGlsZHJlbj1bXSxyfXJldHVybiBvKGUsdCksZS5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuYWRkQ2hpbGQ9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDtpZihlPjEpZm9yKHZhciByPTA7cjxlO3IrKyl0aGlzLmFkZENoaWxkKGFyZ3VtZW50c1tyXSk7ZWxzZSB0LnBhcmVudCYmdC5wYXJlbnQucmVtb3ZlQ2hpbGQodCksdC5wYXJlbnQ9dGhpcyx0LnRyYW5zZm9ybS5fcGFyZW50SUQ9LTEsdGhpcy5jaGlsZHJlbi5wdXNoKHQpLHRoaXMuX2JvdW5kc0lEKyssdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKHRoaXMuY2hpbGRyZW4ubGVuZ3RoLTEpLHQuZW1pdChcXFwiYWRkZWRcXFwiLHRoaXMpO3JldHVybiB0fSxlLnByb3RvdHlwZS5hZGRDaGlsZEF0PWZ1bmN0aW9uKHQsZSl7aWYoZTwwfHxlPnRoaXMuY2hpbGRyZW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcih0K1xcXCJhZGRDaGlsZEF0OiBUaGUgaW5kZXggXFxcIitlK1xcXCIgc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyBcXFwiK3RoaXMuY2hpbGRyZW4ubGVuZ3RoKTtyZXR1cm4gdC5wYXJlbnQmJnQucGFyZW50LnJlbW92ZUNoaWxkKHQpLHQucGFyZW50PXRoaXMsdC50cmFuc2Zvcm0uX3BhcmVudElEPS0xLHRoaXMuY2hpbGRyZW4uc3BsaWNlKGUsMCx0KSx0aGlzLl9ib3VuZHNJRCsrLHRoaXMub25DaGlsZHJlbkNoYW5nZShlKSx0LmVtaXQoXFxcImFkZGVkXFxcIix0aGlzKSx0fSxlLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW49ZnVuY3Rpb24odCxlKXtpZih0IT09ZSl7dmFyIHI9dGhpcy5nZXRDaGlsZEluZGV4KHQpLG49dGhpcy5nZXRDaGlsZEluZGV4KGUpO3RoaXMuY2hpbGRyZW5bcl09ZSx0aGlzLmNoaWxkcmVuW25dPXQsdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKHI8bj9yOm4pfX0sZS5wcm90b3R5cGUuZ2V0Q2hpbGRJbmRleD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoaWxkcmVuLmluZGV4T2YodCk7aWYoLTE9PT1lKXRocm93IG5ldyBFcnJvcihcXFwiVGhlIHN1cHBsaWVkIERpc3BsYXlPYmplY3QgbXVzdCBiZSBhIGNoaWxkIG9mIHRoZSBjYWxsZXJcXFwiKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuc2V0Q2hpbGRJbmRleD1mdW5jdGlvbih0LGUpe2lmKGU8MHx8ZT49dGhpcy5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFxcXCJUaGUgaW5kZXggXFxcIitlK1xcXCIgc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyBcXFwiK3RoaXMuY2hpbGRyZW4ubGVuZ3RoKTt2YXIgcj10aGlzLmdldENoaWxkSW5kZXgodCk7KDAsYS5yZW1vdmVJdGVtcykodGhpcy5jaGlsZHJlbixyLDEpLHRoaXMuY2hpbGRyZW4uc3BsaWNlKGUsMCx0KSx0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoZSl9LGUucHJvdG90eXBlLmdldENoaWxkQXQ9ZnVuY3Rpb24odCl7aWYodDwwfHx0Pj10aGlzLmNoaWxkcmVuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXFxcImdldENoaWxkQXQ6IEluZGV4IChcXFwiK3QrXFxcIikgZG9lcyBub3QgZXhpc3QuXFxcIik7cmV0dXJuIHRoaXMuY2hpbGRyZW5bdF19LGUucHJvdG90eXBlLnJlbW92ZUNoaWxkPWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg7aWYoZT4xKWZvcih2YXIgcj0wO3I8ZTtyKyspdGhpcy5yZW1vdmVDaGlsZChhcmd1bWVudHNbcl0pO2Vsc2V7dmFyIG49dGhpcy5jaGlsZHJlbi5pbmRleE9mKHQpO2lmKC0xPT09bilyZXR1cm4gbnVsbDt0LnBhcmVudD1udWxsLHQudHJhbnNmb3JtLl9wYXJlbnRJRD0tMSwoMCxhLnJlbW92ZUl0ZW1zKSh0aGlzLmNoaWxkcmVuLG4sMSksdGhpcy5fYm91bmRzSUQrKyx0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UobiksdC5lbWl0KFxcXCJyZW1vdmVkXFxcIix0aGlzKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUucmVtb3ZlQ2hpbGRBdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldENoaWxkQXQodCk7cmV0dXJuIGUucGFyZW50PW51bGwsZS50cmFuc2Zvcm0uX3BhcmVudElEPS0xLCgwLGEucmVtb3ZlSXRlbXMpKHRoaXMuY2hpbGRyZW4sdCwxKSx0aGlzLl9ib3VuZHNJRCsrLHRoaXMub25DaGlsZHJlbkNoYW5nZSh0KSxlLmVtaXQoXFxcInJlbW92ZWRcXFwiLHRoaXMpLGV9LGUucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsZT1hcmd1bWVudHNbMV0scj10LG49XFxcIm51bWJlclxcXCI9PXR5cGVvZiBlP2U6dGhpcy5jaGlsZHJlbi5sZW5ndGgsaT1uLXIsbz12b2lkIDA7aWYoaT4wJiZpPD1uKXtvPXRoaXMuY2hpbGRyZW4uc3BsaWNlKHIsaSk7Zm9yKHZhciBzPTA7czxvLmxlbmd0aDsrK3Mpb1tzXS5wYXJlbnQ9bnVsbCxvW3NdLnRyYW5zZm9ybSYmKG9bc10udHJhbnNmb3JtLl9wYXJlbnRJRD0tMSk7dGhpcy5fYm91bmRzSUQrKyx0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodCk7Zm9yKHZhciBhPTA7YTxvLmxlbmd0aDsrK2Epb1thXS5lbWl0KFxcXCJyZW1vdmVkXFxcIix0aGlzKTtyZXR1cm4gb31pZigwPT09aSYmMD09PXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybltdO3Rocm93IG5ldyBSYW5nZUVycm9yKFxcXCJyZW1vdmVDaGlsZHJlbjogbnVtZXJpYyB2YWx1ZXMgYXJlIG91dHNpZGUgdGhlIGFjY2VwdGFibGUgcmFuZ2UuXFxcIil9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe3RoaXMuX2JvdW5kc0lEKyssdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSksdGhpcy53b3JsZEFscGhhPXRoaXMuYWxwaGEqdGhpcy5wYXJlbnQud29ybGRBbHBoYTtmb3IodmFyIHQ9MCxlPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO3Q8ZTsrK3Qpe3ZhciByPXRoaXMuY2hpbGRyZW5bdF07ci52aXNpYmxlJiZyLnVwZGF0ZVRyYW5zZm9ybSgpfX0sZS5wcm90b3R5cGUuY2FsY3VsYXRlQm91bmRzPWZ1bmN0aW9uKCl7dGhpcy5fYm91bmRzLmNsZWFyKCksdGhpcy5fY2FsY3VsYXRlQm91bmRzKCk7Zm9yKHZhciB0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMuY2hpbGRyZW5bdF07ZS52aXNpYmxlJiZlLnJlbmRlcmFibGUmJihlLmNhbGN1bGF0ZUJvdW5kcygpLGUuX21hc2s/KGUuX21hc2suY2FsY3VsYXRlQm91bmRzKCksdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soZS5fYm91bmRzLGUuX21hc2suX2JvdW5kcykpOmUuZmlsdGVyQXJlYT90aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShlLl9ib3VuZHMsZS5maWx0ZXJBcmVhKTp0aGlzLl9ib3VuZHMuYWRkQm91bmRzKGUuX2JvdW5kcykpfXRoaXMuX2xhc3RCb3VuZHNJRD10aGlzLl9ib3VuZHNJRH0sZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUucmVuZGVyV2ViR0w9ZnVuY3Rpb24odCl7aWYodGhpcy52aXNpYmxlJiYhKHRoaXMud29ybGRBbHBoYTw9MCkmJnRoaXMucmVuZGVyYWJsZSlpZih0aGlzLl9tYXNrfHx0aGlzLl9maWx0ZXJzKXRoaXMucmVuZGVyQWR2YW5jZWRXZWJHTCh0KTtlbHNle3RoaXMuX3JlbmRlcldlYkdMKHQpO2Zvcih2YXIgZT0wLHI9dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZTxyOysrZSl0aGlzLmNoaWxkcmVuW2VdLnJlbmRlcldlYkdMKHQpfX0sZS5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWRXZWJHTD1mdW5jdGlvbih0KXt0LmZsdXNoKCk7dmFyIGU9dGhpcy5fZmlsdGVycyxyPXRoaXMuX21hc2s7aWYoZSl7dGhpcy5fZW5hYmxlZEZpbHRlcnN8fCh0aGlzLl9lbmFibGVkRmlsdGVycz1bXSksdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoPTA7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspZVtuXS5lbmFibGVkJiZ0aGlzLl9lbmFibGVkRmlsdGVycy5wdXNoKGVbbl0pO3RoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCYmdC5maWx0ZXJNYW5hZ2VyLnB1c2hGaWx0ZXIodGhpcyx0aGlzLl9lbmFibGVkRmlsdGVycyl9ciYmdC5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLHRoaXMuX21hc2spLHRoaXMuX3JlbmRlcldlYkdMKHQpO2Zvcih2YXIgaT0wLG89dGhpcy5jaGlsZHJlbi5sZW5ndGg7aTxvO2krKyl0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcldlYkdMKHQpO3QuZmx1c2goKSxyJiZ0Lm1hc2tNYW5hZ2VyLnBvcE1hc2sodGhpcyx0aGlzLl9tYXNrKSxlJiZ0aGlzLl9lbmFibGVkRmlsdGVycyYmdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoJiZ0LmZpbHRlck1hbmFnZXIucG9wRmlsdGVyKCl9LGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTD1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7aWYodGhpcy52aXNpYmxlJiYhKHRoaXMud29ybGRBbHBoYTw9MCkmJnRoaXMucmVuZGVyYWJsZSl7dGhpcy5fbWFzayYmdC5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLl9tYXNrKSx0aGlzLl9yZW5kZXJDYW52YXModCk7Zm9yKHZhciBlPTAscj10aGlzLmNoaWxkcmVuLmxlbmd0aDtlPHI7KytlKXRoaXMuY2hpbGRyZW5bZV0ucmVuZGVyQ2FudmFzKHQpO3RoaXMuX21hc2smJnQubWFza01hbmFnZXIucG9wTWFzayh0KX19LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3ZhciByPVxcXCJib29sZWFuXFxcIj09dHlwZW9mIGU/ZTplJiZlLmNoaWxkcmVuLG49dGhpcy5yZW1vdmVDaGlsZHJlbigwLHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtpZihyKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7KytpKW5baV0uZGVzdHJveShlKX0scyhlLFt7a2V5OlxcXCJ3aWR0aFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NhbGUueCp0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGh9LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7dGhpcy5zY2FsZS54PTAhPT1lP3QvZToxLHRoaXMuX3dpZHRoPXR9fSx7a2V5OlxcXCJoZWlnaHRcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjYWxlLnkqdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7dGhpcy5zY2FsZS55PTAhPT1lP3QvZToxLHRoaXMuX2hlaWdodD10fX1dKSxlfShoLmRlZmF1bHQpO3IuZGVmYXVsdD1sLGwucHJvdG90eXBlLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybT1sLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm19LHtcXFwiLi4vdXRpbHNcXFwiOjEyNSxcXFwiLi9EaXNwbGF5T2JqZWN0XFxcIjo0OX1dLDQ5OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLHU9dChcXFwiZXZlbnRlbWl0dGVyM1xcXCIpLGg9bih1KSxsPXQoXFxcIi4uL2NvbnN0XFxcIiksYz10KFxcXCIuLi9zZXR0aW5nc1xcXCIpLGQ9bihjKSxmPXQoXFxcIi4vVHJhbnNmb3JtU3RhdGljXFxcIikscD1uKGYpLHY9dChcXFwiLi9UcmFuc2Zvcm1cXFwiKSxnPW4odikseT10KFxcXCIuL0JvdW5kc1xcXCIpLG09bih5KSxfPXQoXFxcIi4uL21hdGhcXFwiKSxiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpKHRoaXMsZSk7dmFyIHI9byh0aGlzLHQuY2FsbCh0aGlzKSksbj1kLmRlZmF1bHQuVFJBTlNGT1JNX01PREU9PT1sLlRSQU5TRk9STV9NT0RFLlNUQVRJQz9wLmRlZmF1bHQ6Zy5kZWZhdWx0O3JldHVybiByLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50PW51bGwsci50cmFuc2Zvcm09bmV3IG4sci5hbHBoYT0xLHIudmlzaWJsZT0hMCxyLnJlbmRlcmFibGU9ITAsci5wYXJlbnQ9bnVsbCxyLndvcmxkQWxwaGE9MSxyLmZpbHRlckFyZWE9bnVsbCxyLl9maWx0ZXJzPW51bGwsci5fZW5hYmxlZEZpbHRlcnM9bnVsbCxyLl9ib3VuZHM9bmV3IG0uZGVmYXVsdCxyLl9ib3VuZHNJRD0wLHIuX2xhc3RCb3VuZHNJRD0tMSxyLl9ib3VuZHNSZWN0PW51bGwsci5fbG9jYWxCb3VuZHNSZWN0PW51bGwsci5fbWFzaz1udWxsLHIuX2Rlc3Ryb3llZD0hMSxyfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSksdGhpcy53b3JsZEFscGhhPXRoaXMuYWxwaGEqdGhpcy5wYXJlbnQud29ybGRBbHBoYSx0aGlzLl9ib3VuZHMudXBkYXRlSUQrK30sZS5wcm90b3R5cGUuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLnBhcmVudD8odGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKSx0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKSk6dGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSl9LGUucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbih0LGUpe3JldHVybiB0fHwodGhpcy5wYXJlbnQ/KHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKSx0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpKToodGhpcy5wYXJlbnQ9dGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQsdGhpcy51cGRhdGVUcmFuc2Zvcm0oKSx0aGlzLnBhcmVudD1udWxsKSksdGhpcy5fYm91bmRzSUQhPT10aGlzLl9sYXN0Qm91bmRzSUQmJnRoaXMuY2FsY3VsYXRlQm91bmRzKCksZXx8KHRoaXMuX2JvdW5kc1JlY3R8fCh0aGlzLl9ib3VuZHNSZWN0PW5ldyBfLlJlY3RhbmdsZSksZT10aGlzLl9ib3VuZHNSZWN0KSx0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKGUpfSxlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRyYW5zZm9ybSxyPXRoaXMucGFyZW50O3RoaXMucGFyZW50PW51bGwsdGhpcy50cmFuc2Zvcm09dGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtLHR8fCh0aGlzLl9sb2NhbEJvdW5kc1JlY3R8fCh0aGlzLl9sb2NhbEJvdW5kc1JlY3Q9bmV3IF8uUmVjdGFuZ2xlKSx0PXRoaXMuX2xvY2FsQm91bmRzUmVjdCk7dmFyIG49dGhpcy5nZXRCb3VuZHMoITEsdCk7cmV0dXJuIHRoaXMucGFyZW50PXIsdGhpcy50cmFuc2Zvcm09ZSxufSxlLnByb3RvdHlwZS50b0dsb2JhbD1mdW5jdGlvbih0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdfHwodGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMucGFyZW50P3RoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpOih0aGlzLnBhcmVudD10aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCx0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKSx0aGlzLnBhcmVudD1udWxsKSksdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseSh0LGUpfSxlLnByb3RvdHlwZS50b0xvY2FsPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBlJiYodD1lLnRvR2xvYmFsKHQscixuKSksbnx8KHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKSx0aGlzLnBhcmVudD90aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKToodGhpcy5wYXJlbnQ9dGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQsdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCksdGhpcy5wYXJlbnQ9bnVsbCkpLHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHQscil9LGUucHJvdG90eXBlLnJlbmRlcldlYkdMPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUucmVuZGVyQ2FudmFzPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUuc2V0UGFyZW50PWZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5hZGRDaGlsZCl0aHJvdyBuZXcgRXJyb3IoXFxcInNldFBhcmVudDogQXJndW1lbnQgbXVzdCBiZSBhIENvbnRhaW5lclxcXCIpO3JldHVybiB0LmFkZENoaWxkKHRoaXMpLHR9LGUucHJvdG90eXBlLnNldFRyYW5zZm9ybT1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAscj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MSxuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxLGk9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjAsbz1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06MCxzPWFyZ3VtZW50cy5sZW5ndGg+NiYmdm9pZCAwIT09YXJndW1lbnRzWzZdP2FyZ3VtZW50c1s2XTowLGE9YXJndW1lbnRzLmxlbmd0aD43JiZ2b2lkIDAhPT1hcmd1bWVudHNbN10/YXJndW1lbnRzWzddOjAsdT1hcmd1bWVudHMubGVuZ3RoPjgmJnZvaWQgMCE9PWFyZ3VtZW50c1s4XT9hcmd1bWVudHNbOF06MDtyZXR1cm4gdGhpcy5wb3NpdGlvbi54PXQsdGhpcy5wb3NpdGlvbi55PWUsdGhpcy5zY2FsZS54PXJ8fDEsdGhpcy5zY2FsZS55PW58fDEsdGhpcy5yb3RhdGlvbj1pLHRoaXMuc2tldy54PW8sdGhpcy5za2V3Lnk9cyx0aGlzLnBpdm90Lng9YSx0aGlzLnBpdm90Lnk9dSx0aGlzfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyksdGhpcy50cmFuc2Zvcm09bnVsbCx0aGlzLnBhcmVudD1udWxsLHRoaXMuX2JvdW5kcz1udWxsLHRoaXMuX2N1cnJlbnRCb3VuZHM9bnVsbCx0aGlzLl9tYXNrPW51bGwsdGhpcy5maWx0ZXJBcmVhPW51bGwsdGhpcy5pbnRlcmFjdGl2ZT0hMSx0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW49ITEsdGhpcy5fZGVzdHJveWVkPSEwfSxhKGUsW3trZXk6XFxcIl90ZW1wRGlzcGxheU9iamVjdFBhcmVudFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50JiYodGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudD1uZXcgZSksdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudH19LHtrZXk6XFxcInhcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uLnh9LHNldDpmdW5jdGlvbih0KXt0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi54PXR9fSx7a2V5OlxcXCJ5XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueT10fX0se2tleTpcXFwid29ybGRUcmFuc2Zvcm1cXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybX19LHtrZXk6XFxcImxvY2FsVHJhbnNmb3JtXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm19fSx7a2V5OlxcXCJwb3NpdGlvblxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weSh0KX19LHtrZXk6XFxcInNjYWxlXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2NhbGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLnRyYW5zZm9ybS5zY2FsZS5jb3B5KHQpfX0se2tleTpcXFwicGl2b3RcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudHJhbnNmb3JtLnBpdm90LmNvcHkodCl9fSx7a2V5OlxcXCJza2V3XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2tld30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudHJhbnNmb3JtLnNrZXcuY29weSh0KX19LHtrZXk6XFxcInJvdGF0aW9uXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucm90YXRpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbj10fX0se2tleTpcXFwid29ybGRWaXNpYmxlXFxcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2Rve2lmKCF0LnZpc2libGUpcmV0dXJuITE7dD10LnBhcmVudH13aGlsZSh0KTtyZXR1cm4hMH19LHtrZXk6XFxcIm1hc2tcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXNrfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFzayYmKHRoaXMuX21hc2sucmVuZGVyYWJsZT0hMCx0aGlzLl9tYXNrLmlzTWFzaz0hMSksdGhpcy5fbWFzaz10LHRoaXMuX21hc2smJih0aGlzLl9tYXNrLnJlbmRlcmFibGU9ITEsdGhpcy5fbWFzay5pc01hc2s9ITApfX0se2tleTpcXFwiZmlsdGVyc1xcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbHRlcnMmJnRoaXMuX2ZpbHRlcnMuc2xpY2UoKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZpbHRlcnM9dCYmdC5zbGljZSgpfX1dKSxlfShoLmRlZmF1bHQpO3IuZGVmYXVsdD1iLGIucHJvdG90eXBlLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm09Yi5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtfSx7XFxcIi4uL2NvbnN0XFxcIjo0NixcXFwiLi4vbWF0aFxcXCI6NzAsXFxcIi4uL3NldHRpbmdzXFxcIjoxMDEsXFxcIi4vQm91bmRzXFxcIjo0NyxcXFwiLi9UcmFuc2Zvcm1cXFwiOjUwLFxcXCIuL1RyYW5zZm9ybVN0YXRpY1xcXCI6NTIsZXZlbnRlbWl0dGVyMzozfV0sNTA6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfVxcbmZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXFxcInZhbHVlXFxcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksYT10KFxcXCIuLi9tYXRoXFxcIiksdT10KFxcXCIuL1RyYW5zZm9ybUJhc2VcXFwiKSxoPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0odSksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7bih0aGlzLGUpO3ZhciByPWkodGhpcyx0LmNhbGwodGhpcykpO3JldHVybiByLnBvc2l0aW9uPW5ldyBhLlBvaW50KDAsMCksci5zY2FsZT1uZXcgYS5Qb2ludCgxLDEpLHIuc2tldz1uZXcgYS5PYnNlcnZhYmxlUG9pbnQoci51cGRhdGVTa2V3LHIsMCwwKSxyLnBpdm90PW5ldyBhLlBvaW50KDAsMCksci5fcm90YXRpb249MCxyLl9jeD0xLHIuX3N4PTAsci5fY3k9MCxyLl9zeT0xLHJ9cmV0dXJuIG8oZSx0KSxlLnByb3RvdHlwZS51cGRhdGVTa2V3PWZ1bmN0aW9uKCl7dGhpcy5fY3g9TWF0aC5jb3ModGhpcy5fcm90YXRpb24rdGhpcy5za2V3Ll95KSx0aGlzLl9zeD1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbit0aGlzLnNrZXcuX3kpLHRoaXMuX2N5PS1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbi10aGlzLnNrZXcuX3gpLHRoaXMuX3N5PU1hdGguY29zKHRoaXMuX3JvdGF0aW9uLXRoaXMuc2tldy5feCl9LGUucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sb2NhbFRyYW5zZm9ybTt0LmE9dGhpcy5fY3gqdGhpcy5zY2FsZS54LHQuYj10aGlzLl9zeCp0aGlzLnNjYWxlLngsdC5jPXRoaXMuX2N5KnRoaXMuc2NhbGUueSx0LmQ9dGhpcy5fc3kqdGhpcy5zY2FsZS55LHQudHg9dGhpcy5wb3NpdGlvbi54LSh0aGlzLnBpdm90LngqdC5hK3RoaXMucGl2b3QueSp0LmMpLHQudHk9dGhpcy5wb3NpdGlvbi55LSh0aGlzLnBpdm90LngqdC5iK3RoaXMucGl2b3QueSp0LmQpfSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sb2NhbFRyYW5zZm9ybTtlLmE9dGhpcy5fY3gqdGhpcy5zY2FsZS54LGUuYj10aGlzLl9zeCp0aGlzLnNjYWxlLngsZS5jPXRoaXMuX2N5KnRoaXMuc2NhbGUueSxlLmQ9dGhpcy5fc3kqdGhpcy5zY2FsZS55LGUudHg9dGhpcy5wb3NpdGlvbi54LSh0aGlzLnBpdm90LngqZS5hK3RoaXMucGl2b3QueSplLmMpLGUudHk9dGhpcy5wb3NpdGlvbi55LSh0aGlzLnBpdm90LngqZS5iK3RoaXMucGl2b3QueSplLmQpO3ZhciByPXQud29ybGRUcmFuc2Zvcm0sbj10aGlzLndvcmxkVHJhbnNmb3JtO24uYT1lLmEqci5hK2UuYipyLmMsbi5iPWUuYSpyLmIrZS5iKnIuZCxuLmM9ZS5jKnIuYStlLmQqci5jLG4uZD1lLmMqci5iK2UuZCpyLmQsbi50eD1lLnR4KnIuYStlLnR5KnIuYytyLnR4LG4udHk9ZS50eCpyLmIrZS50eSpyLmQrci50eSx0aGlzLl93b3JsZElEKyt9LGUucHJvdG90eXBlLnNldEZyb21NYXRyaXg9ZnVuY3Rpb24odCl7dC5kZWNvbXBvc2UodGhpcyl9LHMoZSxbe2tleTpcXFwicm90YXRpb25cXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb3RhdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JvdGF0aW9uPXQsdGhpcy51cGRhdGVTa2V3KCl9fV0pLGV9KGguZGVmYXVsdCk7ci5kZWZhdWx0PWx9LHtcXFwiLi4vbWF0aFxcXCI6NzAsXFxcIi4vVHJhbnNmb3JtQmFzZVxcXCI6NTF9XSw1MTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPXQoXFxcIi4uL21hdGhcXFwiKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe24odGhpcyx0KSx0aGlzLndvcmxkVHJhbnNmb3JtPW5ldyBpLk1hdHJpeCx0aGlzLmxvY2FsVHJhbnNmb3JtPW5ldyBpLk1hdHJpeCx0aGlzLl93b3JsZElEPTAsdGhpcy5fcGFyZW50SUQ9MH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm09ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0KXt2YXIgZT10LndvcmxkVHJhbnNmb3JtLHI9dGhpcy53b3JsZFRyYW5zZm9ybSxuPXRoaXMubG9jYWxUcmFuc2Zvcm07ci5hPW4uYSplLmErbi5iKmUuYyxyLmI9bi5hKmUuYituLmIqZS5kLHIuYz1uLmMqZS5hK24uZCplLmMsci5kPW4uYyplLmIrbi5kKmUuZCxyLnR4PW4udHgqZS5hK24udHkqZS5jK2UudHgsci50eT1uLnR4KmUuYituLnR5KmUuZCtlLnR5LHRoaXMuX3dvcmxkSUQrK30sdH0oKTtyLmRlZmF1bHQ9byxvLnByb3RvdHlwZS51cGRhdGVXb3JsZFRyYW5zZm9ybT1vLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0sby5JREVOVElUWT1uZXcgb30se1xcXCIuLi9tYXRoXFxcIjo3MH1dLDUyOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGE9dChcXFwiLi4vbWF0aFxcXCIpLHU9dChcXFwiLi9UcmFuc2Zvcm1CYXNlXFxcIiksaD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KHUpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe24odGhpcyxlKTt2YXIgcj1pKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gci5wb3NpdGlvbj1uZXcgYS5PYnNlcnZhYmxlUG9pbnQoci5vbkNoYW5nZSxyLDAsMCksci5zY2FsZT1uZXcgYS5PYnNlcnZhYmxlUG9pbnQoci5vbkNoYW5nZSxyLDEsMSksci5waXZvdD1uZXcgYS5PYnNlcnZhYmxlUG9pbnQoci5vbkNoYW5nZSxyLDAsMCksci5za2V3PW5ldyBhLk9ic2VydmFibGVQb2ludChyLnVwZGF0ZVNrZXcsciwwLDApLHIuX3JvdGF0aW9uPTAsci5fY3g9MSxyLl9zeD0wLHIuX2N5PTAsci5fc3k9MSxyLl9sb2NhbElEPTAsci5fY3VycmVudExvY2FsSUQ9MCxyfXJldHVybiBvKGUsdCksZS5wcm90b3R5cGUub25DaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLl9sb2NhbElEKyt9LGUucHJvdG90eXBlLnVwZGF0ZVNrZXc9ZnVuY3Rpb24oKXt0aGlzLl9jeD1NYXRoLmNvcyh0aGlzLl9yb3RhdGlvbit0aGlzLnNrZXcuX3kpLHRoaXMuX3N4PU1hdGguc2luKHRoaXMuX3JvdGF0aW9uK3RoaXMuc2tldy5feSksdGhpcy5fY3k9LU1hdGguc2luKHRoaXMuX3JvdGF0aW9uLXRoaXMuc2tldy5feCksdGhpcy5fc3k9TWF0aC5jb3ModGhpcy5fcm90YXRpb24tdGhpcy5za2V3Ll94KSx0aGlzLl9sb2NhbElEKyt9LGUucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sb2NhbFRyYW5zZm9ybTt0aGlzLl9sb2NhbElEIT09dGhpcy5fY3VycmVudExvY2FsSUQmJih0LmE9dGhpcy5fY3gqdGhpcy5zY2FsZS5feCx0LmI9dGhpcy5fc3gqdGhpcy5zY2FsZS5feCx0LmM9dGhpcy5fY3kqdGhpcy5zY2FsZS5feSx0LmQ9dGhpcy5fc3kqdGhpcy5zY2FsZS5feSx0LnR4PXRoaXMucG9zaXRpb24uX3gtKHRoaXMucGl2b3QuX3gqdC5hK3RoaXMucGl2b3QuX3kqdC5jKSx0LnR5PXRoaXMucG9zaXRpb24uX3ktKHRoaXMucGl2b3QuX3gqdC5iK3RoaXMucGl2b3QuX3kqdC5kKSx0aGlzLl9jdXJyZW50TG9jYWxJRD10aGlzLl9sb2NhbElELHRoaXMuX3BhcmVudElEPS0xKX0sZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubG9jYWxUcmFuc2Zvcm07aWYodGhpcy5fbG9jYWxJRCE9PXRoaXMuX2N1cnJlbnRMb2NhbElEJiYoZS5hPXRoaXMuX2N4KnRoaXMuc2NhbGUuX3gsZS5iPXRoaXMuX3N4KnRoaXMuc2NhbGUuX3gsZS5jPXRoaXMuX2N5KnRoaXMuc2NhbGUuX3ksZS5kPXRoaXMuX3N5KnRoaXMuc2NhbGUuX3ksZS50eD10aGlzLnBvc2l0aW9uLl94LSh0aGlzLnBpdm90Ll94KmUuYSt0aGlzLnBpdm90Ll95KmUuYyksZS50eT10aGlzLnBvc2l0aW9uLl95LSh0aGlzLnBpdm90Ll94KmUuYit0aGlzLnBpdm90Ll95KmUuZCksdGhpcy5fY3VycmVudExvY2FsSUQ9dGhpcy5fbG9jYWxJRCx0aGlzLl9wYXJlbnRJRD0tMSksdGhpcy5fcGFyZW50SUQhPT10Ll93b3JsZElEKXt2YXIgcj10LndvcmxkVHJhbnNmb3JtLG49dGhpcy53b3JsZFRyYW5zZm9ybTtuLmE9ZS5hKnIuYStlLmIqci5jLG4uYj1lLmEqci5iK2UuYipyLmQsbi5jPWUuYypyLmErZS5kKnIuYyxuLmQ9ZS5jKnIuYitlLmQqci5kLG4udHg9ZS50eCpyLmErZS50eSpyLmMrci50eCxuLnR5PWUudHgqci5iK2UudHkqci5kK3IudHksdGhpcy5fcGFyZW50SUQ9dC5fd29ybGRJRCx0aGlzLl93b3JsZElEKyt9fSxlLnByb3RvdHlwZS5zZXRGcm9tTWF0cml4PWZ1bmN0aW9uKHQpe3QuZGVjb21wb3NlKHRoaXMpLHRoaXMuX2xvY2FsSUQrK30scyhlLFt7a2V5OlxcXCJyb3RhdGlvblxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcm90YXRpb24hPT10JiYodGhpcy5fcm90YXRpb249dCx0aGlzLnVwZGF0ZVNrZXcoKSl9fV0pLGV9KGguZGVmYXVsdCk7ci5kZWZhdWx0PWx9LHtcXFwiLi4vbWF0aFxcXCI6NzAsXFxcIi4vVHJhbnNmb3JtQmFzZVxcXCI6NTF9XSw1MzpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT10KFxcXCIuLi9kaXNwbGF5L0NvbnRhaW5lclxcXCIpLHU9bihhKSxoPXQoXFxcIi4uL3RleHR1cmVzL1JlbmRlclRleHR1cmVcXFwiKSxsPW4oaCksYz10KFxcXCIuLi90ZXh0dXJlcy9UZXh0dXJlXFxcIiksZD1uKGMpLGY9dChcXFwiLi9HcmFwaGljc0RhdGFcXFwiKSxwPW4oZiksdj10KFxcXCIuLi9zcHJpdGVzL1Nwcml0ZVxcXCIpLGc9bih2KSx5PXQoXFxcIi4uL21hdGhcXFwiKSxtPXQoXFxcIi4uL3V0aWxzXFxcIiksXz10KFxcXCIuLi9jb25zdFxcXCIpLGI9dChcXFwiLi4vZGlzcGxheS9Cb3VuZHNcXFwiKSx4PW4oYiksVD10KFxcXCIuL3V0aWxzL2JlemllckN1cnZlVG9cXFwiKSx3PW4oVCksRT10KFxcXCIuLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyXFxcIiksUz1uKEUpLE89dm9pZCAwLE09bmV3IHkuTWF0cml4LFA9bmV3IHkuUG9pbnQsQz1uZXcgRmxvYXQzMkFycmF5KDQpLFI9bmV3IEZsb2F0MzJBcnJheSg0KSxBPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO2kodGhpcyxlKTt2YXIgbj1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gbi5maWxsQWxwaGE9MSxuLmxpbmVXaWR0aD0wLG4ubmF0aXZlTGluZXM9cixuLmxpbmVDb2xvcj0wLG4ubGluZUFsaWdubWVudD0uNSxuLmdyYXBoaWNzRGF0YT1bXSxuLnRpbnQ9MTY3NzcyMTUsbi5fcHJldlRpbnQ9MTY3NzcyMTUsbi5ibGVuZE1vZGU9Xy5CTEVORF9NT0RFUy5OT1JNQUwsbi5jdXJyZW50UGF0aD1udWxsLG4uX3dlYkdMPXt9LG4uaXNNYXNrPSExLG4uYm91bmRzUGFkZGluZz0wLG4uX2xvY2FsQm91bmRzPW5ldyB4LmRlZmF1bHQsbi5kaXJ0eT0wLG4uZmFzdFJlY3REaXJ0eT0tMSxuLmNsZWFyRGlydHk9MCxuLmJvdW5kc0RpcnR5PS0xLG4uY2FjaGVkU3ByaXRlRGlydHk9ITEsbi5fc3ByaXRlUmVjdD1udWxsLG4uX2Zhc3RSZWN0PSExLG4uX3ByZXZSZWN0VGludD1udWxsLG4uX3ByZXZSZWN0RmlsbENvbG9yPW51bGwsbn1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7dC5yZW5kZXJhYmxlPXRoaXMucmVuZGVyYWJsZSx0LmZpbGxBbHBoYT10aGlzLmZpbGxBbHBoYSx0LmxpbmVXaWR0aD10aGlzLmxpbmVXaWR0aCx0LmxpbmVDb2xvcj10aGlzLmxpbmVDb2xvcix0LmxpbmVBbGlnbm1lbnQ9dGhpcy5saW5lQWxpZ25tZW50LHQudGludD10aGlzLnRpbnQsdC5ibGVuZE1vZGU9dGhpcy5ibGVuZE1vZGUsdC5pc01hc2s9dGhpcy5pc01hc2ssdC5ib3VuZHNQYWRkaW5nPXRoaXMuYm91bmRzUGFkZGluZyx0LmRpcnR5PTAsdC5jYWNoZWRTcHJpdGVEaXJ0eT10aGlzLmNhY2hlZFNwcml0ZURpcnR5O2Zvcih2YXIgcj0wO3I8dGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOysrcil0LmdyYXBoaWNzRGF0YS5wdXNoKHRoaXMuZ3JhcGhpY3NEYXRhW3JdLmNsb25lKCkpO3JldHVybiB0LmN1cnJlbnRQYXRoPXQuZ3JhcGhpY3NEYXRhW3QuZ3JhcGhpY3NEYXRhLmxlbmd0aC0xXSx0LnVwZGF0ZUxvY2FsQm91bmRzKCksdH0sZS5wcm90b3R5cGUuX3F1YWRyYXRpY0N1cnZlTGVuZ3RoPWZ1bmN0aW9uKHQsZSxyLG4saSxvKXt2YXIgcz10LTIqcitpLGE9ZS0yKm4rbyx1PTIqci0yKnQsaD0yKm4tMiplLGw9NCoocypzK2EqYSksYz00KihzKnUrYSpoKSxkPXUqdStoKmgsZj0yKk1hdGguc3FydChsK2MrZCkscD1NYXRoLnNxcnQobCksdj0yKmwqcCxnPTIqTWF0aC5zcXJ0KGQpLHk9Yy9wO3JldHVybih2KmYrcCpjKihmLWcpKyg0KmQqbC1jKmMpKk1hdGgubG9nKCgyKnAreStmKS8oeStnKSkpLyg0KnYpfSxlLnByb3RvdHlwZS5fYmV6aWVyQ3VydmVMZW5ndGg9ZnVuY3Rpb24odCxlLHIsbixpLG8scyxhKXtmb3IodmFyIHU9MCxoPTAsbD0wLGM9MCxkPTAsZj0wLHA9MCx2PTAsZz0wLHk9MCxtPTAsXz10LGI9ZSx4PTE7eDw9MTA7Kyt4KWg9eC8xMCxsPWgqaCxjPWwqaCxkPTEtaCxmPWQqZCxwPWYqZCx2PXAqdCszKmYqaCpyKzMqZCpsKmkrYypzLGc9cCplKzMqZipoKm4rMypkKmwqbytjKmEseT1fLXYsbT1iLWcsXz12LGI9Zyx1Kz1NYXRoLnNxcnQoeSp5K20qbSk7cmV0dXJuIHV9LGUucHJvdG90eXBlLl9zZWdtZW50c0NvdW50PWZ1bmN0aW9uKHQpe3ZhciByPU1hdGguY2VpbCh0L2UuQ1VSVkVTLm1heExlbmd0aCk7cmV0dXJuIHI8ZS5DVVJWRVMubWluU2VnbWVudHM/cj1lLkNVUlZFUy5taW5TZWdtZW50czpyPmUuQ1VSVkVTLm1heFNlZ21lbnRzJiYocj1lLkNVUlZFUy5tYXhTZWdtZW50cykscn0sZS5wcm90b3R5cGUubGluZVN0eWxlPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOi41O2lmKHRoaXMubGluZVdpZHRoPXQsdGhpcy5saW5lQ29sb3I9ZSx0aGlzLmxpbmVBbHBoYT1yLHRoaXMubGluZUFsaWdubWVudD1uLHRoaXMuY3VycmVudFBhdGgpaWYodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoKXt2YXIgaT1uZXcgeS5Qb2x5Z29uKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLnNsaWNlKC0yKSk7aS5jbG9zZWQ9ITEsdGhpcy5kcmF3U2hhcGUoaSl9ZWxzZSB0aGlzLmN1cnJlbnRQYXRoLmxpbmVXaWR0aD10aGlzLmxpbmVXaWR0aCx0aGlzLmN1cnJlbnRQYXRoLmxpbmVDb2xvcj10aGlzLmxpbmVDb2xvcix0aGlzLmN1cnJlbnRQYXRoLmxpbmVBbHBoYT10aGlzLmxpbmVBbHBoYSx0aGlzLmN1cnJlbnRQYXRoLmxpbmVBbGlnbm1lbnQ9dGhpcy5saW5lQWxpZ25tZW50O3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5tb3ZlVG89ZnVuY3Rpb24odCxlKXt2YXIgcj1uZXcgeS5Qb2x5Z29uKFt0LGVdKTtyZXR1cm4gci5jbG9zZWQ9ITEsdGhpcy5kcmF3U2hhcGUociksdGhpc30sZS5wcm90b3R5cGUubGluZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMsbj1yW3IubGVuZ3RoLTJdLGk9cltyLmxlbmd0aC0xXTtyZXR1cm4gbj09PXQmJmk9PT1lfHwoci5wdXNoKHQsZSksdGhpcy5kaXJ0eSsrKSx0aGlzfSxlLnByb3RvdHlwZS5xdWFkcmF0aWNDdXJ2ZVRvPWZ1bmN0aW9uKHQscixuLGkpe3RoaXMuY3VycmVudFBhdGg/MD09PXRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCYmKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzPVswLDBdKTp0aGlzLm1vdmVUbygwLDApO3ZhciBvPXRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLHM9MCxhPTA7MD09PW8ubGVuZ3RoJiZ0aGlzLm1vdmVUbygwLDApO2Zvcih2YXIgdT1vW28ubGVuZ3RoLTJdLGg9b1tvLmxlbmd0aC0xXSxsPWUuQ1VSVkVTLmFkYXB0aXZlP3RoaXMuX3NlZ21lbnRzQ291bnQodGhpcy5fcXVhZHJhdGljQ3VydmVMZW5ndGgodSxoLHQscixuLGkpKToyMCxjPTE7Yzw9bDsrK2Mpe3ZhciBkPWMvbDtzPXUrKHQtdSkqZCxhPWgrKHItaCkqZCxvLnB1c2gocysodCsobi10KSpkLXMpKmQsYSsocisoaS1yKSpkLWEpKmQpfXJldHVybiB0aGlzLmRpcnR5KyssdGhpc30sZS5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbz1mdW5jdGlvbih0LHIsbixpLG8scyl7dGhpcy5jdXJyZW50UGF0aD8wPT09dGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoJiYodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM9WzAsMF0pOnRoaXMubW92ZVRvKDAsMCk7dmFyIGE9dGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMsdT1hW2EubGVuZ3RoLTJdLGg9YVthLmxlbmd0aC0xXTthLmxlbmd0aC09Mjt2YXIgbD1lLkNVUlZFUy5hZGFwdGl2ZT90aGlzLl9zZWdtZW50c0NvdW50KHRoaXMuX2JlemllckN1cnZlTGVuZ3RoKHUsaCx0LHIsbixpLG8scykpOjIwO3JldHVybigwLHcuZGVmYXVsdCkodSxoLHQscixuLGksbyxzLGwsYSksdGhpcy5kaXJ0eSsrLHRoaXN9LGUucHJvdG90eXBlLmFyY1RvPWZ1bmN0aW9uKHQsZSxyLG4saSl7dGhpcy5jdXJyZW50UGF0aD8wPT09dGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoJiZ0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5wdXNoKHQsZSk6dGhpcy5tb3ZlVG8odCxlKTt2YXIgbz10aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyxzPW9bby5sZW5ndGgtMl0sYT1vW28ubGVuZ3RoLTFdLHU9YS1lLGg9cy10LGw9bi1lLGM9ci10LGQ9TWF0aC5hYnModSpjLWgqbCk7aWYoZDwxZS04fHwwPT09aSlvW28ubGVuZ3RoLTJdPT09dCYmb1tvLmxlbmd0aC0xXT09PWV8fG8ucHVzaCh0LGUpO2Vsc2V7dmFyIGY9dSp1K2gqaCxwPWwqbCtjKmMsdj11KmwraCpjLGc9aSpNYXRoLnNxcnQoZikvZCx5PWkqTWF0aC5zcXJ0KHApL2QsbT1nKnYvZixfPXkqdi9wLGI9ZypjK3kqaCx4PWcqbCt5KnUsVD1oKih5K20pLHc9dSooeSttKSxFPWMqKGcrXyksUz1sKihnK18pLE89TWF0aC5hdGFuMih3LXgsVC1iKSxNPU1hdGguYXRhbjIoUy14LEUtYik7dGhpcy5hcmMoYit0LHgrZSxpLE8sTSxoKmw+Yyp1KX1yZXR1cm4gdGhpcy5kaXJ0eSsrLHRoaXN9LGUucHJvdG90eXBlLmFyYz1mdW5jdGlvbih0LHIsbixpLG8pe3ZhciBzPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdJiZhcmd1bWVudHNbNV07aWYoaT09PW8pcmV0dXJuIHRoaXM7IXMmJm88PWk/bys9Xy5QSV8yOnMmJmk8PW8mJihpKz1fLlBJXzIpO3ZhciBhPW8taSx1PWUuQ1VSVkVTLmFkYXB0aXZlP3RoaXMuX3NlZ21lbnRzQ291bnQoTWF0aC5hYnMoYSkqbik6NDAqTWF0aC5jZWlsKE1hdGguYWJzKGEpL18uUElfMik7aWYoMD09PWEpcmV0dXJuIHRoaXM7dmFyIGg9dCtNYXRoLmNvcyhpKSpuLGw9citNYXRoLnNpbihpKSpuLGM9dGhpcy5jdXJyZW50UGF0aD90aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50czpudWxsO2lmKGMpe3ZhciBkPU1hdGguYWJzKGNbYy5sZW5ndGgtMl0taCksZj1NYXRoLmFicyhjW2MubGVuZ3RoLTFdLWwpO2Q8LjAwMSYmZjwuMDAxfHxjLnB1c2goaCxsKX1lbHNlIHRoaXMubW92ZVRvKGgsbCksYz10aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cztmb3IodmFyIHA9YS8oMip1KSx2PTIqcCxnPU1hdGguY29zKHApLHk9TWF0aC5zaW4ocCksbT11LTEsYj1tJTEvbSx4PTA7eDw9bTsrK3gpe3ZhciBUPXgrYip4LHc9cCtpK3YqVCxFPU1hdGguY29zKHcpLFM9LU1hdGguc2luKHcpO2MucHVzaCgoZypFK3kqUykqbit0LChnKi1TK3kqRSkqbityKX1yZXR1cm4gdGhpcy5kaXJ0eSsrLHRoaXN9LGUucHJvdG90eXBlLmJlZ2luRmlsbD1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjE7cmV0dXJuIHRoaXMuZmlsbGluZz0hMCx0aGlzLmZpbGxDb2xvcj10LHRoaXMuZmlsbEFscGhhPWUsdGhpcy5jdXJyZW50UGF0aCYmdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoPD0yJiYodGhpcy5jdXJyZW50UGF0aC5maWxsPXRoaXMuZmlsbGluZyx0aGlzLmN1cnJlbnRQYXRoLmZpbGxDb2xvcj10aGlzLmZpbGxDb2xvcix0aGlzLmN1cnJlbnRQYXRoLmZpbGxBbHBoYT10aGlzLmZpbGxBbHBoYSksdGhpc30sZS5wcm90b3R5cGUuZW5kRmlsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbGxpbmc9ITEsdGhpcy5maWxsQ29sb3I9bnVsbCx0aGlzLmZpbGxBbHBoYT0xLHRoaXN9LGUucHJvdG90eXBlLmRyYXdSZWN0PWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgeS5SZWN0YW5nbGUodCxlLHIsbikpLHRoaXN9LGUucHJvdG90eXBlLmRyYXdSb3VuZGVkUmVjdD1mdW5jdGlvbih0LGUscixuLGkpe3JldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgeS5Sb3VuZGVkUmVjdGFuZ2xlKHQsZSxyLG4saSkpLHRoaXN9LGUucHJvdG90eXBlLmRyYXdDaXJjbGU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgeS5DaXJjbGUodCxlLHIpKSx0aGlzfSxlLnByb3RvdHlwZS5kcmF3RWxsaXBzZT1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IHkuRWxsaXBzZSh0LGUscixuKSksdGhpc30sZS5wcm90b3R5cGUuZHJhd1BvbHlnb249ZnVuY3Rpb24odCl7dmFyIGU9dCxyPSEwO2lmKGUgaW5zdGFuY2VvZiB5LlBvbHlnb24mJihyPWUuY2xvc2VkLGU9ZS5wb2ludHMpLCFBcnJheS5pc0FycmF5KGUpKXtlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIG49MDtuPGUubGVuZ3RoOysrbillW25dPWFyZ3VtZW50c1tuXX12YXIgaT1uZXcgeS5Qb2x5Z29uKGUpO3JldHVybiBpLmNsb3NlZD1yLHRoaXMuZHJhd1NoYXBlKGkpLHRoaXN9LGUucHJvdG90eXBlLmRyYXdTdGFyPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIG89YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjA7aT1pfHxuLzI7Zm9yKHZhciBzPS0xKk1hdGguUEkvMitvLGE9MipyLHU9Xy5QSV8yL2EsaD1bXSxsPTA7bDxhO2wrKyl7dmFyIGM9bCUyP2k6bixkPWwqdStzO2gucHVzaCh0K2MqTWF0aC5jb3MoZCksZStjKk1hdGguc2luKGQpKX1yZXR1cm4gdGhpcy5kcmF3UG9seWdvbihoKX0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5saW5lV2lkdGh8fHRoaXMuZmlsbGluZ3x8dGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoPjApJiYodGhpcy5saW5lV2lkdGg9MCx0aGlzLmxpbmVBbGlnbm1lbnQ9LjUsdGhpcy5maWxsaW5nPSExLHRoaXMuYm91bmRzRGlydHk9LTEsdGhpcy5jYW52YXNUaW50RGlydHk9LTEsdGhpcy5kaXJ0eSsrLHRoaXMuY2xlYXJEaXJ0eSsrLHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aD0wKSx0aGlzLmN1cnJlbnRQYXRoPW51bGwsdGhpcy5fc3ByaXRlUmVjdD1udWxsLHRoaXN9LGUucHJvdG90eXBlLmlzRmFzdFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCYmdGhpcy5ncmFwaGljc0RhdGFbMF0uc2hhcGUudHlwZT09PV8uU0hBUEVTLlJFQ1QmJiF0aGlzLmdyYXBoaWNzRGF0YVswXS5saW5lV2lkdGh9LGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTD1mdW5jdGlvbih0KXt0aGlzLmRpcnR5IT09dGhpcy5mYXN0UmVjdERpcnR5JiYodGhpcy5mYXN0UmVjdERpcnR5PXRoaXMuZGlydHksdGhpcy5fZmFzdFJlY3Q9dGhpcy5pc0Zhc3RSZWN0KCkpLHRoaXMuX2Zhc3RSZWN0P3RoaXMuX3JlbmRlclNwcml0ZVJlY3QodCk6KHQuc2V0T2JqZWN0UmVuZGVyZXIodC5wbHVnaW5zLmdyYXBoaWNzKSx0LnBsdWdpbnMuZ3JhcGhpY3MucmVuZGVyKHRoaXMpKX0sZS5wcm90b3R5cGUuX3JlbmRlclNwcml0ZVJlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncmFwaGljc0RhdGFbMF0uc2hhcGU7dGhpcy5fc3ByaXRlUmVjdHx8KHRoaXMuX3Nwcml0ZVJlY3Q9bmV3IGcuZGVmYXVsdChuZXcgZC5kZWZhdWx0KGQuZGVmYXVsdC5XSElURSkpKTt2YXIgcj10aGlzLl9zcHJpdGVSZWN0LG49dGhpcy5ncmFwaGljc0RhdGFbMF0uZmlsbENvbG9yO2lmKDE2Nzc3MjE1PT09dGhpcy50aW50KXIudGludD1uO2Vsc2UgaWYodGhpcy50aW50IT09dGhpcy5fcHJldlJlY3RUaW50fHxuIT09dGhpcy5fcHJldlJlY3RGaWxsQ29sb3Ipe3ZhciBpPUMsbz1SOygwLG0uaGV4MnJnYikobixpKSwoMCxtLmhleDJyZ2IpKHRoaXMudGludCxvKSxpWzBdKj1vWzBdLGlbMV0qPW9bMV0saVsyXSo9b1syXSxyLnRpbnQ9KDAsbS5yZ2IyaGV4KShpKSx0aGlzLl9wcmV2UmVjdFRpbnQ9dGhpcy50aW50LHRoaXMuX3ByZXZSZWN0RmlsbENvbG9yPW59ci5hbHBoYT10aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQWxwaGEsci53b3JsZEFscGhhPXRoaXMud29ybGRBbHBoYSpyLmFscGhhLHIuYmxlbmRNb2RlPXRoaXMuYmxlbmRNb2RlLHIuX3RleHR1cmUuX2ZyYW1lLndpZHRoPWUud2lkdGgsci5fdGV4dHVyZS5fZnJhbWUuaGVpZ2h0PWUuaGVpZ2h0LHIudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtPXRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLHIuYW5jaG9yLnNldCgtZS54L2Uud2lkdGgsLWUueS9lLmhlaWdodCksci5fb25BbmNob3JVcGRhdGUoKSxyLl9yZW5kZXJXZWJHTCh0KX0sZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcz1mdW5jdGlvbih0KXshMCE9PXRoaXMuaXNNYXNrJiZ0LnBsdWdpbnMuZ3JhcGhpY3MucmVuZGVyKHRoaXMpfSxlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzPWZ1bmN0aW9uKCl7dGhpcy5ib3VuZHNEaXJ0eSE9PXRoaXMuZGlydHkmJih0aGlzLmJvdW5kc0RpcnR5PXRoaXMuZGlydHksdGhpcy51cGRhdGVMb2NhbEJvdW5kcygpLHRoaXMuY2FjaGVkU3ByaXRlRGlydHk9ITApO3ZhciB0PXRoaXMuX2xvY2FsQm91bmRzO3RoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSx0Lm1pblgsdC5taW5ZLHQubWF4WCx0Lm1heFkpfSxlLnByb3RvdHlwZS5jb250YWluc1BvaW50PWZ1bmN0aW9uKHQpe3RoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHQsUCk7Zm9yKHZhciBlPXRoaXMuZ3JhcGhpY3NEYXRhLHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIG49ZVtyXTtpZihuLmZpbGwmJihuLnNoYXBlJiZuLnNoYXBlLmNvbnRhaW5zKFAueCxQLnkpKSl7aWYobi5ob2xlcylmb3IodmFyIGk9MDtpPG4uaG9sZXMubGVuZ3RoO2krKyl7dmFyIG89bi5ob2xlc1tpXTtpZihvLmNvbnRhaW5zKFAueCxQLnkpKXJldHVybiExfXJldHVybiEwfX1yZXR1cm4hMX0sZS5wcm90b3R5cGUudXBkYXRlTG9jYWxCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgdD0xLzAsZT0tMS8wLHI9MS8wLG49LTEvMDtpZih0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpZm9yKHZhciBpPTAsbz0wLHM9MCxhPTAsdT0wLGg9MDtoPHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDtoKyspe3ZhciBsPXRoaXMuZ3JhcGhpY3NEYXRhW2hdLGM9bC50eXBlLGQ9bC5saW5lV2lkdGgsZj1sLmxpbmVBbGlnbm1lbnQscD1kKmY7aWYoaT1sLnNoYXBlLGM9PT1fLlNIQVBFUy5SRUNUfHxjPT09Xy5TSEFQRVMuUlJFQylvPWkueC1wLHM9aS55LXAsYT1pLndpZHRoKzIqcCx1PWkuaGVpZ2h0KzIqcCx0PW88dD9vOnQsZT1vK2E+ZT9vK2E6ZSxyPXM8cj9zOnIsbj1zK3U+bj9zK3U6bjtlbHNlIGlmKGM9PT1fLlNIQVBFUy5DSVJDKW89aS54LHM9aS55LGE9aS5yYWRpdXMrcCx1PWkucmFkaXVzK3AsdD1vLWE8dD9vLWE6dCxlPW8rYT5lP28rYTplLHI9cy11PHI/cy11OnIsbj1zK3U+bj9zK3U6bjtlbHNlIGlmKGM9PT1fLlNIQVBFUy5FTElQKW89aS54LHM9aS55LGE9aS53aWR0aCtwLHU9aS5oZWlnaHQrcCx0PW8tYTx0P28tYTp0LGU9bythPmU/bythOmUscj1zLXU8cj9zLXU6cixuPXMrdT5uP3MrdTpuO2Vsc2UgZm9yKHZhciB2PWkucG9pbnRzLGc9MCx5PTAsbT0wLGI9MCx4PTAsVD0wLHc9MCxFPTAsUz0wO1MrMjx2Lmxlbmd0aDtTKz0yKW89dltTXSxzPXZbUysxXSxnPXZbUysyXSx5PXZbUyszXSxtPU1hdGguYWJzKGctbyksYj1NYXRoLmFicyh5LXMpLHU9MipwLChhPU1hdGguc3FydChtKm0rYipiKSk8MWUtOXx8KHg9KHUvYSpiK20pLzIsVD0odS9hKm0rYikvMix3PShnK28pLzIsRT0oeStzKS8yLHQ9dy14PHQ/dy14OnQsZT13K3g+ZT93K3g6ZSxyPUUtVDxyP0UtVDpyLG49RStUPm4/RStUOm4pfWVsc2UgdD0wLGU9MCxyPTAsbj0wO3ZhciBPPXRoaXMuYm91bmRzUGFkZGluZzt0aGlzLl9sb2NhbEJvdW5kcy5taW5YPXQtTyx0aGlzLl9sb2NhbEJvdW5kcy5tYXhYPWUrTyx0aGlzLl9sb2NhbEJvdW5kcy5taW5ZPXItTyx0aGlzLl9sb2NhbEJvdW5kcy5tYXhZPW4rT30sZS5wcm90b3R5cGUuZHJhd1NoYXBlPWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudFBhdGgmJnRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aDw9MiYmdGhpcy5ncmFwaGljc0RhdGEucG9wKCksdGhpcy5jdXJyZW50UGF0aD1udWxsO3ZhciBlPW5ldyBwLmRlZmF1bHQodGhpcy5saW5lV2lkdGgsdGhpcy5saW5lQ29sb3IsdGhpcy5saW5lQWxwaGEsdGhpcy5maWxsQ29sb3IsdGhpcy5maWxsQWxwaGEsdGhpcy5maWxsaW5nLHRoaXMubmF0aXZlTGluZXMsdCx0aGlzLmxpbmVBbGlnbm1lbnQpO3JldHVybiB0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKGUpLGUudHlwZT09PV8uU0hBUEVTLlBPTFkmJihlLnNoYXBlLmNsb3NlZD1lLnNoYXBlLmNsb3NlZCx0aGlzLmN1cnJlbnRQYXRoPWUpLHRoaXMuZGlydHkrKyxlfSxlLnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmU9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEscj10aGlzLmdldExvY2FsQm91bmRzKCksbj1sLmRlZmF1bHQuY3JlYXRlKHIud2lkdGgsci5oZWlnaHQsdCxlKTtPfHwoTz1uZXcgUy5kZWZhdWx0KSx0aGlzLnRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpLHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHkoTSksTS5pbnZlcnQoKSxNLnR4LT1yLngsTS50eS09ci55LE8ucmVuZGVyKHRoaXMsbiwhMCxNKTt2YXIgaT1kLmRlZmF1bHQuZnJvbUNhbnZhcyhuLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQuY2FudmFzLHQsXFxcImdyYXBoaWNzXFxcIik7cmV0dXJuIGkuYmFzZVRleHR1cmUucmVzb2x1dGlvbj1lLGkuYmFzZVRleHR1cmUudXBkYXRlKCksaX0sZS5wcm90b3R5cGUuY2xvc2VQYXRoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jdXJyZW50UGF0aDtyZXR1cm4gdCYmdC5zaGFwZSYmdC5zaGFwZS5jbG9zZSgpLHRoaXN9LGUucHJvdG90eXBlLmFkZEhvbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdyYXBoaWNzRGF0YS5wb3AoKTtyZXR1cm4gdGhpcy5jdXJyZW50UGF0aD10aGlzLmdyYXBoaWNzRGF0YVt0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgtMV0sdGhpcy5jdXJyZW50UGF0aC5hZGRIb2xlKHQuc2hhcGUpLHRoaXMuY3VycmVudFBhdGg9bnVsbCx0aGlzfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLGUpO2Zvcih2YXIgcj0wO3I8dGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOysrcil0aGlzLmdyYXBoaWNzRGF0YVtyXS5kZXN0cm95KCk7Zm9yKHZhciBuIGluIHRoaXMuX3dlYkdMKWZvcih2YXIgaT0wO2k8dGhpcy5fd2ViR0xbbl0uZGF0YS5sZW5ndGg7KytpKXRoaXMuX3dlYkdMW25dLmRhdGFbaV0uZGVzdHJveSgpO3RoaXMuX3Nwcml0ZVJlY3QmJnRoaXMuX3Nwcml0ZVJlY3QuZGVzdHJveSgpLHRoaXMuZ3JhcGhpY3NEYXRhPW51bGwsdGhpcy5jdXJyZW50UGF0aD1udWxsLHRoaXMuX3dlYkdMPW51bGwsdGhpcy5fbG9jYWxCb3VuZHM9bnVsbH0sZX0odS5kZWZhdWx0KTtyLmRlZmF1bHQ9QSxBLl9TUFJJVEVfVEVYVFVSRT1udWxsLEEuQ1VSVkVTPXthZGFwdGl2ZTohMSxtYXhMZW5ndGg6MTAsbWluU2VnbWVudHM6OCxtYXhTZWdtZW50czoyMDQ4fX0se1xcXCIuLi9jb25zdFxcXCI6NDYsXFxcIi4uL2Rpc3BsYXkvQm91bmRzXFxcIjo0NyxcXFwiLi4vZGlzcGxheS9Db250YWluZXJcXFwiOjQ4LFxcXCIuLi9tYXRoXFxcIjo3MCxcXFwiLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlclxcXCI6NzcsXFxcIi4uL3Nwcml0ZXMvU3ByaXRlXFxcIjoxMDIsXFxcIi4uL3RleHR1cmVzL1JlbmRlclRleHR1cmVcXFwiOjExMyxcXFwiLi4vdGV4dHVyZXMvVGV4dHVyZVxcXCI6MTE1LFxcXCIuLi91dGlsc1xcXCI6MTI1LFxcXCIuL0dyYXBoaWNzRGF0YVxcXCI6NTQsXFxcIi4vdXRpbHMvYmV6aWVyQ3VydmVUb1xcXCI6NTZ9XSw1NDpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHIsaSxvLHMsYSx1LGgsbCl7bih0aGlzLHQpLHRoaXMubGluZVdpZHRoPWUsdGhpcy5saW5lQWxpZ25tZW50PWwsdGhpcy5uYXRpdmVMaW5lcz11LHRoaXMubGluZUNvbG9yPXIsdGhpcy5saW5lQWxwaGE9aSx0aGlzLl9saW5lVGludD1yLHRoaXMuZmlsbENvbG9yPW8sdGhpcy5maWxsQWxwaGE9cyx0aGlzLl9maWxsVGludD1vLHRoaXMuZmlsbD1hLHRoaXMuaG9sZXM9W10sdGhpcy5zaGFwZT1oLHRoaXMudHlwZT1oLnR5cGV9cmV0dXJuIHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMubGluZVdpZHRoLHRoaXMubGluZUNvbG9yLHRoaXMubGluZUFscGhhLHRoaXMuZmlsbENvbG9yLHRoaXMuZmlsbEFscGhhLHRoaXMuZmlsbCx0aGlzLm5hdGl2ZUxpbmVzLHRoaXMuc2hhcGUsdGhpcy5saW5lQWxpZ25tZW50KX0sdC5wcm90b3R5cGUuYWRkSG9sZT1mdW5jdGlvbih0KXt0aGlzLmhvbGVzLnB1c2godCl9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNoYXBlPW51bGwsdGhpcy5ob2xlcz1udWxsfSx0fSgpO3IuZGVmYXVsdD1pfSx7fV0sNTU6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFxcXCIuLi8uLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyXFxcIiksbz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KGkpLHM9dChcXFwiLi4vLi4vY29uc3RcXFwiKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtuKHRoaXMsdCksdGhpcy5yZW5kZXJlcj1lfXJldHVybiB0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlcixyPWUuY29udGV4dCxuPXQud29ybGRBbHBoYSxpPXQudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLG89ZS5yZXNvbHV0aW9uO3Iuc2V0VHJhbnNmb3JtKGkuYSpvLGkuYipvLGkuYypvLGkuZCpvLGkudHgqbyxpLnR5Km8pLHQuY2FudmFzVGludERpcnR5PT09dC5kaXJ0eSYmdC5fcHJldlRpbnQ9PT10LnRpbnR8fHRoaXMudXBkYXRlR3JhcGhpY3NUaW50KHQpLGUuc2V0QmxlbmRNb2RlKHQuYmxlbmRNb2RlKTtmb3IodmFyIGE9MDthPHQuZ3JhcGhpY3NEYXRhLmxlbmd0aDthKyspe3ZhciB1PXQuZ3JhcGhpY3NEYXRhW2FdLGg9dS5zaGFwZSxsPXUuX2ZpbGxUaW50LGM9dS5fbGluZVRpbnQ7aWYoci5saW5lV2lkdGg9dS5saW5lV2lkdGgsdS50eXBlPT09cy5TSEFQRVMuUE9MWSl7ci5iZWdpblBhdGgoKTt2YXIgZD1oLnBvaW50cyxmPXUuaG9sZXMscD12b2lkIDAsdj12b2lkIDA7ci5tb3ZlVG8oZFswXSxkWzFdKTtmb3IodmFyIGc9MjtnPGQubGVuZ3RoO2crPTIpci5saW5lVG8oZFtnXSxkW2crMV0pO2lmKGguY2xvc2VkJiZyLmNsb3NlUGF0aCgpLGYubGVuZ3RoPjApe3A9MDtmb3IodmFyIHk9MDt5PGQubGVuZ3RoO3krPTIpcCs9ZFt5XSpkW3krM10tZFt5KzFdKmRbeSsyXTtmb3IodmFyIG09MDttPGYubGVuZ3RoO20rKyl7ZD1mW21dLnBvaW50cyx2PTA7Zm9yKHZhciBfPTA7XzxkLmxlbmd0aDtfKz0yKXYrPWRbX10qZFtfKzNdLWRbXysxXSpkW18rMl07aWYoci5tb3ZlVG8oZFswXSxkWzFdKSx2KnA8MClmb3IodmFyIGI9MjtiPGQubGVuZ3RoO2IrPTIpci5saW5lVG8oZFtiXSxkW2IrMV0pO2Vsc2UgZm9yKHZhciB4PWQubGVuZ3RoLTI7eD49Mjt4LT0yKXIubGluZVRvKGRbeF0sZFt4KzFdKTtmW21dLmNsb3NlZCYmci5jbG9zZVBhdGgoKX19dS5maWxsJiYoci5nbG9iYWxBbHBoYT11LmZpbGxBbHBoYSpuLHIuZmlsbFN0eWxlPVxcXCIjXFxcIisoXFxcIjAwMDAwXFxcIisoMHxsKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksci5maWxsKCkpLHUubGluZVdpZHRoJiYoci5nbG9iYWxBbHBoYT11LmxpbmVBbHBoYSpuLHIuc3Ryb2tlU3R5bGU9XFxcIiNcXFwiKyhcXFwiMDAwMDBcXFwiKygwfGMpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxyLnN0cm9rZSgpKX1lbHNlIGlmKHUudHlwZT09PXMuU0hBUEVTLlJFQ1QpKHUuZmlsbENvbG9yfHwwPT09dS5maWxsQ29sb3IpJiYoci5nbG9iYWxBbHBoYT11LmZpbGxBbHBoYSpuLHIuZmlsbFN0eWxlPVxcXCIjXFxcIisoXFxcIjAwMDAwXFxcIisoMHxsKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksci5maWxsUmVjdChoLngsaC55LGgud2lkdGgsaC5oZWlnaHQpKSx1LmxpbmVXaWR0aCYmKHIuZ2xvYmFsQWxwaGE9dS5saW5lQWxwaGEqbixyLnN0cm9rZVN0eWxlPVxcXCIjXFxcIisoXFxcIjAwMDAwXFxcIisoMHxjKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksci5zdHJva2VSZWN0KGgueCxoLnksaC53aWR0aCxoLmhlaWdodCkpO2Vsc2UgaWYodS50eXBlPT09cy5TSEFQRVMuQ0lSQylyLmJlZ2luUGF0aCgpLHIuYXJjKGgueCxoLnksaC5yYWRpdXMsMCwyKk1hdGguUEkpLHIuY2xvc2VQYXRoKCksdS5maWxsJiYoci5nbG9iYWxBbHBoYT11LmZpbGxBbHBoYSpuLHIuZmlsbFN0eWxlPVxcXCIjXFxcIisoXFxcIjAwMDAwXFxcIisoMHxsKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksci5maWxsKCkpLHUubGluZVdpZHRoJiYoci5nbG9iYWxBbHBoYT11LmxpbmVBbHBoYSpuLHIuc3Ryb2tlU3R5bGU9XFxcIiNcXFwiKyhcXFwiMDAwMDBcXFwiKygwfGMpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxyLnN0cm9rZSgpKTtlbHNlIGlmKHUudHlwZT09PXMuU0hBUEVTLkVMSVApe3ZhciBUPTIqaC53aWR0aCx3PTIqaC5oZWlnaHQsRT1oLngtVC8yLFM9aC55LXcvMjtyLmJlZ2luUGF0aCgpO3ZhciBPPVQvMiouNTUyMjg0OCxNPXcvMiouNTUyMjg0OCxQPUUrVCxDPVMrdyxSPUUrVC8yLEE9Uyt3LzI7ci5tb3ZlVG8oRSxBKSxyLmJlemllckN1cnZlVG8oRSxBLU0sUi1PLFMsUixTKSxyLmJlemllckN1cnZlVG8oUitPLFMsUCxBLU0sUCxBKSxyLmJlemllckN1cnZlVG8oUCxBK00sUitPLEMsUixDKSxyLmJlemllckN1cnZlVG8oUi1PLEMsRSxBK00sRSxBKSxyLmNsb3NlUGF0aCgpLHUuZmlsbCYmKHIuZ2xvYmFsQWxwaGE9dS5maWxsQWxwaGEqbixyLmZpbGxTdHlsZT1cXFwiI1xcXCIrKFxcXCIwMDAwMFxcXCIrKDB8bCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLHIuZmlsbCgpKSx1LmxpbmVXaWR0aCYmKHIuZ2xvYmFsQWxwaGE9dS5saW5lQWxwaGEqbixyLnN0cm9rZVN0eWxlPVxcXCIjXFxcIisoXFxcIjAwMDAwXFxcIisoMHxjKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksci5zdHJva2UoKSl9ZWxzZSBpZih1LnR5cGU9PT1zLlNIQVBFUy5SUkVDKXt2YXIgST1oLngsRD1oLnksTD1oLndpZHRoLE49aC5oZWlnaHQsQj1oLnJhZGl1cyxrPU1hdGgubWluKEwsTikvMnwwO0I9Qj5rP2s6QixyLmJlZ2luUGF0aCgpLHIubW92ZVRvKEksRCtCKSxyLmxpbmVUbyhJLEQrTi1CKSxyLnF1YWRyYXRpY0N1cnZlVG8oSSxEK04sSStCLEQrTiksci5saW5lVG8oSStMLUIsRCtOKSxyLnF1YWRyYXRpY0N1cnZlVG8oSStMLEQrTixJK0wsRCtOLUIpLHIubGluZVRvKEkrTCxEK0IpLHIucXVhZHJhdGljQ3VydmVUbyhJK0wsRCxJK0wtQixEKSxyLmxpbmVUbyhJK0IsRCksci5xdWFkcmF0aWNDdXJ2ZVRvKEksRCxJLEQrQiksci5jbG9zZVBhdGgoKSwodS5maWxsQ29sb3J8fDA9PT11LmZpbGxDb2xvcikmJihyLmdsb2JhbEFscGhhPXUuZmlsbEFscGhhKm4sci5maWxsU3R5bGU9XFxcIiNcXFwiKyhcXFwiMDAwMDBcXFwiKygwfGwpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxyLmZpbGwoKSksdS5saW5lV2lkdGgmJihyLmdsb2JhbEFscGhhPXUubGluZUFscGhhKm4sci5zdHJva2VTdHlsZT1cXFwiI1xcXCIrKFxcXCIwMDAwMFxcXCIrKDB8YykudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLHIuc3Ryb2tlKCkpfX19LHQucHJvdG90eXBlLnVwZGF0ZUdyYXBoaWNzVGludD1mdW5jdGlvbih0KXt0Ll9wcmV2VGludD10LnRpbnQsdC5jYW52YXNUaW50RGlydHk9dC5kaXJ0eTtmb3IodmFyIGU9KHQudGludD4+MTYmMjU1KS8yNTUscj0odC50aW50Pj44JjI1NSkvMjU1LG49KDI1NSZ0LnRpbnQpLzI1NSxpPTA7aTx0LmdyYXBoaWNzRGF0YS5sZW5ndGg7KytpKXt2YXIgbz10LmdyYXBoaWNzRGF0YVtpXSxzPTB8by5maWxsQ29sb3IsYT0wfG8ubGluZUNvbG9yO28uX2ZpbGxUaW50PSgocz4+MTYmMjU1KS8yNTUqZSoyNTU8PDE2KSsoKHM+PjgmMjU1KS8yNTUqcioyNTU8PDgpKygyNTUmcykvMjU1Km4qMjU1LG8uX2xpbmVUaW50PSgoYT4+MTYmMjU1KS8yNTUqZSoyNTU8PDE2KSsoKGE+PjgmMjU1KS8yNTUqcioyNTU8PDgpKygyNTUmYSkvMjU1Km4qMjU1fX0sdC5wcm90b3R5cGUucmVuZGVyUG9seWdvbj1mdW5jdGlvbih0LGUscil7ci5tb3ZlVG8odFswXSx0WzFdKTtmb3IodmFyIG49MTtuPHQubGVuZ3RoLzI7KytuKXIubGluZVRvKHRbMipuXSx0WzIqbisxXSk7ZSYmci5jbG9zZVBhdGgoKX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXI9bnVsbH0sdH0oKTtyLmRlZmF1bHQ9YSxvLmRlZmF1bHQucmVnaXN0ZXJQbHVnaW4oXFxcImdyYXBoaWNzXFxcIixhKX0se1xcXCIuLi8uLi9jb25zdFxcXCI6NDYsXFxcIi4uLy4uL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXJcXFwiOjc3fV0sNTY6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUscixuLGksbyxzLGEsdSl7dmFyIGg9YXJndW1lbnRzLmxlbmd0aD45JiZ2b2lkIDAhPT1hcmd1bWVudHNbOV0/YXJndW1lbnRzWzldOltdLGw9MCxjPTAsZD0wLGY9MCxwPTA7aC5wdXNoKHQsZSk7Zm9yKHZhciB2PTEsZz0wO3Y8PXU7Kyt2KWc9di91LGw9MS1nLGM9bCpsLGQ9YypsLGY9ZypnLHA9ZipnLGgucHVzaChkKnQrMypjKmcqciszKmwqZippK3AqcyxkKmUrMypjKmcqbiszKmwqZipvK3AqYSk7cmV0dXJuIGh9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1ufSx7fV0sNTc6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9dChcXFwiLi4vLi4vdXRpbHNcXFwiKSx1PXQoXFxcIi4uLy4uL2NvbnN0XFxcIiksaD10KFxcXCIuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXJcXFwiKSxsPW4oaCksYz10KFxcXCIuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlclxcXCIpLGQ9bihjKSxmPXQoXFxcIi4vV2ViR0xHcmFwaGljc0RhdGFcXFwiKSxwPW4oZiksdj10KFxcXCIuL3NoYWRlcnMvUHJpbWl0aXZlU2hhZGVyXFxcIiksZz1uKHYpLHk9dChcXFwiLi91dGlscy9idWlsZFBvbHlcXFwiKSxtPW4oeSksXz10KFxcXCIuL3V0aWxzL2J1aWxkUmVjdGFuZ2xlXFxcIiksYj1uKF8pLHg9dChcXFwiLi91dGlscy9idWlsZFJvdW5kZWRSZWN0YW5nbGVcXFwiKSxUPW4oeCksdz10KFxcXCIuL3V0aWxzL2J1aWxkQ2lyY2xlXFxcIiksRT1uKHcpLFM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpKHRoaXMsZSk7dmFyIG49byh0aGlzLHQuY2FsbCh0aGlzLHIpKTtyZXR1cm4gbi5ncmFwaGljc0RhdGFQb29sPVtdLG4ucHJpbWl0aXZlU2hhZGVyPW51bGwsbi5nbD1yLmdsLG4uQ09OVEVYVF9VSUQ9MCxufXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5nbD10aGlzLnJlbmRlcmVyLmdsLHRoaXMuQ09OVEVYVF9VSUQ9dGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCx0aGlzLnByaW1pdGl2ZVNoYWRlcj1uZXcgZy5kZWZhdWx0KHRoaXMuZ2wpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bC5kZWZhdWx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7Zm9yKHZhciB0PTA7dDx0aGlzLmdyYXBoaWNzRGF0YVBvb2wubGVuZ3RoOysrdCl0aGlzLmdyYXBoaWNzRGF0YVBvb2xbdF0uZGVzdHJveSgpO3RoaXMuZ3JhcGhpY3NEYXRhUG9vbD1udWxsfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlcixyPWUuZ2wsbj12b2lkIDAsaT10Ll93ZWJHTFt0aGlzLkNPTlRFWFRfVUlEXTtpJiZ0LmRpcnR5PT09aS5kaXJ0eXx8KHRoaXMudXBkYXRlR3JhcGhpY3ModCksaT10Ll93ZWJHTFt0aGlzLkNPTlRFWFRfVUlEXSk7dmFyIG89dGhpcy5wcmltaXRpdmVTaGFkZXI7ZS5iaW5kU2hhZGVyKG8pLGUuc3RhdGUuc2V0QmxlbmRNb2RlKHQuYmxlbmRNb2RlKTtmb3IodmFyIHM9MCx1PWkuZGF0YS5sZW5ndGg7czx1O3MrKyl7bj1pLmRhdGFbc107dmFyIGg9bi5zaGFkZXI7ZS5iaW5kU2hhZGVyKGgpLGgudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXg9dC50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSghMCksaC51bmlmb3Jtcy50aW50PSgwLGEuaGV4MnJnYikodC50aW50KSxoLnVuaWZvcm1zLmFscGhhPXQud29ybGRBbHBoYSxlLmJpbmRWYW8obi52YW8pLG4ubmF0aXZlTGluZXM/ci5kcmF3QXJyYXlzKHIuTElORVMsMCxuLnBvaW50cy5sZW5ndGgvNik6bi52YW8uZHJhdyhyLlRSSUFOR0xFX1NUUklQLG4uaW5kaWNlcy5sZW5ndGgpfX0sZS5wcm90b3R5cGUudXBkYXRlR3JhcGhpY3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlci5nbCxyPXQuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdO2lmKHJ8fChyPXQuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdPXtsYXN0SW5kZXg6MCxkYXRhOltdLGdsOmUsY2xlYXJEaXJ0eTotMSxkaXJ0eTotMX0pLHIuZGlydHk9dC5kaXJ0eSx0LmNsZWFyRGlydHkhPT1yLmNsZWFyRGlydHkpe3IuY2xlYXJEaXJ0eT10LmNsZWFyRGlydHk7Zm9yKHZhciBuPTA7bjxyLmRhdGEubGVuZ3RoO24rKyl0aGlzLmdyYXBoaWNzRGF0YVBvb2wucHVzaChyLmRhdGFbbl0pO3IuZGF0YS5sZW5ndGg9MCxyLmxhc3RJbmRleD0wfWZvcih2YXIgaT12b2lkIDAsbz12b2lkIDAscz1yLmxhc3RJbmRleDtzPHQuZ3JhcGhpY3NEYXRhLmxlbmd0aDtzKyspe3ZhciBhPXQuZ3JhcGhpY3NEYXRhW3NdO2k9dGhpcy5nZXRXZWJHTERhdGEociwwKSxhLm5hdGl2ZUxpbmVzJiZhLmxpbmVXaWR0aCYmKG89dGhpcy5nZXRXZWJHTERhdGEociwwLCEwKSxyLmxhc3RJbmRleCsrKSxhLnR5cGU9PT11LlNIQVBFUy5QT0xZJiYoMCxtLmRlZmF1bHQpKGEsaSxvKSxhLnR5cGU9PT11LlNIQVBFUy5SRUNUPygwLGIuZGVmYXVsdCkoYSxpLG8pOmEudHlwZT09PXUuU0hBUEVTLkNJUkN8fGEudHlwZT09PXUuU0hBUEVTLkVMSVA/KDAsRS5kZWZhdWx0KShhLGksbyk6YS50eXBlPT09dS5TSEFQRVMuUlJFQyYmKDAsVC5kZWZhdWx0KShhLGksbyksci5sYXN0SW5kZXgrK310aGlzLnJlbmRlcmVyLmJpbmRWYW8obnVsbCk7Zm9yKHZhciBoPTA7aDxyLmRhdGEubGVuZ3RoO2grKylpPXIuZGF0YVtoXSxpLmRpcnR5JiZpLnVwbG9hZCgpfSxlLnByb3RvdHlwZS5nZXRXZWJHTERhdGE9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQuZGF0YVt0LmRhdGEubGVuZ3RoLTFdO3JldHVybighbnx8bi5uYXRpdmVMaW5lcyE9PXJ8fG4ucG9pbnRzLmxlbmd0aD4zMmU0KSYmKG49dGhpcy5ncmFwaGljc0RhdGFQb29sLnBvcCgpfHxuZXcgcC5kZWZhdWx0KHRoaXMucmVuZGVyZXIuZ2wsdGhpcy5wcmltaXRpdmVTaGFkZXIsdGhpcy5yZW5kZXJlci5zdGF0ZS5hdHRyaWJzU3RhdGUpLG4ubmF0aXZlTGluZXM9cixuLnJlc2V0KGUpLHQuZGF0YS5wdXNoKG4pKSxuLmRpcnR5PSEwLG59LGV9KGwuZGVmYXVsdCk7ci5kZWZhdWx0PVMsZC5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKFxcXCJncmFwaGljc1xcXCIsUyl9LHtcXFwiLi4vLi4vY29uc3RcXFwiOjQ2LFxcXCIuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlclxcXCI6ODQsXFxcIi4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlclxcXCI6OTQsXFxcIi4uLy4uL3V0aWxzXFxcIjoxMjUsXFxcIi4vV2ViR0xHcmFwaGljc0RhdGFcXFwiOjU4LFxcXCIuL3NoYWRlcnMvUHJpbWl0aXZlU2hhZGVyXFxcIjo1OSxcXFwiLi91dGlscy9idWlsZENpcmNsZVxcXCI6NjAsXFxcIi4vdXRpbHMvYnVpbGRQb2x5XFxcIjo2MixcXFwiLi91dGlscy9idWlsZFJlY3RhbmdsZVxcXCI6NjMsXFxcIi4vdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlXFxcIjo2NH1dLDU4OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcXFwicGl4aS1nbC1jb3JlXFxcIiksbz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KGkpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscixpKXtuKHRoaXMsdCksdGhpcy5nbD1lLHRoaXMuY29sb3I9WzAsMCwwXSx0aGlzLnBvaW50cz1bXSx0aGlzLmluZGljZXM9W10sdGhpcy5idWZmZXI9by5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihlKSx0aGlzLmluZGV4QnVmZmVyPW8uZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihlKSx0aGlzLmRpcnR5PSEwLHRoaXMubmF0aXZlTGluZXM9ITEsdGhpcy5nbFBvaW50cz1udWxsLHRoaXMuZ2xJbmRpY2VzPW51bGwsdGhpcy5zaGFkZXI9cix0aGlzLnZhbz1uZXcgby5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGUsaSkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcikuYWRkQXR0cmlidXRlKHRoaXMuYnVmZmVyLHIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sZS5GTE9BVCwhMSwyNCwwKS5hZGRBdHRyaWJ1dGUodGhpcy5idWZmZXIsci5hdHRyaWJ1dGVzLmFDb2xvcixlLkZMT0FULCExLDI0LDgpfXJldHVybiB0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMucG9pbnRzLmxlbmd0aD0wLHRoaXMuaW5kaWNlcy5sZW5ndGg9MH0sdC5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKCl7dGhpcy5nbFBvaW50cz1uZXcgRmxvYXQzMkFycmF5KHRoaXMucG9pbnRzKSx0aGlzLmJ1ZmZlci51cGxvYWQodGhpcy5nbFBvaW50cyksdGhpcy5nbEluZGljZXM9bmV3IFVpbnQxNkFycmF5KHRoaXMuaW5kaWNlcyksdGhpcy5pbmRleEJ1ZmZlci51cGxvYWQodGhpcy5nbEluZGljZXMpLHRoaXMuZGlydHk9ITF9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNvbG9yPW51bGwsdGhpcy5wb2ludHM9bnVsbCx0aGlzLmluZGljZXM9bnVsbCx0aGlzLnZhby5kZXN0cm95KCksdGhpcy5idWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuZ2w9bnVsbCx0aGlzLmJ1ZmZlcj1udWxsLHRoaXMuaW5kZXhCdWZmZXI9bnVsbCx0aGlzLmdsUG9pbnRzPW51bGwsdGhpcy5nbEluZGljZXM9bnVsbH0sdH0oKTtyLmRlZmF1bHQ9c30se1xcXCJwaXhpLWdsLWNvcmVcXFwiOjE1fV0sNTk6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHM9dChcXFwiLi4vLi4vLi4vU2hhZGVyXFxcIiksYT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KHMpLHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtyZXR1cm4gbih0aGlzLGUpLGkodGhpcyx0LmNhbGwodGhpcyxyLFtcXFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcXCIsXFxcImF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXFwiLFxcXCJ1bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxcIixcXFwidW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxcIixcXFwidW5pZm9ybSBmbG9hdCBhbHBoYTtcXFwiLFxcXCJ1bmlmb3JtIHZlYzMgdGludDtcXFwiLFxcXCJ2YXJ5aW5nIHZlYzQgdkNvbG9yO1xcXCIsXFxcInZvaWQgbWFpbih2b2lkKXtcXFwiLFxcXCIgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcXCIsXFxcIiAgIHZDb2xvciA9IGFDb2xvciAqIHZlYzQodGludCAqIGFscGhhLCBhbHBoYSk7XFxcIixcXFwifVxcXCJdLmpvaW4oXFxcIlxcXFxuXFxcIiksW1xcXCJ2YXJ5aW5nIHZlYzQgdkNvbG9yO1xcXCIsXFxcInZvaWQgbWFpbih2b2lkKXtcXFwiLFxcXCIgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XFxcIixcXFwifVxcXCJdLmpvaW4oXFxcIlxcXFxuXFxcIikpKX1yZXR1cm4gbyhlLHQpLGV9KGEuZGVmYXVsdCk7ci5kZWZhdWx0PXV9LHtcXFwiLi4vLi4vLi4vU2hhZGVyXFxcIjo0NH1dLDYwOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlLHIpe3ZhciBuPXQuc2hhcGUsaT1uLngsdT1uLnksaD12b2lkIDAsbD12b2lkIDA7aWYodC50eXBlPT09cy5TSEFQRVMuQ0lSQz8oaD1uLnJhZGl1cyxsPW4ucmFkaXVzKTooaD1uLndpZHRoLGw9bi5oZWlnaHQpLDAhPT1oJiYwIT09bCl7dmFyIGM9TWF0aC5mbG9vcigzMCpNYXRoLnNxcnQobi5yYWRpdXMpKXx8TWF0aC5mbG9vcigxNSpNYXRoLnNxcnQobi53aWR0aCtuLmhlaWdodCkpLGQ9MipNYXRoLlBJL2M7aWYodC5maWxsKXt2YXIgZj0oMCxhLmhleDJyZ2IpKHQuZmlsbENvbG9yKSxwPXQuZmlsbEFscGhhLHY9ZlswXSpwLGc9ZlsxXSpwLHk9ZlsyXSpwLG09ZS5wb2ludHMsXz1lLmluZGljZXMsYj1tLmxlbmd0aC82O18ucHVzaChiKTtmb3IodmFyIHg9MDt4PGMrMTt4KyspbS5wdXNoKGksdSx2LGcseSxwKSxtLnB1c2goaStNYXRoLnNpbihkKngpKmgsdStNYXRoLmNvcyhkKngpKmwsdixnLHkscCksXy5wdXNoKGIrKyxiKyspO18ucHVzaChiLTEpfWlmKHQubGluZVdpZHRoKXt2YXIgVD10LnBvaW50czt0LnBvaW50cz1bXTtmb3IodmFyIHc9MDt3PGM7dysrKXQucG9pbnRzLnB1c2goaStNYXRoLnNpbihkKi13KSpoLHUrTWF0aC5jb3MoZCotdykqbCk7dC5wb2ludHMucHVzaCh0LnBvaW50c1swXSx0LnBvaW50c1sxXSksKDAsby5kZWZhdWx0KSh0LGUsciksdC5wb2ludHM9VH19fXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9bjt2YXIgaT10KFxcXCIuL2J1aWxkTGluZVxcXCIpLG89ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShpKSxzPXQoXFxcIi4uLy4uLy4uL2NvbnN0XFxcIiksYT10KFxcXCIuLi8uLi8uLi91dGlsc1xcXCIpfSx7XFxcIi4uLy4uLy4uL2NvbnN0XFxcIjo0NixcXFwiLi4vLi4vLi4vdXRpbHNcXFwiOjEyNSxcXFwiLi9idWlsZExpbmVcXFwiOjYxfV0sNjE6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe3ZhciByPXQucG9pbnRzO2lmKDAhPT1yLmxlbmd0aCl7dmFyIG49bmV3IG8uUG9pbnQoclswXSxyWzFdKSxpPW5ldyBvLlBvaW50KHJbci5sZW5ndGgtMl0scltyLmxlbmd0aC0xXSk7aWYobi54PT09aS54JiZuLnk9PT1pLnkpe3I9ci5zbGljZSgpLHIucG9wKCksci5wb3AoKSxpPW5ldyBvLlBvaW50KHJbci5sZW5ndGgtMl0scltyLmxlbmd0aC0xXSk7dmFyIGE9aS54Ky41KihuLngtaS54KSx1PWkueSsuNSoobi55LWkueSk7ci51bnNoaWZ0KGEsdSksci5wdXNoKGEsdSl9dmFyIGg9ZS5wb2ludHMsbD1lLmluZGljZXMsYz1yLmxlbmd0aC8yLGQ9ci5sZW5ndGgsZj1oLmxlbmd0aC82LHA9dC5saW5lV2lkdGgvMix2PSgwLHMuaGV4MnJnYikodC5saW5lQ29sb3IpLGc9dC5saW5lQWxwaGEseT12WzBdKmcsbT12WzFdKmcsXz12WzJdKmcsYj1yWzBdLHg9clsxXSxUPXJbMl0sdz1yWzNdLEU9MCxTPTAsTz0tKHgtdyksTT1iLVQsUD0wLEM9MCxSPTAsQT0wLEk9TWF0aC5zcXJ0KE8qTytNKk0pO08vPUksTS89SSxPKj1wLE0qPXA7dmFyIEQ9dC5saW5lQWxpZ25tZW50LEw9MiooMS1EKSxOPTIqRDtoLnB1c2goYi1PKkwseC1NKkwseSxtLF8sZyksaC5wdXNoKGIrTypOLHgrTSpOLHksbSxfLGcpO2Zvcih2YXIgQj0xO0I8Yy0xOysrQil7Yj1yWzIqKEItMSldLHg9clsyKihCLTEpKzFdLFQ9clsyKkJdLHc9clsyKkIrMV0sRT1yWzIqKEIrMSldLFM9clsyKihCKzEpKzFdLE89LSh4LXcpLE09Yi1ULEk9TWF0aC5zcXJ0KE8qTytNKk0pLE8vPUksTS89SSxPKj1wLE0qPXAsUD0tKHctUyksQz1ULUUsST1NYXRoLnNxcnQoUCpQK0MqQyksUC89SSxDLz1JLFAqPXAsQyo9cDt2YXIgaz0tTSt4LSgtTSt3KSxGPS1PK1QtKC1PK2IpLGo9KC1PK2IpKigtTSt3KS0oLU8rVCkqKC1NK3gpLFU9LUMrUy0oLUMrdyksWD0tUCtULSgtUCtFKSxHPSgtUCtFKSooLUMrdyktKC1QK1QpKigtQytTKSxXPWsqWC1VKkY7aWYoTWF0aC5hYnMoVyk8LjEpVys9MTAuMSxoLnB1c2goVC1PKkwsdy1NKkwseSxtLF8sZyksaC5wdXNoKFQrTypOLHcrTSpOLHksbSxfLGcpO2Vsc2V7dmFyIEg9KEYqRy1YKmopL1csWT0oVSpqLWsqRykvVzsoSC1UKSooSC1UKSsoWS13KSooWS13KT4xOTYqcCpwPyhSPU8tUCxBPU0tQyxJPU1hdGguc3FydChSKlIrQSpBKSxSLz1JLEEvPUksUio9cCxBKj1wLGgucHVzaChULVIqTCx3LUEqTCksaC5wdXNoKHksbSxfLGcpLGgucHVzaChUK1IqTix3K0EqTiksaC5wdXNoKHksbSxfLGcpLFxcbmgucHVzaChULVIqTipMLHctQSpMKSxoLnB1c2goeSxtLF8sZyksZCsrKTooaC5wdXNoKFQrKEgtVCkqTCx3KyhZLXcpKkwpLGgucHVzaCh5LG0sXyxnKSxoLnB1c2goVC0oSC1UKSpOLHctKFktdykqTiksaC5wdXNoKHksbSxfLGcpKX19Yj1yWzIqKGMtMildLHg9clsyKihjLTIpKzFdLFQ9clsyKihjLTEpXSx3PXJbMiooYy0xKSsxXSxPPS0oeC13KSxNPWItVCxJPU1hdGguc3FydChPKk8rTSpNKSxPLz1JLE0vPUksTyo9cCxNKj1wLGgucHVzaChULU8qTCx3LU0qTCksaC5wdXNoKHksbSxfLGcpLGgucHVzaChUK08qTix3K00qTiksaC5wdXNoKHksbSxfLGcpLGwucHVzaChmKTtmb3IodmFyIFY9MDtWPGQ7KytWKWwucHVzaChmKyspO2wucHVzaChmLTEpfX1mdW5jdGlvbiBpKHQsZSl7dmFyIHI9MCxuPXQucG9pbnRzO2lmKDAhPT1uLmxlbmd0aCl7dmFyIGk9ZS5wb2ludHMsbz1uLmxlbmd0aC8yLGE9KDAscy5oZXgycmdiKSh0LmxpbmVDb2xvciksdT10LmxpbmVBbHBoYSxoPWFbMF0qdSxsPWFbMV0qdSxjPWFbMl0qdTtmb3Iocj0xO3I8bztyKyspe3ZhciBkPW5bMiooci0xKV0sZj1uWzIqKHItMSkrMV0scD1uWzIqcl0sdj1uWzIqcisxXTtpLnB1c2goZCxmKSxpLnB1c2goaCxsLGMsdSksaS5wdXNoKHAsdiksaS5wdXNoKGgsbCxjLHUpfX19ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1mdW5jdGlvbih0LGUscil7dC5uYXRpdmVMaW5lcz9pKHQscik6bih0LGUpfTt2YXIgbz10KFxcXCIuLi8uLi8uLi9tYXRoXFxcIikscz10KFxcXCIuLi8uLi8uLi91dGlsc1xcXCIpfSx7XFxcIi4uLy4uLy4uL21hdGhcXFwiOjcwLFxcXCIuLi8uLi8uLi91dGlsc1xcXCI6MTI1fV0sNjI6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUscil7dC5wb2ludHM9dC5zaGFwZS5wb2ludHMuc2xpY2UoKTt2YXIgbj10LnBvaW50cztpZih0LmZpbGwmJm4ubGVuZ3RoPj02KXtmb3IodmFyIGk9W10sbz10LmhvbGVzLHU9MDt1PG8ubGVuZ3RoO3UrKyl7dmFyIGw9b1t1XTtpLnB1c2gobi5sZW5ndGgvMiksbj1uLmNvbmNhdChsLnBvaW50cyl9dmFyIGM9ZS5wb2ludHMsZD1lLmluZGljZXMsZj1uLmxlbmd0aC8yLHA9KDAsYS5oZXgycmdiKSh0LmZpbGxDb2xvciksdj10LmZpbGxBbHBoYSxnPXBbMF0qdix5PXBbMV0qdixtPXBbMl0qdixfPSgwLGguZGVmYXVsdCkobixpLDIpO2lmKCFfKXJldHVybjtmb3IodmFyIGI9Yy5sZW5ndGgvNix4PTA7eDxfLmxlbmd0aDt4Kz0zKWQucHVzaChfW3hdK2IpLGQucHVzaChfW3hdK2IpLGQucHVzaChfW3grMV0rYiksZC5wdXNoKF9beCsyXStiKSxkLnB1c2goX1t4KzJdK2IpO2Zvcih2YXIgVD0wO1Q8ZjtUKyspYy5wdXNoKG5bMipUXSxuWzIqVCsxXSxnLHksbSx2KX10LmxpbmVXaWR0aD4wJiYoMCxzLmRlZmF1bHQpKHQsZSxyKX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PWk7dmFyIG89dChcXFwiLi9idWlsZExpbmVcXFwiKSxzPW4obyksYT10KFxcXCIuLi8uLi8uLi91dGlsc1xcXCIpLHU9dChcXFwiZWFyY3V0XFxcIiksaD1uKHUpfSx7XFxcIi4uLy4uLy4uL3V0aWxzXFxcIjoxMjUsXFxcIi4vYnVpbGRMaW5lXFxcIjo2MSxlYXJjdXQ6Mn1dLDYzOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlLHIpe3ZhciBuPXQuc2hhcGUsaT1uLngsYT1uLnksdT1uLndpZHRoLGg9bi5oZWlnaHQ7aWYodC5maWxsKXt2YXIgbD0oMCxzLmhleDJyZ2IpKHQuZmlsbENvbG9yKSxjPXQuZmlsbEFscGhhLGQ9bFswXSpjLGY9bFsxXSpjLHA9bFsyXSpjLHY9ZS5wb2ludHMsZz1lLmluZGljZXMseT12Lmxlbmd0aC82O3YucHVzaChpLGEpLHYucHVzaChkLGYscCxjKSx2LnB1c2goaSt1LGEpLHYucHVzaChkLGYscCxjKSx2LnB1c2goaSxhK2gpLHYucHVzaChkLGYscCxjKSx2LnB1c2goaSt1LGEraCksdi5wdXNoKGQsZixwLGMpLGcucHVzaCh5LHkseSsxLHkrMix5KzMseSszKX1pZih0LmxpbmVXaWR0aCl7dmFyIG09dC5wb2ludHM7dC5wb2ludHM9W2ksYSxpK3UsYSxpK3UsYStoLGksYStoLGksYV0sKDAsby5kZWZhdWx0KSh0LGUsciksdC5wb2ludHM9bX19ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1uO3ZhciBpPXQoXFxcIi4vYnVpbGRMaW5lXFxcIiksbz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KGkpLHM9dChcXFwiLi4vLi4vLi4vdXRpbHNcXFwiKX0se1xcXCIuLi8uLi8uLi91dGlsc1xcXCI6MTI1LFxcXCIuL2J1aWxkTGluZVxcXCI6NjF9XSw2NDpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSxyKXt2YXIgbj10LnNoYXBlLGk9bi54LG89bi55LGE9bi53aWR0aCxoPW4uaGVpZ2h0LGQ9bi5yYWRpdXMsZj1bXTtpZihmLnB1c2goaStkLG8pLHMoaSthLWQsbyxpK2EsbyxpK2EsbytkLGYpLHMoaSthLG8raC1kLGkrYSxvK2gsaSthLWQsbytoLGYpLHMoaStkLG8raCxpLG8raCxpLG8raC1kLGYpLHMoaSxvK2QsaSxvLGkrZCsxZS0xMCxvLGYpLHQuZmlsbCl7Zm9yKHZhciBwPSgwLGMuaGV4MnJnYikodC5maWxsQ29sb3IpLHY9dC5maWxsQWxwaGEsZz1wWzBdKnYseT1wWzFdKnYsbT1wWzJdKnYsXz1lLnBvaW50cyxiPWUuaW5kaWNlcyx4PV8ubGVuZ3RoLzYsVD0oMCx1LmRlZmF1bHQpKGYsbnVsbCwyKSx3PTAsRT1ULmxlbmd0aDt3PEU7dys9MyliLnB1c2goVFt3XSt4KSxiLnB1c2goVFt3XSt4KSxiLnB1c2goVFt3KzFdK3gpLGIucHVzaChUW3crMl0reCksYi5wdXNoKFRbdysyXSt4KTtmb3IodmFyIFM9MCxPPWYubGVuZ3RoO1M8TztTKyspXy5wdXNoKGZbU10sZlsrK1NdLGcseSxtLHYpfWlmKHQubGluZVdpZHRoKXt2YXIgTT10LnBvaW50czt0LnBvaW50cz1mLCgwLGwuZGVmYXVsdCkodCxlLHIpLHQucG9pbnRzPU19fWZ1bmN0aW9uIG8odCxlLHIpe3JldHVybiB0KyhlLXQpKnJ9ZnVuY3Rpb24gcyh0LGUscixuLGkscyl7Zm9yKHZhciBhPWFyZ3VtZW50cy5sZW5ndGg+NiYmdm9pZCAwIT09YXJndW1lbnRzWzZdP2FyZ3VtZW50c1s2XTpbXSx1PWEsaD0wLGw9MCxjPTAsZD0wLGY9MCxwPTAsdj0wLGc9MDt2PD0yMDsrK3YpZz12LzIwLGg9byh0LHIsZyksbD1vKGUsbixnKSxjPW8ocixpLGcpLGQ9byhuLHMsZyksZj1vKGgsYyxnKSxwPW8obCxkLGcpLHUucHVzaChmLHApO3JldHVybiB1fXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9aTt2YXIgYT10KFxcXCJlYXJjdXRcXFwiKSx1PW4oYSksaD10KFxcXCIuL2J1aWxkTGluZVxcXCIpLGw9bihoKSxjPXQoXFxcIi4uLy4uLy4uL3V0aWxzXFxcIil9LHtcXFwiLi4vLi4vLi4vdXRpbHNcXFwiOjEyNSxcXFwiLi9idWlsZExpbmVcXFwiOjYxLGVhcmN1dDoyfV0sNjU6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ci5fX2VzTW9kdWxlPSEwLHIuYXV0b0RldGVjdFJlbmRlcmVyPXIuQXBwbGljYXRpb249ci5GaWx0ZXI9ci5TcHJpdGVNYXNrRmlsdGVyPXIuUXVhZD1yLlJlbmRlclRhcmdldD1yLk9iamVjdFJlbmRlcmVyPXIuV2ViR0xNYW5hZ2VyPXIuU2hhZGVyPXIuQ2FudmFzUmVuZGVyVGFyZ2V0PXIuVGV4dHVyZVV2cz1yLlZpZGVvQmFzZVRleHR1cmU9ci5CYXNlUmVuZGVyVGV4dHVyZT1yLlJlbmRlclRleHR1cmU9ci5CYXNlVGV4dHVyZT1yLlRleHR1cmVNYXRyaXg9ci5UZXh0dXJlPXIuU3ByaXRlc2hlZXQ9ci5DYW52YXNHcmFwaGljc1JlbmRlcmVyPXIuR3JhcGhpY3NSZW5kZXJlcj1yLkdyYXBoaWNzRGF0YT1yLkdyYXBoaWNzPXIuVGV4dE1ldHJpY3M9ci5UZXh0U3R5bGU9ci5UZXh0PXIuU3ByaXRlUmVuZGVyZXI9ci5DYW52YXNUaW50ZXI9ci5DYW52YXNTcHJpdGVSZW5kZXJlcj1yLlNwcml0ZT1yLlRyYW5zZm9ybUJhc2U9ci5UcmFuc2Zvcm1TdGF0aWM9ci5UcmFuc2Zvcm09ci5Db250YWluZXI9ci5EaXNwbGF5T2JqZWN0PXIuQm91bmRzPXIuZ2xDb3JlPXIuV2ViR0xSZW5kZXJlcj1yLkNhbnZhc1JlbmRlcmVyPXIudGlja2VyPXIudXRpbHM9ci5zZXR0aW5ncz12b2lkIDA7dmFyIG89dChcXFwiLi9jb25zdFxcXCIpO09iamVjdC5rZXlzKG8pLmZvckVhY2goZnVuY3Rpb24odCl7XFxcImRlZmF1bHRcXFwiIT09dCYmXFxcIl9fZXNNb2R1bGVcXFwiIT09dCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb1t0XX19KX0pO3ZhciBzPXQoXFxcIi4vbWF0aFxcXCIpO09iamVjdC5rZXlzKHMpLmZvckVhY2goZnVuY3Rpb24odCl7XFxcImRlZmF1bHRcXFwiIT09dCYmXFxcIl9fZXNNb2R1bGVcXFwiIT09dCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc1t0XX19KX0pO3ZhciBhPXQoXFxcInBpeGktZ2wtY29yZVxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJnbENvcmVcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKGEpLmRlZmF1bHR9fSk7dmFyIHU9dChcXFwiLi9kaXNwbGF5L0JvdW5kc1xcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJCb3VuZHNcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKHUpLmRlZmF1bHR9fSk7dmFyIGg9dChcXFwiLi9kaXNwbGF5L0Rpc3BsYXlPYmplY3RcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiRGlzcGxheU9iamVjdFxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoaCkuZGVmYXVsdH19KTt2YXIgbD10KFxcXCIuL2Rpc3BsYXkvQ29udGFpbmVyXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkNvbnRhaW5lclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkobCkuZGVmYXVsdH19KTt2YXIgYz10KFxcXCIuL2Rpc3BsYXkvVHJhbnNmb3JtXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIlRyYW5zZm9ybVxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoYykuZGVmYXVsdH19KTt2YXIgZD10KFxcXCIuL2Rpc3BsYXkvVHJhbnNmb3JtU3RhdGljXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIlRyYW5zZm9ybVN0YXRpY1xcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoZCkuZGVmYXVsdH19KTt2YXIgZj10KFxcXCIuL2Rpc3BsYXkvVHJhbnNmb3JtQmFzZVxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJUcmFuc2Zvcm1CYXNlXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShmKS5kZWZhdWx0fX0pO3ZhciBwPXQoXFxcIi4vc3ByaXRlcy9TcHJpdGVcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiU3ByaXRlXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShwKS5kZWZhdWx0fX0pO3ZhciB2PXQoXFxcIi4vc3ByaXRlcy9jYW52YXMvQ2FudmFzU3ByaXRlUmVuZGVyZXJcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiQ2FudmFzU3ByaXRlUmVuZGVyZXJcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKHYpLmRlZmF1bHR9fSk7dmFyIGc9dChcXFwiLi9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXJcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiQ2FudmFzVGludGVyXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShnKS5kZWZhdWx0fX0pO3ZhciB5PXQoXFxcIi4vc3ByaXRlcy93ZWJnbC9TcHJpdGVSZW5kZXJlclxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJTcHJpdGVSZW5kZXJlclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoeSkuZGVmYXVsdH19KTt2YXIgbT10KFxcXCIuL3RleHQvVGV4dFxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJUZXh0XFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShtKS5kZWZhdWx0fX0pO3ZhciBfPXQoXFxcIi4vdGV4dC9UZXh0U3R5bGVcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiVGV4dFN0eWxlXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShfKS5kZWZhdWx0fX0pO3ZhciBiPXQoXFxcIi4vdGV4dC9UZXh0TWV0cmljc1xcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJUZXh0TWV0cmljc1xcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoYikuZGVmYXVsdH19KTt2YXIgeD10KFxcXCIuL2dyYXBoaWNzL0dyYXBoaWNzXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkdyYXBoaWNzXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaSh4KS5kZWZhdWx0fX0pO3ZhciBUPXQoXFxcIi4vZ3JhcGhpY3MvR3JhcGhpY3NEYXRhXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkdyYXBoaWNzRGF0YVxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoVCkuZGVmYXVsdH19KTt2YXIgdz10KFxcXCIuL2dyYXBoaWNzL3dlYmdsL0dyYXBoaWNzUmVuZGVyZXJcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiR3JhcGhpY3NSZW5kZXJlclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkodykuZGVmYXVsdH19KTt2YXIgRT10KFxcXCIuL2dyYXBoaWNzL2NhbnZhcy9DYW52YXNHcmFwaGljc1JlbmRlcmVyXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkNhbnZhc0dyYXBoaWNzUmVuZGVyZXJcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKEUpLmRlZmF1bHR9fSk7dmFyIFM9dChcXFwiLi90ZXh0dXJlcy9TcHJpdGVzaGVldFxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJTcHJpdGVzaGVldFxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoUykuZGVmYXVsdH19KTt2YXIgTz10KFxcXCIuL3RleHR1cmVzL1RleHR1cmVcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiVGV4dHVyZVxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoTykuZGVmYXVsdH19KTt2YXIgTT10KFxcXCIuL3RleHR1cmVzL1RleHR1cmVNYXRyaXhcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiVGV4dHVyZU1hdHJpeFxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoTSkuZGVmYXVsdH19KTt2YXIgUD10KFxcXCIuL3RleHR1cmVzL0Jhc2VUZXh0dXJlXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkJhc2VUZXh0dXJlXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShQKS5kZWZhdWx0fX0pO3ZhciBDPXQoXFxcIi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZVxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJSZW5kZXJUZXh0dXJlXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShDKS5kZWZhdWx0fX0pO3ZhciBSPXQoXFxcIi4vdGV4dHVyZXMvQmFzZVJlbmRlclRleHR1cmVcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiQmFzZVJlbmRlclRleHR1cmVcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFIpLmRlZmF1bHR9fSk7dmFyIEE9dChcXFwiLi90ZXh0dXJlcy9WaWRlb0Jhc2VUZXh0dXJlXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIlZpZGVvQmFzZVRleHR1cmVcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKEEpLmRlZmF1bHR9fSk7dmFyIEk9dChcXFwiLi90ZXh0dXJlcy9UZXh0dXJlVXZzXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIlRleHR1cmVVdnNcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKEkpLmRlZmF1bHR9fSk7dmFyIEQ9dChcXFwiLi9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL0NhbnZhc1JlbmRlclRhcmdldFxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJDYW52YXNSZW5kZXJUYXJnZXRcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKEQpLmRlZmF1bHR9fSk7dmFyIEw9dChcXFwiLi9TaGFkZXJcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiU2hhZGVyXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShMKS5kZWZhdWx0fX0pO3ZhciBOPXQoXFxcIi4vcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL1dlYkdMTWFuYWdlclxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJXZWJHTE1hbmFnZXJcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKE4pLmRlZmF1bHR9fSk7dmFyIEI9dChcXFwiLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXJcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiT2JqZWN0UmVuZGVyZXJcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKEIpLmRlZmF1bHR9fSk7dmFyIGs9dChcXFwiLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUmVuZGVyVGFyZ2V0XFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIlJlbmRlclRhcmdldFxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoaykuZGVmYXVsdH19KTt2YXIgRj10KFxcXCIuL3JlbmRlcmVycy93ZWJnbC91dGlscy9RdWFkXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIlF1YWRcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKEYpLmRlZmF1bHR9fSk7dmFyIGo9dChcXFwiLi9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXJcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiU3ByaXRlTWFza0ZpbHRlclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoaikuZGVmYXVsdH19KTt2YXIgVT10KFxcXCIuL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL0ZpbHRlclxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJGaWx0ZXJcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFUpLmRlZmF1bHR9fSk7dmFyIFg9dChcXFwiLi9BcHBsaWNhdGlvblxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJBcHBsaWNhdGlvblxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoWCkuZGVmYXVsdH19KTt2YXIgRz10KFxcXCIuL2F1dG9EZXRlY3RSZW5kZXJlclxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJhdXRvRGV0ZWN0UmVuZGVyZXJcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBHLmF1dG9EZXRlY3RSZW5kZXJlcn19KTt2YXIgVz10KFxcXCIuL3V0aWxzXFxcIiksSD1uKFcpLFk9dChcXFwiLi90aWNrZXJcXFwiKSxWPW4oWSksej10KFxcXCIuL3NldHRpbmdzXFxcIikscT1pKHopLEs9dChcXFwiLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyXFxcIiksWj1pKEspLEo9dChcXFwiLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlclxcXCIpLFE9aShKKTtyLnNldHRpbmdzPXEuZGVmYXVsdCxyLnV0aWxzPUgsci50aWNrZXI9VixyLkNhbnZhc1JlbmRlcmVyPVouZGVmYXVsdCxyLldlYkdMUmVuZGVyZXI9US5kZWZhdWx0fSx7XFxcIi4vQXBwbGljYXRpb25cXFwiOjQzLFxcXCIuL1NoYWRlclxcXCI6NDQsXFxcIi4vYXV0b0RldGVjdFJlbmRlcmVyXFxcIjo0NSxcXFwiLi9jb25zdFxcXCI6NDYsXFxcIi4vZGlzcGxheS9Cb3VuZHNcXFwiOjQ3LFxcXCIuL2Rpc3BsYXkvQ29udGFpbmVyXFxcIjo0OCxcXFwiLi9kaXNwbGF5L0Rpc3BsYXlPYmplY3RcXFwiOjQ5LFxcXCIuL2Rpc3BsYXkvVHJhbnNmb3JtXFxcIjo1MCxcXFwiLi9kaXNwbGF5L1RyYW5zZm9ybUJhc2VcXFwiOjUxLFxcXCIuL2Rpc3BsYXkvVHJhbnNmb3JtU3RhdGljXFxcIjo1MixcXFwiLi9ncmFwaGljcy9HcmFwaGljc1xcXCI6NTMsXFxcIi4vZ3JhcGhpY3MvR3JhcGhpY3NEYXRhXFxcIjo1NCxcXFwiLi9ncmFwaGljcy9jYW52YXMvQ2FudmFzR3JhcGhpY3NSZW5kZXJlclxcXCI6NTUsXFxcIi4vZ3JhcGhpY3Mvd2ViZ2wvR3JhcGhpY3NSZW5kZXJlclxcXCI6NTcsXFxcIi4vbWF0aFxcXCI6NzAsXFxcIi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlclxcXCI6NzcsXFxcIi4vcmVuZGVyZXJzL2NhbnZhcy91dGlscy9DYW52YXNSZW5kZXJUYXJnZXRcXFwiOjc5LFxcXCIuL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyXFxcIjo4NCxcXFwiLi9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9GaWx0ZXJcXFwiOjg2LFxcXCIuL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlclxcXCI6ODksXFxcIi4vcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL1dlYkdMTWFuYWdlclxcXCI6OTMsXFxcIi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL09iamVjdFJlbmRlcmVyXFxcIjo5NCxcXFwiLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUXVhZFxcXCI6OTUsXFxcIi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL1JlbmRlclRhcmdldFxcXCI6OTYsXFxcIi4vc2V0dGluZ3NcXFwiOjEwMSxcXFwiLi9zcHJpdGVzL1Nwcml0ZVxcXCI6MTAyLFxcXCIuL3Nwcml0ZXMvY2FudmFzL0NhbnZhc1Nwcml0ZVJlbmRlcmVyXFxcIjoxMDMsXFxcIi4vc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyXFxcIjoxMDQsXFxcIi4vc3ByaXRlcy93ZWJnbC9TcHJpdGVSZW5kZXJlclxcXCI6MTA2LFxcXCIuL3RleHQvVGV4dFxcXCI6MTA4LFxcXCIuL3RleHQvVGV4dE1ldHJpY3NcXFwiOjEwOSxcXFwiLi90ZXh0L1RleHRTdHlsZVxcXCI6MTEwLFxcXCIuL3RleHR1cmVzL0Jhc2VSZW5kZXJUZXh0dXJlXFxcIjoxMTEsXFxcIi4vdGV4dHVyZXMvQmFzZVRleHR1cmVcXFwiOjExMixcXFwiLi90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlXFxcIjoxMTMsXFxcIi4vdGV4dHVyZXMvU3ByaXRlc2hlZXRcXFwiOjExNCxcXFwiLi90ZXh0dXJlcy9UZXh0dXJlXFxcIjoxMTUsXFxcIi4vdGV4dHVyZXMvVGV4dHVyZU1hdHJpeFxcXCI6MTE2LFxcXCIuL3RleHR1cmVzL1RleHR1cmVVdnNcXFwiOjExNyxcXFwiLi90ZXh0dXJlcy9WaWRlb0Jhc2VUZXh0dXJlXFxcIjoxMTgsXFxcIi4vdGlja2VyXFxcIjoxMjEsXFxcIi4vdXRpbHNcXFwiOjEyNSxcXFwicGl4aS1nbC1jb3JlXFxcIjoxNX1dLDY2OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQ8MD8tMTp0PjA/MTowfXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFxcXCIuL01hdHJpeFxcXCIpLG89ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShpKSxzPVsxLDEsMCwtMSwtMSwtMSwwLDEsMSwxLDAsLTEsLTEsLTEsMCwxXSxhPVswLDEsMSwxLDAsLTEsLTEsLTEsMCwxLDEsMSwwLC0xLC0xLC0xXSx1PVswLC0xLC0xLC0xLDAsMSwxLDEsMCwxLDEsMSwwLC0xLC0xLC0xXSxoPVsxLDEsMCwtMSwtMSwtMSwwLDEsLTEsLTEsMCwxLDEsMSwwLC0xXSxsPVtdLGM9W107IWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDwxNjt0Kyspe3ZhciBlPVtdO2MucHVzaChlKTtmb3IodmFyIHI9MDtyPDE2O3IrKylmb3IodmFyIGk9bihzW3RdKnNbcl0rdVt0XSphW3JdKSxkPW4oYVt0XSpzW3JdK2hbdF0qYVtyXSksZj1uKHNbdF0qdVtyXSt1W3RdKmhbcl0pLHA9bihhW3RdKnVbcl0raFt0XSpoW3JdKSx2PTA7djwxNjt2KyspaWYoc1t2XT09PWkmJmFbdl09PT1kJiZ1W3ZdPT09ZiYmaFt2XT09PXApe2UucHVzaCh2KTticmVha319Zm9yKHZhciBnPTA7ZzwxNjtnKyspe3ZhciB5PW5ldyBvLmRlZmF1bHQ7eS5zZXQoc1tnXSxhW2ddLHVbZ10saFtnXSwwLDApLGwucHVzaCh5KX19KCk7dmFyIGQ9e0U6MCxTRToxLFM6MixTVzozLFc6NCxOVzo1LE46NixORTo3LE1JUlJPUl9WRVJUSUNBTDo4LE1JUlJPUl9IT1JJWk9OVEFMOjEyLHVYOmZ1bmN0aW9uKHQpe3JldHVybiBzW3RdfSx1WTpmdW5jdGlvbih0KXtyZXR1cm4gYVt0XX0sdlg6ZnVuY3Rpb24odCl7cmV0dXJuIHVbdF19LHZZOmZ1bmN0aW9uKHQpe3JldHVybiBoW3RdfSxpbnY6ZnVuY3Rpb24odCl7cmV0dXJuIDgmdD8xNSZ0OjcmLXR9LGFkZDpmdW5jdGlvbih0LGUpe3JldHVybiBjW3RdW2VdfSxzdWI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gY1t0XVtkLmludihlKV19LHJvdGF0ZTE4MDpmdW5jdGlvbih0KXtyZXR1cm4gNF50fSxpc1ZlcnRpY2FsOmZ1bmN0aW9uKHQpe3JldHVybiAyPT0oMyZ0KX0sYnlEaXJlY3Rpb246ZnVuY3Rpb24odCxlKXtyZXR1cm4gMipNYXRoLmFicyh0KTw9TWF0aC5hYnMoZSk/ZT49MD9kLlM6ZC5OOjIqTWF0aC5hYnMoZSk8PU1hdGguYWJzKHQpP3Q+MD9kLkU6ZC5XOmU+MD90PjA/ZC5TRTpkLlNXOnQ+MD9kLk5FOmQuTld9LG1hdHJpeEFwcGVuZFJvdGF0aW9uSW52OmZ1bmN0aW9uKHQsZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MCxpPWxbZC5pbnYoZSldO2kudHg9cixpLnR5PW4sdC5hcHBlbmQoaSl9fTtyLmRlZmF1bHQ9ZH0se1xcXCIuL01hdHJpeFxcXCI6Njd9XSw2NzpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLG89dChcXFwiLi9Qb2ludFxcXCIpLHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShvKSxhPXQoXFxcIi4uL2NvbnN0XFxcIiksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MSxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MSxzPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTowLGE9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjA7bih0aGlzLHQpLHRoaXMuYT1lLHRoaXMuYj1yLHRoaXMuYz1pLHRoaXMuZD1vLHRoaXMudHg9cyx0aGlzLnR5PWEsdGhpcy5hcnJheT1udWxsfXJldHVybiB0LnByb3RvdHlwZS5mcm9tQXJyYXk9ZnVuY3Rpb24odCl7dGhpcy5hPXRbMF0sdGhpcy5iPXRbMV0sdGhpcy5jPXRbM10sdGhpcy5kPXRbNF0sdGhpcy50eD10WzJdLHRoaXMudHk9dFs1XX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSxyLG4saSxvKXtyZXR1cm4gdGhpcy5hPXQsdGhpcy5iPWUsdGhpcy5jPXIsdGhpcy5kPW4sdGhpcy50eD1pLHRoaXMudHk9byx0aGlzfSx0LnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKHQsZSl7dGhpcy5hcnJheXx8KHRoaXMuYXJyYXk9bmV3IEZsb2F0MzJBcnJheSg5KSk7dmFyIHI9ZXx8dGhpcy5hcnJheTtyZXR1cm4gdD8oclswXT10aGlzLmEsclsxXT10aGlzLmIsclsyXT0wLHJbM109dGhpcy5jLHJbNF09dGhpcy5kLHJbNV09MCxyWzZdPXRoaXMudHgscls3XT10aGlzLnR5LHJbOF09MSk6KHJbMF09dGhpcy5hLHJbMV09dGhpcy5jLHJbMl09dGhpcy50eCxyWzNdPXRoaXMuYixyWzRdPXRoaXMuZCxyWzVdPXRoaXMudHkscls2XT0wLHJbN109MCxyWzhdPTEpLHJ9LHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQsZSl7ZT1lfHxuZXcgcy5kZWZhdWx0O3ZhciByPXQueCxuPXQueTtyZXR1cm4gZS54PXRoaXMuYSpyK3RoaXMuYypuK3RoaXMudHgsZS55PXRoaXMuYipyK3RoaXMuZCpuK3RoaXMudHksZX0sdC5wcm90b3R5cGUuYXBwbHlJbnZlcnNlPWZ1bmN0aW9uKHQsZSl7ZT1lfHxuZXcgcy5kZWZhdWx0O3ZhciByPTEvKHRoaXMuYSp0aGlzLmQrdGhpcy5jKi10aGlzLmIpLG49dC54LGk9dC55O3JldHVybiBlLng9dGhpcy5kKnIqbistdGhpcy5jKnIqaSsodGhpcy50eSp0aGlzLmMtdGhpcy50eCp0aGlzLmQpKnIsZS55PXRoaXMuYSpyKmkrLXRoaXMuYipyKm4rKC10aGlzLnR5KnRoaXMuYSt0aGlzLnR4KnRoaXMuYikqcixlfSx0LnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50eCs9dCx0aGlzLnR5Kz1lLHRoaXN9LHQucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYSo9dCx0aGlzLmQqPWUsdGhpcy5jKj10LHRoaXMuYio9ZSx0aGlzLnR4Kj10LHRoaXMudHkqPWUsdGhpc30sdC5wcm90b3R5cGUucm90YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY29zKHQpLHI9TWF0aC5zaW4odCksbj10aGlzLmEsaT10aGlzLmMsbz10aGlzLnR4O3JldHVybiB0aGlzLmE9biplLXRoaXMuYipyLHRoaXMuYj1uKnIrdGhpcy5iKmUsdGhpcy5jPWkqZS10aGlzLmQqcix0aGlzLmQ9aSpyK3RoaXMuZCplLHRoaXMudHg9byplLXRoaXMudHkqcix0aGlzLnR5PW8qcit0aGlzLnR5KmUsdGhpc30sdC5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYSxyPXRoaXMuYixuPXRoaXMuYyxpPXRoaXMuZDtyZXR1cm4gdGhpcy5hPXQuYSplK3QuYipuLHRoaXMuYj10LmEqcit0LmIqaSx0aGlzLmM9dC5jKmUrdC5kKm4sdGhpcy5kPXQuYypyK3QuZCppLHRoaXMudHg9dC50eCplK3QudHkqbit0aGlzLnR4LHRoaXMudHk9dC50eCpyK3QudHkqaSt0aGlzLnR5LHRoaXN9LHQucHJvdG90eXBlLnNldFRyYW5zZm9ybT1mdW5jdGlvbih0LGUscixuLGksbyxzLGEsdSl7cmV0dXJuIHRoaXMuYT1NYXRoLmNvcyhzK3UpKmksdGhpcy5iPU1hdGguc2luKHMrdSkqaSx0aGlzLmM9LU1hdGguc2luKHMtYSkqbyx0aGlzLmQ9TWF0aC5jb3Mocy1hKSpvLHRoaXMudHg9dC0ocip0aGlzLmErbip0aGlzLmMpLHRoaXMudHk9ZS0ocip0aGlzLmIrbip0aGlzLmQpLHRoaXN9LHQucHJvdG90eXBlLnByZXBlbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50eDtpZigxIT09dC5hfHwwIT09dC5ifHwwIT09dC5jfHwxIT09dC5kKXt2YXIgcj10aGlzLmEsbj10aGlzLmM7dGhpcy5hPXIqdC5hK3RoaXMuYip0LmMsdGhpcy5iPXIqdC5iK3RoaXMuYip0LmQsdGhpcy5jPW4qdC5hK3RoaXMuZCp0LmMsdGhpcy5kPW4qdC5iK3RoaXMuZCp0LmR9cmV0dXJuIHRoaXMudHg9ZSp0LmErdGhpcy50eSp0LmMrdC50eCx0aGlzLnR5PWUqdC5iK3RoaXMudHkqdC5kK3QudHksdGhpc30sdC5wcm90b3R5cGUuZGVjb21wb3NlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYSxyPXRoaXMuYixuPXRoaXMuYyxpPXRoaXMuZCxvPS1NYXRoLmF0YW4yKC1uLGkpLHM9TWF0aC5hdGFuMihyLGUpLHU9TWF0aC5hYnMobytzKTtyZXR1cm4gdTwxZS01fHxNYXRoLmFicyhhLlBJXzItdSk8MWUtNT8odC5yb3RhdGlvbj1zLGU8MCYmaT49MCYmKHQucm90YXRpb24rPXQucm90YXRpb248PTA/TWF0aC5QSTotTWF0aC5QSSksdC5za2V3Lng9dC5za2V3Lnk9MCk6KHQucm90YXRpb249MCx0LnNrZXcueD1vLHQuc2tldy55PXMpLHQuc2NhbGUueD1NYXRoLnNxcnQoZSplK3IqciksdC5zY2FsZS55PU1hdGguc3FydChuKm4raSppKSx0LnBvc2l0aW9uLng9dGhpcy50eCx0LnBvc2l0aW9uLnk9dGhpcy50eSx0fSx0LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmEsZT10aGlzLmIscj10aGlzLmMsbj10aGlzLmQsaT10aGlzLnR4LG89dCpuLWUqcjtyZXR1cm4gdGhpcy5hPW4vbyx0aGlzLmI9LWUvbyx0aGlzLmM9LXIvbyx0aGlzLmQ9dC9vLHRoaXMudHg9KHIqdGhpcy50eS1uKmkpL28sdGhpcy50eT0tKHQqdGhpcy50eS1lKmkpL28sdGhpc30sdC5wcm90b3R5cGUuaWRlbnRpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hPTEsdGhpcy5iPTAsdGhpcy5jPTAsdGhpcy5kPTEsdGhpcy50eD0wLHRoaXMudHk9MCx0aGlzfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPW5ldyB0O3JldHVybiBlLmE9dGhpcy5hLGUuYj10aGlzLmIsZS5jPXRoaXMuYyxlLmQ9dGhpcy5kLGUudHg9dGhpcy50eCxlLnR5PXRoaXMudHksZX0sdC5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdC5hPXRoaXMuYSx0LmI9dGhpcy5iLHQuYz10aGlzLmMsdC5kPXRoaXMuZCx0LnR4PXRoaXMudHgsdC50eT10aGlzLnR5LHR9LGkodCxudWxsLFt7a2V5OlxcXCJJREVOVElUWVxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0fX0se2tleTpcXFwiVEVNUF9NQVRSSVhcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBuZXcgdH19XSksdH0oKTtyLmRlZmF1bHQ9dX0se1xcXCIuLi9jb25zdFxcXCI6NDYsXFxcIi4vUG9pbnRcXFwiOjY5fV0sNjg6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHIpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjA7bih0aGlzLHQpLHRoaXMuX3g9aSx0aGlzLl95PW8sdGhpcy5jYj1lLHRoaXMuc2NvcGU9cn1yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbCxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsO3JldHVybiBuZXcgdChlfHx0aGlzLmNiLHJ8fHRoaXMuc2NvcGUsdGhpcy5feCx0aGlzLl95KX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9dHx8MCxuPWV8fCgwIT09ZT9yOjApO3RoaXMuX3g9PT1yJiZ0aGlzLl95PT09bnx8KHRoaXMuX3g9cix0aGlzLl95PW4sdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpKX0sdC5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXt0aGlzLl94PT09dC54JiZ0aGlzLl95PT09dC55fHwodGhpcy5feD10LngsdGhpcy5feT10LnksdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpKX0sdC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiB0Lng9PT10aGlzLl94JiZ0Lnk9PT10aGlzLl95fSxpKHQsW3trZXk6XFxcInhcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5feCE9PXQmJih0aGlzLl94PXQsdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpKX19LHtrZXk6XFxcInlcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5feSE9PXQmJih0aGlzLl95PXQsdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpKX19XSksdH0oKTtyLmRlZmF1bHQ9b30se31dLDY5OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtuKHRoaXMsdCksdGhpcy54PWUsdGhpcy55PXJ9cmV0dXJuIHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMueCx0aGlzLnkpfSx0LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3RoaXMuc2V0KHQueCx0LnkpfSx0LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQueD09PXRoaXMueCYmdC55PT09dGhpcy55fSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLng9dHx8MCx0aGlzLnk9ZXx8KDAhPT1lP3RoaXMueDowKX0sdH0oKTtyLmRlZmF1bHQ9aX0se31dLDcwOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFxcXCIuL1BvaW50XFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIlBvaW50XFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihpKS5kZWZhdWx0fX0pO3ZhciBvPXQoXFxcIi4vT2JzZXJ2YWJsZVBvaW50XFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIk9ic2VydmFibGVQb2ludFxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4obykuZGVmYXVsdH19KTt2YXIgcz10KFxcXCIuL01hdHJpeFxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJNYXRyaXhcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKHMpLmRlZmF1bHR9fSk7dmFyIGE9dChcXFwiLi9Hcm91cEQ4XFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkdyb3VwRDhcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGEpLmRlZmF1bHR9fSk7dmFyIHU9dChcXFwiLi9zaGFwZXMvQ2lyY2xlXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkNpcmNsZVxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4odSkuZGVmYXVsdH19KTt2YXIgaD10KFxcXCIuL3NoYXBlcy9FbGxpcHNlXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkVsbGlwc2VcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGgpLmRlZmF1bHR9fSk7dmFyIGw9dChcXFwiLi9zaGFwZXMvUG9seWdvblxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJQb2x5Z29uXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihsKS5kZWZhdWx0fX0pO3ZhciBjPXQoXFxcIi4vc2hhcGVzL1JlY3RhbmdsZVxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJSZWN0YW5nbGVcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGMpLmRlZmF1bHR9fSk7dmFyIGQ9dChcXFwiLi9zaGFwZXMvUm91bmRlZFJlY3RhbmdsZVxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJSb3VuZGVkUmVjdGFuZ2xlXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihkKS5kZWZhdWx0fX0pfSx7XFxcIi4vR3JvdXBEOFxcXCI6NjYsXFxcIi4vTWF0cml4XFxcIjo2NyxcXFwiLi9PYnNlcnZhYmxlUG9pbnRcXFwiOjY4LFxcXCIuL1BvaW50XFxcIjo2OSxcXFwiLi9zaGFwZXMvQ2lyY2xlXFxcIjo3MSxcXFwiLi9zaGFwZXMvRWxsaXBzZVxcXCI6NzIsXFxcIi4vc2hhcGVzL1BvbHlnb25cXFwiOjczLFxcXCIuL3NoYXBlcy9SZWN0YW5nbGVcXFwiOjc0LFxcXCIuL3NoYXBlcy9Sb3VuZGVkUmVjdGFuZ2xlXFxcIjo3NX1dLDcxOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcXFwiLi9SZWN0YW5nbGVcXFwiKSxvPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0oaSkscz10KFxcXCIuLi8uLi9jb25zdFxcXCIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowO24odGhpcyx0KSx0aGlzLng9ZSx0aGlzLnk9cix0aGlzLnJhZGl1cz1pLHRoaXMudHlwZT1zLlNIQVBFUy5DSVJDfXJldHVybiB0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55LHRoaXMucmFkaXVzKX0sdC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCxlKXtpZih0aGlzLnJhZGl1czw9MClyZXR1cm4hMTt2YXIgcj10aGlzLnJhZGl1cyp0aGlzLnJhZGl1cyxuPXRoaXMueC10LGk9dGhpcy55LWU7cmV0dXJuIG4qPW4saSo9aSxuK2k8PXJ9LHQucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiBuZXcgby5kZWZhdWx0KHRoaXMueC10aGlzLnJhZGl1cyx0aGlzLnktdGhpcy5yYWRpdXMsMip0aGlzLnJhZGl1cywyKnRoaXMucmFkaXVzKX0sdH0oKTtyLmRlZmF1bHQ9YX0se1xcXCIuLi8uLi9jb25zdFxcXCI6NDYsXFxcIi4vUmVjdGFuZ2xlXFxcIjo3NH1dLDcyOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcXFwiLi9SZWN0YW5nbGVcXFwiKSxvPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0oaSkscz10KFxcXCIuLi8uLi9jb25zdFxcXCIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjA7bih0aGlzLHQpLHRoaXMueD1lLHRoaXMueT1yLHRoaXMud2lkdGg9aSx0aGlzLmhlaWdodD1vLHRoaXMudHlwZT1zLlNIQVBFUy5FTElQfXJldHVybiB0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0LGUpe2lmKHRoaXMud2lkdGg8PTB8fHRoaXMuaGVpZ2h0PD0wKXJldHVybiExO3ZhciByPSh0LXRoaXMueCkvdGhpcy53aWR0aCxuPShlLXRoaXMueSkvdGhpcy5oZWlnaHQ7cmV0dXJuIHIqPXIsbio9bixyK248PTF9LHQucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiBuZXcgby5kZWZhdWx0KHRoaXMueC10aGlzLndpZHRoLHRoaXMueS10aGlzLmhlaWdodCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sdH0oKTtyLmRlZmF1bHQ9YX0se1xcXCIuLi8uLi9jb25zdFxcXCI6NDYsXFxcIi4vUmVjdGFuZ2xlXFxcIjo3NH1dLDczOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcXFwiLi4vUG9pbnRcXFwiKSxvPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0oaSkscz10KFxcXCIuLi8uLi9jb25zdFxcXCIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgscj1BcnJheShlKSxpPTA7aTxlO2krKylyW2ldPWFyZ3VtZW50c1tpXTtpZihuKHRoaXMsdCksQXJyYXkuaXNBcnJheShyWzBdKSYmKHI9clswXSksclswXWluc3RhbmNlb2Ygby5kZWZhdWx0KXtmb3IodmFyIGE9W10sdT0wLGg9ci5sZW5ndGg7dTxoO3UrKylhLnB1c2goclt1XS54LHJbdV0ueSk7cj1hfXRoaXMuY2xvc2VkPSEwLHRoaXMucG9pbnRzPXIsdGhpcy50eXBlPXMuU0hBUEVTLlBPTFl9cmV0dXJuIHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMucG9pbnRzLnNsaWNlKCkpfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMucG9pbnRzO3RbMF09PT10W3QubGVuZ3RoLTJdJiZ0WzFdPT09dFt0Lmxlbmd0aC0xXXx8dC5wdXNoKHRbMF0sdFsxXSl9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPSExLG49dGhpcy5wb2ludHMubGVuZ3RoLzIsaT0wLG89bi0xO2k8bjtvPWkrKyl7dmFyIHM9dGhpcy5wb2ludHNbMippXSxhPXRoaXMucG9pbnRzWzIqaSsxXSx1PXRoaXMucG9pbnRzWzIqb10saD10aGlzLnBvaW50c1syKm8rMV07YT5lIT1oPmUmJnQ8KGUtYSkvKGgtYSkqKHUtcykrcyYmKHI9IXIpfXJldHVybiByfSx0fSgpO3IuZGVmYXVsdD1hfSx7XFxcIi4uLy4uL2NvbnN0XFxcIjo0NixcXFwiLi4vUG9pbnRcXFwiOjY5fV0sNzQ6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxvPXQoXFxcIi4uLy4uL2NvbnN0XFxcIikscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAscz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MDtuKHRoaXMsdCksdGhpcy54PU51bWJlcihlKSx0aGlzLnk9TnVtYmVyKHIpLHRoaXMud2lkdGg9TnVtYmVyKGkpLHRoaXMuaGVpZ2h0PU51bWJlcihzKSx0aGlzLnR5cGU9by5TSEFQRVMuUkVDVH1yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sdC5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PXQueCx0aGlzLnk9dC55LHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodCx0aGlzfSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0LGUpe3JldHVybiEodGhpcy53aWR0aDw9MHx8dGhpcy5oZWlnaHQ8PTApJiYodD49dGhpcy54JiZ0PHRoaXMueCt0aGlzLndpZHRoJiZlPj10aGlzLnkmJmU8dGhpcy55K3RoaXMuaGVpZ2h0KX0sdC5wcm90b3R5cGUucGFkPWZ1bmN0aW9uKHQsZSl7dD10fHwwLGU9ZXx8KDAhPT1lP3Q6MCksdGhpcy54LT10LHRoaXMueS09ZSx0aGlzLndpZHRoKz0yKnQsdGhpcy5oZWlnaHQrPTIqZX0sdC5wcm90b3R5cGUuZml0PWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgubWF4KHRoaXMueCx0LngpLHI9TWF0aC5taW4odGhpcy54K3RoaXMud2lkdGgsdC54K3Qud2lkdGgpLG49TWF0aC5tYXgodGhpcy55LHQueSksaT1NYXRoLm1pbih0aGlzLnkrdGhpcy5oZWlnaHQsdC55K3QuaGVpZ2h0KTt0aGlzLng9ZSx0aGlzLndpZHRoPU1hdGgubWF4KHItZSwwKSx0aGlzLnk9bix0aGlzLmhlaWdodD1NYXRoLm1heChpLW4sMCl9LHQucHJvdG90eXBlLmVubGFyZ2U9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5taW4odGhpcy54LHQueCkscj1NYXRoLm1heCh0aGlzLngrdGhpcy53aWR0aCx0LngrdC53aWR0aCksbj1NYXRoLm1pbih0aGlzLnksdC55KSxpPU1hdGgubWF4KHRoaXMueSt0aGlzLmhlaWdodCx0LnkrdC5oZWlnaHQpO3RoaXMueD1lLHRoaXMud2lkdGg9ci1lLHRoaXMueT1uLHRoaXMuaGVpZ2h0PWktbn0sdC5wcm90b3R5cGUuY2VpbD1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOi4wMDEscj1NYXRoLmNlaWwoKHRoaXMueCt0aGlzLndpZHRoLWUpKnQpL3Qsbj1NYXRoLmNlaWwoKHRoaXMueSt0aGlzLmhlaWdodC1lKSp0KS90O3RoaXMueD1NYXRoLmZsb29yKCh0aGlzLngrZSkqdCkvdCx0aGlzLnk9TWF0aC5mbG9vcigodGhpcy55K2UpKnQpL3QsdGhpcy53aWR0aD1yLXRoaXMueCx0aGlzLmhlaWdodD1uLXRoaXMueX0saSh0LFt7a2V5OlxcXCJsZWZ0XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54fX0se2tleTpcXFwicmlnaHRcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLngrdGhpcy53aWR0aH19LHtrZXk6XFxcInRvcFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueX19LHtrZXk6XFxcImJvdHRvbVxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueSt0aGlzLmhlaWdodH19XSxbe2tleTpcXFwiRU1QVFlcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBuZXcgdCgwLDAsMCwwKX19XSksdH0oKTtyLmRlZmF1bHQ9c30se1xcXCIuLi8uLi9jb25zdFxcXCI6NDZ9XSw3NTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPXQoXFxcIi4uLy4uL2NvbnN0XFxcIiksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAscz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MCxhPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XToyMDtuKHRoaXMsdCksdGhpcy54PWUsdGhpcy55PXIsdGhpcy53aWR0aD1vLHRoaXMuaGVpZ2h0PXMsdGhpcy5yYWRpdXM9YSx0aGlzLnR5cGU9aS5TSEFQRVMuUlJFQ31yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHRoaXMucmFkaXVzKX0sdC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCxlKXtpZih0aGlzLndpZHRoPD0wfHx0aGlzLmhlaWdodDw9MClyZXR1cm4hMTtpZih0Pj10aGlzLngmJnQ8PXRoaXMueCt0aGlzLndpZHRoJiZlPj10aGlzLnkmJmU8PXRoaXMueSt0aGlzLmhlaWdodCl7aWYoZT49dGhpcy55K3RoaXMucmFkaXVzJiZlPD10aGlzLnkrdGhpcy5oZWlnaHQtdGhpcy5yYWRpdXN8fHQ+PXRoaXMueCt0aGlzLnJhZGl1cyYmdDw9dGhpcy54K3RoaXMud2lkdGgtdGhpcy5yYWRpdXMpcmV0dXJuITA7dmFyIHI9dC0odGhpcy54K3RoaXMucmFkaXVzKSxuPWUtKHRoaXMueSt0aGlzLnJhZGl1cyksaT10aGlzLnJhZGl1cyp0aGlzLnJhZGl1cztpZihyKnIrbipuPD1pKXJldHVybiEwO2lmKChyPXQtKHRoaXMueCt0aGlzLndpZHRoLXRoaXMucmFkaXVzKSkqcituKm48PWkpcmV0dXJuITA7aWYobj1lLSh0aGlzLnkrdGhpcy5oZWlnaHQtdGhpcy5yYWRpdXMpLHIqcituKm48PWkpcmV0dXJuITA7aWYoKHI9dC0odGhpcy54K3RoaXMucmFkaXVzKSkqcituKm48PWkpcmV0dXJuITB9cmV0dXJuITF9LHR9KCk7ci5kZWZhdWx0PW99LHtcXFwiLi4vLi4vY29uc3RcXFwiOjQ2fV0sNzY6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXFxcInZhbHVlXFxcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksdT10KFxcXCIuLi91dGlsc1xcXCIpLGg9dChcXFwiLi4vbWF0aFxcXCIpLGw9dChcXFwiLi4vY29uc3RcXFwiKSxjPXQoXFxcIi4uL3NldHRpbmdzXFxcIiksZD1uKGMpLGY9dChcXFwiLi4vZGlzcGxheS9Db250YWluZXJcXFwiKSxwPW4oZiksdj10KFxcXCIuLi90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlXFxcIiksZz1uKHYpLHk9dChcXFwiZXZlbnRlbWl0dGVyM1xcXCIpLG09bih5KSxfPW5ldyBoLk1hdHJpeCxiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixuLHMsYSl7aSh0aGlzLGUpO3ZhciBjPW8odGhpcyx0LmNhbGwodGhpcykpO3JldHVybigwLHUuc2F5SGVsbG8pKHIpLFxcXCJudW1iZXJcXFwiPT10eXBlb2YgbiYmKG49T2JqZWN0LmFzc2lnbih7d2lkdGg6bixoZWlnaHQ6c3x8ZC5kZWZhdWx0LlJFTkRFUl9PUFRJT05TLmhlaWdodH0sYSkpLG49T2JqZWN0LmFzc2lnbih7fSxkLmRlZmF1bHQuUkVOREVSX09QVElPTlMsbiksYy5vcHRpb25zPW4sYy50eXBlPWwuUkVOREVSRVJfVFlQRS5VTktOT1dOLGMuc2NyZWVuPW5ldyBoLlJlY3RhbmdsZSgwLDAsbi53aWR0aCxuLmhlaWdodCksYy52aWV3PW4udmlld3x8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiY2FudmFzXFxcIiksYy5yZXNvbHV0aW9uPW4ucmVzb2x1dGlvbnx8ZC5kZWZhdWx0LlJFU09MVVRJT04sYy50cmFuc3BhcmVudD1uLnRyYW5zcGFyZW50LGMuYXV0b1Jlc2l6ZT1uLmF1dG9SZXNpemV8fCExLGMuYmxlbmRNb2Rlcz1udWxsLGMucHJlc2VydmVEcmF3aW5nQnVmZmVyPW4ucHJlc2VydmVEcmF3aW5nQnVmZmVyLGMuY2xlYXJCZWZvcmVSZW5kZXI9bi5jbGVhckJlZm9yZVJlbmRlcixjLnJvdW5kUGl4ZWxzPW4ucm91bmRQaXhlbHMsYy5fYmFja2dyb3VuZENvbG9yPTAsYy5fYmFja2dyb3VuZENvbG9yUmdiYT1bMCwwLDAsMF0sYy5fYmFja2dyb3VuZENvbG9yU3RyaW5nPVxcXCIjMDAwMDAwXFxcIixjLmJhY2tncm91bmRDb2xvcj1uLmJhY2tncm91bmRDb2xvcnx8Yy5fYmFja2dyb3VuZENvbG9yLGMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50PW5ldyBwLmRlZmF1bHQsYy5fbGFzdE9iamVjdFJlbmRlcmVkPWMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LGN9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt0aGlzLnNjcmVlbi53aWR0aD10LHRoaXMuc2NyZWVuLmhlaWdodD1lLHRoaXMudmlldy53aWR0aD10KnRoaXMucmVzb2x1dGlvbix0aGlzLnZpZXcuaGVpZ2h0PWUqdGhpcy5yZXNvbHV0aW9uLHRoaXMuYXV0b1Jlc2l6ZSYmKHRoaXMudmlldy5zdHlsZS53aWR0aD10K1xcXCJweFxcXCIsdGhpcy52aWV3LnN0eWxlLmhlaWdodD1lK1xcXCJweFxcXCIpfSxlLnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmU9ZnVuY3Rpb24odCxlLHIsbil7bj1ufHx0LmdldExvY2FsQm91bmRzKCk7dmFyIGk9Zy5kZWZhdWx0LmNyZWF0ZSgwfG4ud2lkdGgsMHxuLmhlaWdodCxlLHIpO3JldHVybiBfLnR4PS1uLngsXy50eT0tbi55LHRoaXMucmVuZGVyKHQsaSwhMSxfLCEhdC5wYXJlbnQpLGl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCl7dCYmdGhpcy52aWV3LnBhcmVudE5vZGUmJnRoaXMudmlldy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudmlldyksdGhpcy50eXBlPWwuUkVOREVSRVJfVFlQRS5VTktOT1dOLHRoaXMudmlldz1udWxsLHRoaXMuc2NyZWVuPW51bGwsdGhpcy5yZXNvbHV0aW9uPTAsdGhpcy50cmFuc3BhcmVudD0hMSx0aGlzLmF1dG9SZXNpemU9ITEsdGhpcy5ibGVuZE1vZGVzPW51bGwsdGhpcy5vcHRpb25zPW51bGwsdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ITEsdGhpcy5jbGVhckJlZm9yZVJlbmRlcj0hMSx0aGlzLnJvdW5kUGl4ZWxzPSExLHRoaXMuX2JhY2tncm91bmRDb2xvcj0wLHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmE9bnVsbCx0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmc9bnVsbCx0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudD1udWxsLHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZD1udWxsfSxhKGUsW3trZXk6XFxcIndpZHRoXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LndpZHRofX0se2tleTpcXFwiaGVpZ2h0XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmhlaWdodH19LHtrZXk6XFxcImJhY2tncm91bmRDb2xvclxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvcn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2JhY2tncm91bmRDb2xvcj10LHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZz0oMCx1LmhleDJzdHJpbmcpKHQpLCgwLHUuaGV4MnJnYikodCx0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhKX19XSksZX0obS5kZWZhdWx0KTtyLmRlZmF1bHQ9Yn0se1xcXCIuLi9jb25zdFxcXCI6NDYsXFxcIi4uL2Rpc3BsYXkvQ29udGFpbmVyXFxcIjo0OCxcXFwiLi4vbWF0aFxcXCI6NzAsXFxcIi4uL3NldHRpbmdzXFxcIjoxMDEsXFxcIi4uL3RleHR1cmVzL1JlbmRlclRleHR1cmVcXFwiOjExMyxcXFwiLi4vdXRpbHNcXFwiOjEyNSxldmVudGVtaXR0ZXIzOjN9XSw3NzpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT10KFxcXCIuLi9TeXN0ZW1SZW5kZXJlclxcXCIpLHU9bihhKSxoPXQoXFxcIi4vdXRpbHMvQ2FudmFzTWFza01hbmFnZXJcXFwiKSxsPW4oaCksYz10KFxcXCIuL3V0aWxzL0NhbnZhc1JlbmRlclRhcmdldFxcXCIpLGQ9bihjKSxmPXQoXFxcIi4vdXRpbHMvbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aVxcXCIpLHA9bihmKSx2PXQoXFxcIi4uLy4uL3V0aWxzXFxcIiksZz10KFxcXCIuLi8uLi9jb25zdFxcXCIpLHk9dChcXFwiLi4vLi4vc2V0dGluZ3NcXFwiKSxtPW4oeSksXz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbixzKXtpKHRoaXMsZSk7dmFyIGE9byh0aGlzLHQuY2FsbCh0aGlzLFxcXCJDYW52YXNcXFwiLHIsbixzKSk7cmV0dXJuIGEudHlwZT1nLlJFTkRFUkVSX1RZUEUuQ0FOVkFTLGEucm9vdENvbnRleHQ9YS52aWV3LmdldENvbnRleHQoXFxcIjJkXFxcIix7YWxwaGE6YS50cmFuc3BhcmVudH0pLGEuY29udGV4dD1hLnJvb3RDb250ZXh0LGEucmVmcmVzaD0hMCxhLm1hc2tNYW5hZ2VyPW5ldyBsLmRlZmF1bHQoYSksYS5zbW9vdGhQcm9wZXJ0eT1cXFwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkXFxcIixhLnJvb3RDb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZHx8KGEucm9vdENvbnRleHQud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkP2Euc21vb3RoUHJvcGVydHk9XFxcIndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZFxcXCI6YS5yb290Q29udGV4dC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQ/YS5zbW9vdGhQcm9wZXJ0eT1cXFwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkXFxcIjphLnJvb3RDb250ZXh0Lm9JbWFnZVNtb290aGluZ0VuYWJsZWQ/YS5zbW9vdGhQcm9wZXJ0eT1cXFwib0ltYWdlU21vb3RoaW5nRW5hYmxlZFxcXCI6YS5yb290Q29udGV4dC5tc0ltYWdlU21vb3RoaW5nRW5hYmxlZCYmKGEuc21vb3RoUHJvcGVydHk9XFxcIm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkXFxcIikpLGEuaW5pdFBsdWdpbnMoKSxhLmJsZW5kTW9kZXM9KDAscC5kZWZhdWx0KSgpLGEuX2FjdGl2ZUJsZW5kTW9kZT1udWxsLGEucmVuZGVyaW5nVG9TY3JlZW49ITEsYS5yZXNpemUoYS5vcHRpb25zLndpZHRoLGEub3B0aW9ucy5oZWlnaHQpLGF9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLHIsbixpKXtpZih0aGlzLnZpZXcpe3RoaXMucmVuZGVyaW5nVG9TY3JlZW49IWUsdGhpcy5lbWl0KFxcXCJwcmVyZW5kZXJcXFwiKTt2YXIgbz10aGlzLnJlc29sdXRpb247ZT8oZT1lLmJhc2VUZXh0dXJlfHxlLGUuX2NhbnZhc1JlbmRlclRhcmdldHx8KGUuX2NhbnZhc1JlbmRlclRhcmdldD1uZXcgZC5kZWZhdWx0KGUud2lkdGgsZS5oZWlnaHQsZS5yZXNvbHV0aW9uKSxlLnNvdXJjZT1lLl9jYW52YXNSZW5kZXJUYXJnZXQuY2FudmFzLGUudmFsaWQ9ITApLHRoaXMuY29udGV4dD1lLl9jYW52YXNSZW5kZXJUYXJnZXQuY29udGV4dCx0aGlzLnJlc29sdXRpb249ZS5fY2FudmFzUmVuZGVyVGFyZ2V0LnJlc29sdXRpb24pOnRoaXMuY29udGV4dD10aGlzLnJvb3RDb250ZXh0O3ZhciBzPXRoaXMuY29udGV4dDtpZihlfHwodGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkPXQpLCFpKXt2YXIgYT10LnBhcmVudCx1PXRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtuPyhuLmNvcHkodSksdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtLl93b3JsZElEPS0xKTp1LmlkZW50aXR5KCksdC5wYXJlbnQ9dGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQsdC51cGRhdGVUcmFuc2Zvcm0oKSx0LnBhcmVudD1hfXMuc2F2ZSgpLHMuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxzLmdsb2JhbEFscGhhPTEsdGhpcy5fYWN0aXZlQmxlbmRNb2RlPWcuQkxFTkRfTU9ERVMuTk9STUFMLHMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPXRoaXMuYmxlbmRNb2Rlc1tnLkJMRU5EX01PREVTLk5PUk1BTF0sbmF2aWdhdG9yLmlzQ29jb29uSlMmJnRoaXMudmlldy5zY3JlZW5jYW52YXMmJihzLmZpbGxTdHlsZT1cXFwiYmxhY2tcXFwiLHMuY2xlYXIoKSksXFxuKHZvaWQgMCE9PXI/cjp0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKSYmdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiYmKHRoaXMudHJhbnNwYXJlbnQ/cy5jbGVhclJlY3QoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpOihzLmZpbGxTdHlsZT10aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcscy5maWxsUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCkpKTt2YXIgaD10aGlzLmNvbnRleHQ7dGhpcy5jb250ZXh0PXMsdC5yZW5kZXJDYW52YXModGhpcyksdGhpcy5jb250ZXh0PWgscy5yZXN0b3JlKCksdGhpcy5yZXNvbHV0aW9uPW8sdGhpcy5lbWl0KFxcXCJwb3N0cmVuZGVyXFxcIil9fSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQ7dD10fHx0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcsIXRoaXMudHJhbnNwYXJlbnQmJnQ/KGUuZmlsbFN0eWxlPXQsZS5maWxsUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCkpOmUuY2xlYXJSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sZS5wcm90b3R5cGUuc2V0QmxlbmRNb2RlPWZ1bmN0aW9uKHQpe3RoaXMuX2FjdGl2ZUJsZW5kTW9kZSE9PXQmJih0aGlzLl9hY3RpdmVCbGVuZE1vZGU9dCx0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPXRoaXMuYmxlbmRNb2Rlc1t0XSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7dGhpcy5kZXN0cm95UGx1Z2lucygpLHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLGUpLHRoaXMuY29udGV4dD1udWxsLHRoaXMucmVmcmVzaD0hMCx0aGlzLm1hc2tNYW5hZ2VyLmRlc3Ryb3koKSx0aGlzLm1hc2tNYW5hZ2VyPW51bGwsdGhpcy5zbW9vdGhQcm9wZXJ0eT1udWxsfSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSxyKXt0LnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLGUsciksdGhpcy5zbW9vdGhQcm9wZXJ0eSYmKHRoaXMucm9vdENvbnRleHRbdGhpcy5zbW9vdGhQcm9wZXJ0eV09bS5kZWZhdWx0LlNDQUxFX01PREU9PT1nLlNDQUxFX01PREVTLkxJTkVBUil9LGUucHJvdG90eXBlLmludmFsaWRhdGVCbGVuZE1vZGU9ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmVCbGVuZE1vZGU9dGhpcy5ibGVuZE1vZGVzLmluZGV4T2YodGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbil9LGV9KHUuZGVmYXVsdCk7ci5kZWZhdWx0PV8sdi5wbHVnaW5UYXJnZXQubWl4aW4oXyl9LHtcXFwiLi4vLi4vY29uc3RcXFwiOjQ2LFxcXCIuLi8uLi9zZXR0aW5nc1xcXCI6MTAxLFxcXCIuLi8uLi91dGlsc1xcXCI6MTI1LFxcXCIuLi9TeXN0ZW1SZW5kZXJlclxcXCI6NzYsXFxcIi4vdXRpbHMvQ2FudmFzTWFza01hbmFnZXJcXFwiOjc4LFxcXCIuL3V0aWxzL0NhbnZhc1JlbmRlclRhcmdldFxcXCI6NzksXFxcIi4vdXRpbHMvbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aVxcXCI6ODF9XSw3ODpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPXQoXFxcIi4uLy4uLy4uL2NvbnN0XFxcIiksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7bih0aGlzLHQpLHRoaXMucmVuZGVyZXI9ZX1yZXR1cm4gdC5wcm90b3R5cGUucHVzaE1hc2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlcjtlLmNvbnRleHQuc2F2ZSgpO3ZhciByPXQuYWxwaGEsbj10LnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSxpPWUucmVzb2x1dGlvbjtlLmNvbnRleHQuc2V0VHJhbnNmb3JtKG4uYSppLG4uYippLG4uYyppLG4uZCppLG4udHgqaSxuLnR5KmkpLHQuX3RleHR1cmV8fCh0aGlzLnJlbmRlckdyYXBoaWNzU2hhcGUodCksZS5jb250ZXh0LmNsaXAoKSksdC53b3JsZEFscGhhPXJ9LHQucHJvdG90eXBlLnJlbmRlckdyYXBoaWNzU2hhcGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlci5jb250ZXh0LHI9dC5ncmFwaGljc0RhdGEubGVuZ3RoO2lmKDAhPT1yKXtlLmJlZ2luUGF0aCgpO2Zvcih2YXIgbj0wO248cjtuKyspe3ZhciBvPXQuZ3JhcGhpY3NEYXRhW25dLHM9by5zaGFwZTtpZihvLnR5cGU9PT1pLlNIQVBFUy5QT0xZKXt2YXIgYT1zLnBvaW50cyx1PW8uaG9sZXMsaD12b2lkIDAsbD12b2lkIDA7ZS5tb3ZlVG8oYVswXSxhWzFdKTtmb3IodmFyIGM9MjtjPGEubGVuZ3RoO2MrPTIpZS5saW5lVG8oYVtjXSxhW2MrMV0pO2lmKGFbMF09PT1hW2EubGVuZ3RoLTJdJiZhWzFdPT09YVthLmxlbmd0aC0xXSYmZS5jbG9zZVBhdGgoKSx1Lmxlbmd0aD4wKXtoPTA7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKz0yKWgrPWFbZF0qYVtkKzNdLWFbZCsxXSphW2QrMl07Zm9yKHZhciBmPTA7Zjx1Lmxlbmd0aDtmKyspe2E9dVtmXS5wb2ludHMsbD0wO2Zvcih2YXIgcD0wO3A8YS5sZW5ndGg7cCs9MilsKz1hW3BdKmFbcCszXS1hW3ArMV0qYVtwKzJdO2lmKGUubW92ZVRvKGFbMF0sYVsxXSksbCpoPDApZm9yKHZhciB2PTI7djxhLmxlbmd0aDt2Kz0yKWUubGluZVRvKGFbdl0sYVt2KzFdKTtlbHNlIGZvcih2YXIgZz1hLmxlbmd0aC0yO2c+PTI7Zy09MillLmxpbmVUbyhhW2ddLGFbZysxXSl9fX1lbHNlIGlmKG8udHlwZT09PWkuU0hBUEVTLlJFQ1QpZS5yZWN0KHMueCxzLnkscy53aWR0aCxzLmhlaWdodCksZS5jbG9zZVBhdGgoKTtlbHNlIGlmKG8udHlwZT09PWkuU0hBUEVTLkNJUkMpZS5hcmMocy54LHMueSxzLnJhZGl1cywwLDIqTWF0aC5QSSksZS5jbG9zZVBhdGgoKTtlbHNlIGlmKG8udHlwZT09PWkuU0hBUEVTLkVMSVApe3ZhciB5PTIqcy53aWR0aCxtPTIqcy5oZWlnaHQsXz1zLngteS8yLGI9cy55LW0vMix4PXkvMiouNTUyMjg0OCxUPW0vMiouNTUyMjg0OCx3PV8reSxFPWIrbSxTPV8reS8yLE89YittLzI7ZS5tb3ZlVG8oXyxPKSxlLmJlemllckN1cnZlVG8oXyxPLVQsUy14LGIsUyxiKSxlLmJlemllckN1cnZlVG8oUyt4LGIsdyxPLVQsdyxPKSxlLmJlemllckN1cnZlVG8odyxPK1QsUyt4LEUsUyxFKSxlLmJlemllckN1cnZlVG8oUy14LEUsXyxPK1QsXyxPKSxlLmNsb3NlUGF0aCgpfWVsc2UgaWYoby50eXBlPT09aS5TSEFQRVMuUlJFQyl7dmFyIE09cy54LFA9cy55LEM9cy53aWR0aCxSPXMuaGVpZ2h0LEE9cy5yYWRpdXMsST1NYXRoLm1pbihDLFIpLzJ8MDtBPUE+ST9JOkEsZS5tb3ZlVG8oTSxQK0EpLGUubGluZVRvKE0sUCtSLUEpLGUucXVhZHJhdGljQ3VydmVUbyhNLFArUixNK0EsUCtSKSxlLmxpbmVUbyhNK0MtQSxQK1IpLGUucXVhZHJhdGljQ3VydmVUbyhNK0MsUCtSLE0rQyxQK1ItQSksZS5saW5lVG8oTStDLFArQSksZS5xdWFkcmF0aWNDdXJ2ZVRvKE0rQyxQLE0rQy1BLFApLGUubGluZVRvKE0rQSxQKSxlLnF1YWRyYXRpY0N1cnZlVG8oTSxQLE0sUCtBKSxlLmNsb3NlUGF0aCgpfX19fSx0LnByb3RvdHlwZS5wb3BNYXNrPWZ1bmN0aW9uKHQpe3QuY29udGV4dC5yZXN0b3JlKCksdC5pbnZhbGlkYXRlQmxlbmRNb2RlKCl9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LHR9KCk7ci5kZWZhdWx0PW99LHtcXFwiLi4vLi4vLi4vY29uc3RcXFwiOjQ2fV0sNzk6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxvPXQoXFxcIi4uLy4uLy4uL3NldHRpbmdzXFxcIikscz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KG8pLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscixpKXtuKHRoaXMsdCksdGhpcy5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiY2FudmFzXFxcIiksdGhpcy5jb250ZXh0PXRoaXMuY2FudmFzLmdldENvbnRleHQoXFxcIjJkXFxcIiksdGhpcy5yZXNvbHV0aW9uPWl8fHMuZGVmYXVsdC5SRVNPTFVUSU9OLHRoaXMucmVzaXplKGUscil9cmV0dXJuIHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0KX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dGhpcy5jYW52YXMud2lkdGg9dCp0aGlzLnJlc29sdXRpb24sdGhpcy5jYW52YXMuaGVpZ2h0PWUqdGhpcy5yZXNvbHV0aW9ufSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0PW51bGwsdGhpcy5jYW52YXM9bnVsbH0saSh0LFt7a2V5OlxcXCJ3aWR0aFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLndpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5jYW52YXMud2lkdGg9dH19LHtrZXk6XFxcImhlaWdodFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuY2FudmFzLmhlaWdodD10fX1dKSx0fSgpO3IuZGVmYXVsdD1hfSx7XFxcIi4uLy4uLy4uL3NldHRpbmdzXFxcIjoxMDF9XSw4MDpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXFxcImNhbnZhc1xcXCIpO2Uud2lkdGg9NixlLmhlaWdodD0xO3ZhciByPWUuZ2V0Q29udGV4dChcXFwiMmRcXFwiKTtyZXR1cm4gci5maWxsU3R5bGU9dCxyLmZpbGxSZWN0KDAsMCw2LDEpLGV9ZnVuY3Rpb24gaSgpe2lmKFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgZG9jdW1lbnQpcmV0dXJuITE7dmFyIHQ9bihcXFwiI2ZmMDBmZlxcXCIpLGU9bihcXFwiI2ZmZmYwMFxcXCIpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiY2FudmFzXFxcIik7ci53aWR0aD02LHIuaGVpZ2h0PTE7dmFyIGk9ci5nZXRDb250ZXh0KFxcXCIyZFxcXCIpO2kuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVxcXCJtdWx0aXBseVxcXCIsaS5kcmF3SW1hZ2UodCwwLDApLGkuZHJhd0ltYWdlKGUsMiwwKTt2YXIgbz1pLmdldEltYWdlRGF0YSgyLDAsMSwxKTtpZighbylyZXR1cm4hMTt2YXIgcz1vLmRhdGE7cmV0dXJuIDI1NT09PXNbMF0mJjA9PT1zWzFdJiYwPT09c1syXX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PWl9LHt9XSw4MTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdO3JldHVybigwLHMuZGVmYXVsdCkoKT8odFtpLkJMRU5EX01PREVTLk5PUk1BTF09XFxcInNvdXJjZS1vdmVyXFxcIix0W2kuQkxFTkRfTU9ERVMuQUREXT1cXFwibGlnaHRlclxcXCIsdFtpLkJMRU5EX01PREVTLk1VTFRJUExZXT1cXFwibXVsdGlwbHlcXFwiLHRbaS5CTEVORF9NT0RFUy5TQ1JFRU5dPVxcXCJzY3JlZW5cXFwiLHRbaS5CTEVORF9NT0RFUy5PVkVSTEFZXT1cXFwib3ZlcmxheVxcXCIsdFtpLkJMRU5EX01PREVTLkRBUktFTl09XFxcImRhcmtlblxcXCIsdFtpLkJMRU5EX01PREVTLkxJR0hURU5dPVxcXCJsaWdodGVuXFxcIix0W2kuQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdPVxcXCJjb2xvci1kb2RnZVxcXCIsdFtpLkJMRU5EX01PREVTLkNPTE9SX0JVUk5dPVxcXCJjb2xvci1idXJuXFxcIix0W2kuQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF09XFxcImhhcmQtbGlnaHRcXFwiLHRbaS5CTEVORF9NT0RFUy5TT0ZUX0xJR0hUXT1cXFwic29mdC1saWdodFxcXCIsdFtpLkJMRU5EX01PREVTLkRJRkZFUkVOQ0VdPVxcXCJkaWZmZXJlbmNlXFxcIix0W2kuQkxFTkRfTU9ERVMuRVhDTFVTSU9OXT1cXFwiZXhjbHVzaW9uXFxcIix0W2kuQkxFTkRfTU9ERVMuSFVFXT1cXFwiaHVlXFxcIix0W2kuQkxFTkRfTU9ERVMuU0FUVVJBVElPTl09XFxcInNhdHVyYXRlXFxcIix0W2kuQkxFTkRfTU9ERVMuQ09MT1JdPVxcXCJjb2xvclxcXCIsdFtpLkJMRU5EX01PREVTLkxVTUlOT1NJVFldPVxcXCJsdW1pbm9zaXR5XFxcIik6KHRbaS5CTEVORF9NT0RFUy5OT1JNQUxdPVxcXCJzb3VyY2Utb3ZlclxcXCIsdFtpLkJMRU5EX01PREVTLkFERF09XFxcImxpZ2h0ZXJcXFwiLHRbaS5CTEVORF9NT0RFUy5NVUxUSVBMWV09XFxcInNvdXJjZS1vdmVyXFxcIix0W2kuQkxFTkRfTU9ERVMuU0NSRUVOXT1cXFwic291cmNlLW92ZXJcXFwiLHRbaS5CTEVORF9NT0RFUy5PVkVSTEFZXT1cXFwic291cmNlLW92ZXJcXFwiLHRbaS5CTEVORF9NT0RFUy5EQVJLRU5dPVxcXCJzb3VyY2Utb3ZlclxcXCIsdFtpLkJMRU5EX01PREVTLkxJR0hURU5dPVxcXCJzb3VyY2Utb3ZlclxcXCIsdFtpLkJMRU5EX01PREVTLkNPTE9SX0RPREdFXT1cXFwic291cmNlLW92ZXJcXFwiLHRbaS5CTEVORF9NT0RFUy5DT0xPUl9CVVJOXT1cXFwic291cmNlLW92ZXJcXFwiLHRbaS5CTEVORF9NT0RFUy5IQVJEX0xJR0hUXT1cXFwic291cmNlLW92ZXJcXFwiLHRbaS5CTEVORF9NT0RFUy5TT0ZUX0xJR0hUXT1cXFwic291cmNlLW92ZXJcXFwiLHRbaS5CTEVORF9NT0RFUy5ESUZGRVJFTkNFXT1cXFwic291cmNlLW92ZXJcXFwiLHRbaS5CTEVORF9NT0RFUy5FWENMVVNJT05dPVxcXCJzb3VyY2Utb3ZlclxcXCIsdFtpLkJMRU5EX01PREVTLkhVRV09XFxcInNvdXJjZS1vdmVyXFxcIix0W2kuQkxFTkRfTU9ERVMuU0FUVVJBVElPTl09XFxcInNvdXJjZS1vdmVyXFxcIix0W2kuQkxFTkRfTU9ERVMuQ09MT1JdPVxcXCJzb3VyY2Utb3ZlclxcXCIsdFtpLkJMRU5EX01PREVTLkxVTUlOT1NJVFldPVxcXCJzb3VyY2Utb3ZlclxcXCIpLHRbaS5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXT10W2kuQkxFTkRfTU9ERVMuTk9STUFMXSx0W2kuQkxFTkRfTU9ERVMuQUREX05QTV09dFtpLkJMRU5EX01PREVTLkFERF0sdFtpLkJMRU5EX01PREVTLlNDUkVFTl9OUE1dPXRbaS5CTEVORF9NT0RFUy5TQ1JFRU5dLHR9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1uO3ZhciBpPXQoXFxcIi4uLy4uLy4uL2NvbnN0XFxcIiksbz10KFxcXCIuL2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXNcXFwiKSxzPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0obyl9LHtcXFwiLi4vLi4vLi4vY29uc3RcXFwiOjQ2LFxcXCIuL2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXNcXFwiOjgwfV0sODI6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFxcXCIuLi8uLi9jb25zdFxcXCIpLG89dChcXFwiLi4vLi4vc2V0dGluZ3NcXFwiKSxzPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0obyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7bih0aGlzLHQpLHRoaXMucmVuZGVyZXI9ZSx0aGlzLmNvdW50PTAsdGhpcy5jaGVja0NvdW50PTAsdGhpcy5tYXhJZGxlPXMuZGVmYXVsdC5HQ19NQVhfSURMRSx0aGlzLmNoZWNrQ291bnRNYXg9cy5kZWZhdWx0LkdDX01BWF9DSEVDS19DT1VOVCx0aGlzLm1vZGU9cy5kZWZhdWx0LkdDX01PREV9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuY291bnQrKyx0aGlzLm1vZGUhPT1pLkdDX01PREVTLk1BTlVBTCYmKyt0aGlzLmNoZWNrQ291bnQ+dGhpcy5jaGVja0NvdW50TWF4JiYodGhpcy5jaGVja0NvdW50PTAsdGhpcy5ydW4oKSl9LHQucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyLGU9dC5fbWFuYWdlZFRleHR1cmVzLHI9ITEsbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dOyFpLl9nbFJlbmRlclRhcmdldHMmJnRoaXMuY291bnQtaS50b3VjaGVkPnRoaXMubWF4SWRsZSYmKHQuZGVzdHJveVRleHR1cmUoaSwhMCksZVtuXT1udWxsLHI9ITApfWlmKHIpe2Zvcih2YXIgbz0wLHM9MDtzPGUubGVuZ3RoO3MrKyludWxsIT09ZVtzXSYmKGVbbysrXT1lW3NdKTtlLmxlbmd0aD1vfX0sdC5wcm90b3R5cGUudW5sb2FkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVuZGVyZXIudGV4dHVyZU1hbmFnZXI7dC5fdGV4dHVyZSYmdC5fdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzJiZlLmRlc3Ryb3lUZXh0dXJlKHQuX3RleHR1cmUsITApO2Zvcih2YXIgcj10LmNoaWxkcmVuLmxlbmd0aC0xO3I+PTA7ci0tKXRoaXMudW5sb2FkKHQuY2hpbGRyZW5bcl0pfSx0fSgpO3IuZGVmYXVsdD1hfSx7XFxcIi4uLy4uL2NvbnN0XFxcIjo0NixcXFwiLi4vLi4vc2V0dGluZ3NcXFwiOjEwMX1dLDgzOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcXFwicGl4aS1nbC1jb3JlXFxcIiksbz10KFxcXCIuLi8uLi9jb25zdFxcXCIpLHM9dChcXFwiLi91dGlscy9SZW5kZXJUYXJnZXRcXFwiKSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0ocyksdT10KFxcXCIuLi8uLi91dGlsc1xcXCIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe24odGhpcyx0KSx0aGlzLnJlbmRlcmVyPWUsdGhpcy5nbD1lLmdsLHRoaXMuX21hbmFnZWRUZXh0dXJlcz1bXX1yZXR1cm4gdC5wcm90b3R5cGUuYmluZFRleHR1cmU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmdldFRleHR1cmU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnVwZGF0ZVRleHR1cmU9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmdsLG49ISF0Ll9nbFJlbmRlclRhcmdldHM7aWYoIXQuaGFzTG9hZGVkKXJldHVybiBudWxsO3ZhciBzPXRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlcztpZih2b2lkIDA9PT1lKXtlPTA7Zm9yKHZhciB1PTA7dTxzLmxlbmd0aDsrK3UpaWYoc1t1XT09PXQpe2U9dTticmVha319c1tlXT10LHIuYWN0aXZlVGV4dHVyZShyLlRFWFRVUkUwK2UpO3ZhciBoPXQuX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07aWYoaCluP3QuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXS5yZXNpemUodC53aWR0aCx0LmhlaWdodCk6aC51cGxvYWQodC5zb3VyY2UpO2Vsc2V7aWYobil7dmFyIGw9bmV3IGEuZGVmYXVsdCh0aGlzLmdsLHQud2lkdGgsdC5oZWlnaHQsdC5zY2FsZU1vZGUsdC5yZXNvbHV0aW9uKTtsLnJlc2l6ZSh0LndpZHRoLHQuaGVpZ2h0KSx0Ll9nbFJlbmRlclRhcmdldHNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF09bCxoPWwudGV4dHVyZSx0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQucm9vdHx8dGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LmZyYW1lQnVmZmVyLmJpbmQoKX1lbHNlIGg9bmV3IGkuR0xUZXh0dXJlKHRoaXMuZ2wsbnVsbCxudWxsLG51bGwsbnVsbCksaC5iaW5kKGUpLGgucHJlbXVsdGlwbHlBbHBoYT0hMCxoLnVwbG9hZCh0LnNvdXJjZSk7dC5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXT1oLHQub24oXFxcInVwZGF0ZVxcXCIsdGhpcy51cGRhdGVUZXh0dXJlLHRoaXMpLHQub24oXFxcImRpc3Bvc2VcXFwiLHRoaXMuZGVzdHJveVRleHR1cmUsdGhpcyksdGhpcy5fbWFuYWdlZFRleHR1cmVzLnB1c2godCksdC5pc1Bvd2VyT2ZUd28/KHQubWlwbWFwJiZoLmVuYWJsZU1pcG1hcCgpLHQud3JhcE1vZGU9PT1vLldSQVBfTU9ERVMuQ0xBTVA/aC5lbmFibGVXcmFwQ2xhbXAoKTp0LndyYXBNb2RlPT09by5XUkFQX01PREVTLlJFUEVBVD9oLmVuYWJsZVdyYXBSZXBlYXQoKTpoLmVuYWJsZVdyYXBNaXJyb3JSZXBlYXQoKSk6aC5lbmFibGVXcmFwQ2xhbXAoKSx0LnNjYWxlTW9kZT09PW8uU0NBTEVfTU9ERVMuTkVBUkVTVD9oLmVuYWJsZU5lYXJlc3RTY2FsaW5nKCk6aC5lbmFibGVMaW5lYXJTY2FsaW5nKCl9cmV0dXJuIGh9LHQucHJvdG90eXBlLmRlc3Ryb3lUZXh0dXJlPWZ1bmN0aW9uKHQsZSl7aWYodD10LmJhc2VUZXh0dXJlfHx0LHQuaGFzTG9hZGVkKXt2YXIgcj10aGlzLnJlbmRlcmVyLG49ci5DT05URVhUX1VJRCxpPXQuX2dsVGV4dHVyZXMsbz10Ll9nbFJlbmRlclRhcmdldHM7aWYoaVtuXSYmKHIudW5iaW5kVGV4dHVyZSh0KSxpW25dLmRlc3Ryb3koKSx0Lm9mZihcXFwidXBkYXRlXFxcIix0aGlzLnVwZGF0ZVRleHR1cmUsdGhpcyksdC5vZmYoXFxcImRpc3Bvc2VcXFwiLHRoaXMuZGVzdHJveVRleHR1cmUsdGhpcyksZGVsZXRlIGlbbl0sIWUpKXt2YXIgcz10aGlzLl9tYW5hZ2VkVGV4dHVyZXMuaW5kZXhPZih0KTstMSE9PXMmJigwLHUucmVtb3ZlSXRlbXMpKHRoaXMuX21hbmFnZWRUZXh0dXJlcyxzLDEpfW8mJm9bbl0mJihyLl9hY3RpdmVSZW5kZXJUYXJnZXQ9PT1vW25dJiZyLmJpbmRSZW5kZXJUYXJnZXQoci5yb290UmVuZGVyVGFyZ2V0KSxvW25dLmRlc3Ryb3koKSxkZWxldGUgb1tuXSl9fSx0LnByb3RvdHlwZS5yZW1vdmVBbGw9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuX21hbmFnZWRUZXh0dXJlcy5sZW5ndGg7Kyt0KXt2YXIgZT10aGlzLl9tYW5hZ2VkVGV4dHVyZXNbdF07ZS5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSYmZGVsZXRlIGUuX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF19fSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9tYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOysrdCl7dmFyIGU9dGhpcy5fbWFuYWdlZFRleHR1cmVzW3RdO3RoaXMuZGVzdHJveVRleHR1cmUoZSwhMCksZS5vZmYoXFxcInVwZGF0ZVxcXCIsdGhpcy51cGRhdGVUZXh0dXJlLHRoaXMpLGUub2ZmKFxcXCJkaXNwb3NlXFxcIix0aGlzLmRlc3Ryb3lUZXh0dXJlLHRoaXMpfXRoaXMuX21hbmFnZWRUZXh0dXJlcz1udWxsfSx0fSgpO3IuZGVmYXVsdD1ofSx7XFxcIi4uLy4uL2NvbnN0XFxcIjo0NixcXFwiLi4vLi4vdXRpbHNcXFwiOjEyNSxcXFwiLi91dGlscy9SZW5kZXJUYXJnZXRcXFwiOjk2LFxcXCJwaXhpLWdsLWNvcmVcXFwiOjE1fV0sODQ6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9dChcXFwiLi4vU3lzdGVtUmVuZGVyZXJcXFwiKSx1PW4oYSksaD10KFxcXCIuL21hbmFnZXJzL01hc2tNYW5hZ2VyXFxcIiksbD1uKGgpLGM9dChcXFwiLi9tYW5hZ2Vycy9TdGVuY2lsTWFuYWdlclxcXCIpLGQ9bihjKSxmPXQoXFxcIi4vbWFuYWdlcnMvRmlsdGVyTWFuYWdlclxcXCIpLHA9bihmKSx2PXQoXFxcIi4vdXRpbHMvUmVuZGVyVGFyZ2V0XFxcIiksZz1uKHYpLHk9dChcXFwiLi91dGlscy9PYmplY3RSZW5kZXJlclxcXCIpLG09bih5KSxfPXQoXFxcIi4vVGV4dHVyZU1hbmFnZXJcXFwiKSxiPW4oXykseD10KFxcXCIuLi8uLi90ZXh0dXJlcy9CYXNlVGV4dHVyZVxcXCIpLFQ9bih4KSx3PXQoXFxcIi4vVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3JcXFwiKSxFPW4odyksUz10KFxcXCIuL1dlYkdMU3RhdGVcXFwiKSxPPW4oUyksTT10KFxcXCIuL3V0aWxzL21hcFdlYkdMRHJhd01vZGVzVG9QaXhpXFxcIiksUD1uKE0pLEM9dChcXFwiLi91dGlscy92YWxpZGF0ZUNvbnRleHRcXFwiKSxSPW4oQyksQT10KFxcXCIuLi8uLi91dGlsc1xcXCIpLEk9dChcXFwicGl4aS1nbC1jb3JlXFxcIiksRD1uKEkpLEw9dChcXFwiLi4vLi4vY29uc3RcXFwiKSxOPTAsQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbixzKXtpKHRoaXMsZSk7dmFyIGE9byh0aGlzLHQuY2FsbCh0aGlzLFxcXCJXZWJHTFxcXCIscixuLHMpKTtyZXR1cm4gYS5sZWdhY3k9YS5vcHRpb25zLmxlZ2FjeSxhLmxlZ2FjeSYmKEQuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdC5GT1JDRV9OQVRJVkU9ITApLGEudHlwZT1MLlJFTkRFUkVSX1RZUEUuV0VCR0wsYS5oYW5kbGVDb250ZXh0TG9zdD1hLmhhbmRsZUNvbnRleHRMb3N0LmJpbmQoYSksYS5oYW5kbGVDb250ZXh0UmVzdG9yZWQ9YS5oYW5kbGVDb250ZXh0UmVzdG9yZWQuYmluZChhKSxhLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcihcXFwid2ViZ2xjb250ZXh0bG9zdFxcXCIsYS5oYW5kbGVDb250ZXh0TG9zdCwhMSksYS52aWV3LmFkZEV2ZW50TGlzdGVuZXIoXFxcIndlYmdsY29udGV4dHJlc3RvcmVkXFxcIixhLmhhbmRsZUNvbnRleHRSZXN0b3JlZCwhMSksYS5fY29udGV4dE9wdGlvbnM9e2FscGhhOmEudHJhbnNwYXJlbnQsYW50aWFsaWFzOmEub3B0aW9ucy5hbnRpYWxpYXMscHJlbXVsdGlwbGllZEFscGhhOmEudHJhbnNwYXJlbnQmJlxcXCJub3RNdWx0aXBsaWVkXFxcIiE9PWEudHJhbnNwYXJlbnQsc3RlbmNpbDohMCxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6YS5vcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcixwb3dlclByZWZlcmVuY2U6YS5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZX0sYS5fYmFja2dyb3VuZENvbG9yUmdiYVszXT1hLnRyYW5zcGFyZW50PzA6MSxhLm1hc2tNYW5hZ2VyPW5ldyBsLmRlZmF1bHQoYSksYS5zdGVuY2lsTWFuYWdlcj1uZXcgZC5kZWZhdWx0KGEpLGEuZW1wdHlSZW5kZXJlcj1uZXcgbS5kZWZhdWx0KGEpLGEuY3VycmVudFJlbmRlcmVyPWEuZW1wdHlSZW5kZXJlcixhLnRleHR1cmVNYW5hZ2VyPW51bGwsYS5maWx0ZXJNYW5hZ2VyPW51bGwsYS5pbml0UGx1Z2lucygpLGEub3B0aW9ucy5jb250ZXh0JiYoMCxSLmRlZmF1bHQpKGEub3B0aW9ucy5jb250ZXh0KSxhLmdsPWEub3B0aW9ucy5jb250ZXh0fHxELmRlZmF1bHQuY3JlYXRlQ29udGV4dChhLnZpZXcsYS5fY29udGV4dE9wdGlvbnMpLGEuQ09OVEVYVF9VSUQ9TisrLGEuc3RhdGU9bmV3IE8uZGVmYXVsdChhLmdsKSxhLnJlbmRlcmluZ1RvU2NyZWVuPSEwLGEuYm91bmRUZXh0dXJlcz1udWxsLGEuX2FjdGl2ZVNoYWRlcj1udWxsLGEuX2FjdGl2ZVZhbz1udWxsLGEuX2FjdGl2ZVJlbmRlclRhcmdldD1udWxsLGEuX2luaXRDb250ZXh0KCksYS5kcmF3TW9kZXM9KDAsUC5kZWZhdWx0KShhLmdsKSxhLl9uZXh0VGV4dHVyZUxvY2F0aW9uPTAsYS5zZXRCbGVuZE1vZGUoMCksYX1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLl9pbml0Q29udGV4dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dC5pc0NvbnRleHRMb3N0KCkmJnQuZ2V0RXh0ZW5zaW9uKFxcXCJXRUJHTF9sb3NlX2NvbnRleHRcXFwiKSYmdC5nZXRFeHRlbnNpb24oXFxcIldFQkdMX2xvc2VfY29udGV4dFxcXCIpLnJlc3RvcmVDb250ZXh0KCk7dmFyIGU9dC5nZXRQYXJhbWV0ZXIodC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7dGhpcy5fYWN0aXZlU2hhZGVyPW51bGwsdGhpcy5fYWN0aXZlVmFvPW51bGwsdGhpcy5ib3VuZFRleHR1cmVzPW5ldyBBcnJheShlKSx0aGlzLmVtcHR5VGV4dHVyZXM9bmV3IEFycmF5KGUpLHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzPSExLHRoaXMudGV4dHVyZU1hbmFnZXI9bmV3IGIuZGVmYXVsdCh0aGlzKSx0aGlzLmZpbHRlck1hbmFnZXI9bmV3IHAuZGVmYXVsdCh0aGlzKSx0aGlzLnRleHR1cmVHQz1uZXcgRS5kZWZhdWx0KHRoaXMpLHRoaXMuc3RhdGUucmVzZXRUb0RlZmF1bHQoKSx0aGlzLnJvb3RSZW5kZXJUYXJnZXQ9bmV3IGcuZGVmYXVsdCh0LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsbnVsbCx0aGlzLnJlc29sdXRpb24sITApLHRoaXMucm9vdFJlbmRlclRhcmdldC5jbGVhckNvbG9yPXRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEsdGhpcy5iaW5kUmVuZGVyVGFyZ2V0KHRoaXMucm9vdFJlbmRlclRhcmdldCk7dmFyIHI9bmV3IEQuZGVmYXVsdC5HTFRleHR1cmUuZnJvbURhdGEodCxudWxsLDEsMSksbj17X2dsVGV4dHVyZXM6e319O24uX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF09e307Zm9yKHZhciBpPTA7aTxlO2krKyl7dmFyIG89bmV3IFQuZGVmYXVsdDtvLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdPXIsdGhpcy5ib3VuZFRleHR1cmVzW2ldPW4sdGhpcy5lbXB0eVRleHR1cmVzW2ldPW8sdGhpcy5iaW5kVGV4dHVyZShudWxsLGkpfXRoaXMuZW1pdChcXFwiY29udGV4dFxcXCIsdCksdGhpcy5yZXNpemUodGhpcy5zY3JlZW4ud2lkdGgsdGhpcy5zY3JlZW4uaGVpZ2h0KX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxyLG4saSl7aWYodGhpcy5yZW5kZXJpbmdUb1NjcmVlbj0hZSx0aGlzLmVtaXQoXFxcInByZXJlbmRlclxcXCIpLHRoaXMuZ2wmJiF0aGlzLmdsLmlzQ29udGV4dExvc3QoKSl7aWYodGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbj0wLGV8fCh0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQ9dCksIWkpe3ZhciBvPXQucGFyZW50O3QucGFyZW50PXRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LHQudXBkYXRlVHJhbnNmb3JtKCksdC5wYXJlbnQ9b310aGlzLmJpbmRSZW5kZXJUZXh0dXJlKGUsbiksdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKSwodm9pZCAwIT09cj9yOnRoaXMuY2xlYXJCZWZvcmVSZW5kZXIpJiZ0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQuY2xlYXIoKSx0LnJlbmRlcldlYkdMKHRoaXMpLHRoaXMuY3VycmVudFJlbmRlcmVyLmZsdXNoKCksdGhpcy50ZXh0dXJlR0MudXBkYXRlKCksdGhpcy5lbWl0KFxcXCJwb3N0cmVuZGVyXFxcIil9fSxlLnByb3RvdHlwZS5zZXRPYmplY3RSZW5kZXJlcj1mdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRSZW5kZXJlciE9PXQmJih0aGlzLmN1cnJlbnRSZW5kZXJlci5zdG9wKCksdGhpcy5jdXJyZW50UmVuZGVyZXI9dCx0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpKX0sZS5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcil9LGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3UuZGVmYXVsdC5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcyx0LGUpLHRoaXMucm9vdFJlbmRlclRhcmdldC5yZXNpemUodCxlKSx0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQ9PT10aGlzLnJvb3RSZW5kZXJUYXJnZXQmJih0aGlzLnJvb3RSZW5kZXJUYXJnZXQuYWN0aXZhdGUoKSx0aGlzLl9hY3RpdmVTaGFkZXImJih0aGlzLl9hY3RpdmVTaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeD10aGlzLnJvb3RSZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeC50b0FycmF5KCEwKSkpfSxlLnByb3RvdHlwZS5zZXRCbGVuZE1vZGU9ZnVuY3Rpb24odCl7dGhpcy5zdGF0ZS5zZXRCbGVuZE1vZGUodCl9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKHQpe3RoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC5jbGVhcih0KX0sZS5wcm90b3R5cGUuc2V0VHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3RoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC50cmFuc2Zvcm09dH0sZS5wcm90b3R5cGUuY2xlYXJSZW5kZXJUZXh0dXJlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5iYXNlVGV4dHVyZSxuPXIuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLkNPTlRFWFRfVUlEXTtyZXR1cm4gbiYmbi5jbGVhcihlKSx0aGlzfSxlLnByb3RvdHlwZS5iaW5kUmVuZGVyVGV4dHVyZT1mdW5jdGlvbih0LGUpe3ZhciByPXZvaWQgMDtpZih0KXt2YXIgbj10LmJhc2VUZXh0dXJlO24uX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLkNPTlRFWFRfVUlEXXx8dGhpcy50ZXh0dXJlTWFuYWdlci51cGRhdGVUZXh0dXJlKG4sMCksdGhpcy51bmJpbmRUZXh0dXJlKG4pLHI9bi5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMuQ09OVEVYVF9VSURdLHIuc2V0RnJhbWUodC5mcmFtZSl9ZWxzZSByPXRoaXMucm9vdFJlbmRlclRhcmdldDtyZXR1cm4gci50cmFuc2Zvcm09ZSx0aGlzLmJpbmRSZW5kZXJUYXJnZXQociksdGhpc30sZS5wcm90b3R5cGUuYmluZFJlbmRlclRhcmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PXRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCYmKHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldD10LHQuYWN0aXZhdGUoKSx0aGlzLl9hY3RpdmVTaGFkZXImJih0aGlzLl9hY3RpdmVTaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeD10LnByb2plY3Rpb25NYXRyaXgudG9BcnJheSghMCkpLHRoaXMuc3RlbmNpbE1hbmFnZXIuc2V0TWFza1N0YWNrKHQuc3RlbmNpbE1hc2tTdGFjaykpLHRoaXN9LGUucHJvdG90eXBlLmJpbmRTaGFkZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fYWN0aXZlU2hhZGVyIT09dCYmKHRoaXMuX2FjdGl2ZVNoYWRlcj10LHQuYmluZCgpLCExIT09ZSYmKHQudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeD10aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeC50b0FycmF5KCEwKSkpLHRoaXN9LGUucHJvdG90eXBlLmJpbmRUZXh0dXJlPWZ1bmN0aW9uKHQsZSxyKXtpZih0PXR8fHRoaXMuZW1wdHlUZXh0dXJlc1tlXSx0PXQuYmFzZVRleHR1cmV8fHQsdC50b3VjaGVkPXRoaXMudGV4dHVyZUdDLmNvdW50LHIpZT1lfHwwO2Vsc2V7Zm9yKHZhciBuPTA7bjx0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoO24rKylpZih0aGlzLmJvdW5kVGV4dHVyZXNbbl09PT10KXJldHVybiBuO3ZvaWQgMD09PWUmJih0aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uKyssdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbiU9dGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aCxlPXRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGgtdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbi0xKX12YXIgaT10aGlzLmdsLG89dC5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtyZXR1cm4gbz8odGhpcy5ib3VuZFRleHR1cmVzW2VdPXQsaS5hY3RpdmVUZXh0dXJlKGkuVEVYVFVSRTArZSksaS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQsby50ZXh0dXJlKSk6dGhpcy50ZXh0dXJlTWFuYWdlci51cGRhdGVUZXh0dXJlKHQsZSksZX0sZS5wcm90b3R5cGUudW5iaW5kVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdsO2lmKHQ9dC5iYXNlVGV4dHVyZXx8dCx0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyl7dGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXM9ITE7Zm9yKHZhciByPTA7cjx0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoO3IrKyl0aGlzLmJvdW5kVGV4dHVyZXNbcl09PT10aGlzLmVtcHR5VGV4dHVyZXNbcl0mJihlLmFjdGl2ZVRleHR1cmUoZS5URVhUVVJFMCtyKSxlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0aGlzLmVtcHR5VGV4dHVyZXNbcl0uX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSkpfWZvcih2YXIgbj0wO248dGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDtuKyspdGhpcy5ib3VuZFRleHR1cmVzW25dPT09dCYmKHRoaXMuYm91bmRUZXh0dXJlc1tuXT10aGlzLmVtcHR5VGV4dHVyZXNbbl0sZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTArbiksZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdGhpcy5lbXB0eVRleHR1cmVzW25dLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUpKTtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuY3JlYXRlVmFvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBELmRlZmF1bHQuVmVydGV4QXJyYXlPYmplY3QodGhpcy5nbCx0aGlzLnN0YXRlLmF0dHJpYlN0YXRlKX0sZS5wcm90b3R5cGUuYmluZFZhbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWN0aXZlVmFvPT09dD90aGlzOih0P3QuYmluZCgpOnRoaXMuX2FjdGl2ZVZhbyYmdGhpcy5fYWN0aXZlVmFvLnVuYmluZCgpLHRoaXMuX2FjdGl2ZVZhbz10LHRoaXMpfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKSx0aGlzLmJpbmRWYW8obnVsbCksdGhpcy5fYWN0aXZlU2hhZGVyPW51bGwsdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0PXRoaXMucm9vdFJlbmRlclRhcmdldCx0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcz0hMDtmb3IodmFyIHQ9MDt0PHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7dCsrKXRoaXMuYm91bmRUZXh0dXJlc1t0XT10aGlzLmVtcHR5VGV4dHVyZXNbdF07cmV0dXJuIHRoaXMucm9vdFJlbmRlclRhcmdldC5hY3RpdmF0ZSgpLHRoaXMuc3RhdGUucmVzZXRUb0RlZmF1bHQoKSx0aGlzfSxlLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0TG9zdD1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCl9LGUucHJvdG90eXBlLmhhbmRsZUNvbnRleHRSZXN0b3JlZD1mdW5jdGlvbigpe3RoaXMudGV4dHVyZU1hbmFnZXIucmVtb3ZlQWxsKCksdGhpcy5maWx0ZXJNYW5hZ2VyLmRlc3Ryb3koITApLHRoaXMuX2luaXRDb250ZXh0KCl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7dGhpcy5kZXN0cm95UGx1Z2lucygpLHRoaXMudmlldy5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJ3ZWJnbGNvbnRleHRsb3N0XFxcIix0aGlzLmhhbmRsZUNvbnRleHRMb3N0KSx0aGlzLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcXFwiLHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkKSx0aGlzLnRleHR1cmVNYW5hZ2VyLmRlc3Ryb3koKSx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyxlKSx0aGlzLnVpZD0wLHRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpLHRoaXMuc3RlbmNpbE1hbmFnZXIuZGVzdHJveSgpLHRoaXMuZmlsdGVyTWFuYWdlci5kZXN0cm95KCksdGhpcy5tYXNrTWFuYWdlcj1udWxsLHRoaXMuZmlsdGVyTWFuYWdlcj1udWxsLHRoaXMudGV4dHVyZU1hbmFnZXI9bnVsbCx0aGlzLmN1cnJlbnRSZW5kZXJlcj1udWxsLHRoaXMuaGFuZGxlQ29udGV4dExvc3Q9bnVsbCx0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZD1udWxsLHRoaXMuX2NvbnRleHRPcHRpb25zPW51bGwsdGhpcy5nbC51c2VQcm9ncmFtKG51bGwpLHRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKFxcXCJXRUJHTF9sb3NlX2NvbnRleHRcXFwiKSYmdGhpcy5nbC5nZXRFeHRlbnNpb24oXFxcIldFQkdMX2xvc2VfY29udGV4dFxcXCIpLmxvc2VDb250ZXh0KCksdGhpcy5nbD1udWxsfSxlfSh1LmRlZmF1bHQpO3IuZGVmYXVsdD1CLEEucGx1Z2luVGFyZ2V0Lm1peGluKEIpfSx7XFxcIi4uLy4uL2NvbnN0XFxcIjo0NixcXFwiLi4vLi4vdGV4dHVyZXMvQmFzZVRleHR1cmVcXFwiOjExMixcXFwiLi4vLi4vdXRpbHNcXFwiOjEyNSxcXFwiLi4vU3lzdGVtUmVuZGVyZXJcXFwiOjc2LFxcXCIuL1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yXFxcIjo4MixcXFwiLi9UZXh0dXJlTWFuYWdlclxcXCI6ODMsXFxcIi4vV2ViR0xTdGF0ZVxcXCI6ODUsXFxcIi4vbWFuYWdlcnMvRmlsdGVyTWFuYWdlclxcXCI6OTAsXFxcIi4vbWFuYWdlcnMvTWFza01hbmFnZXJcXFwiOjkxLFxcXCIuL21hbmFnZXJzL1N0ZW5jaWxNYW5hZ2VyXFxcIjo5MixcXFwiLi91dGlscy9PYmplY3RSZW5kZXJlclxcXCI6OTQsXFxcIi4vdXRpbHMvUmVuZGVyVGFyZ2V0XFxcIjo5NixcXFwiLi91dGlscy9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aVxcXCI6OTksXFxcIi4vdXRpbHMvdmFsaWRhdGVDb250ZXh0XFxcIjoxMDAsXFxcInBpeGktZ2wtY29yZVxcXCI6MTV9XSw4NTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPXQoXFxcIi4vdXRpbHMvbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpXFxcIiksbz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KGkpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe24odGhpcyx0KSx0aGlzLmFjdGl2ZVN0YXRlPW5ldyBVaW50OEFycmF5KDE2KSx0aGlzLmRlZmF1bHRTdGF0ZT1uZXcgVWludDhBcnJheSgxNiksdGhpcy5kZWZhdWx0U3RhdGVbMF09MSx0aGlzLnN0YWNrSW5kZXg9MCx0aGlzLnN0YWNrPVtdLHRoaXMuZ2w9ZSx0aGlzLm1heEF0dHJpYnM9ZS5nZXRQYXJhbWV0ZXIoZS5NQVhfVkVSVEVYX0FUVFJJQlMpLHRoaXMuYXR0cmliU3RhdGU9e3RlbXBBdHRyaWJTdGF0ZTpuZXcgQXJyYXkodGhpcy5tYXhBdHRyaWJzKSxhdHRyaWJTdGF0ZTpuZXcgQXJyYXkodGhpcy5tYXhBdHRyaWJzKX0sdGhpcy5ibGVuZE1vZGVzPSgwLG8uZGVmYXVsdCkoZSksdGhpcy5uYXRpdmVWYW9FeHRlbnNpb249ZS5nZXRFeHRlbnNpb24oXFxcIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0XFxcIil8fGUuZ2V0RXh0ZW5zaW9uKFxcXCJNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcXFwiKXx8ZS5nZXRFeHRlbnNpb24oXFxcIldFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdFxcXCIpfXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGFja1t0aGlzLnN0YWNrSW5kZXhdO3R8fCh0PXRoaXMuc3RhY2tbdGhpcy5zdGFja0luZGV4XT1uZXcgVWludDhBcnJheSgxNikpLCsrdGhpcy5zdGFja0luZGV4O2Zvcih2YXIgZT0wO2U8dGhpcy5hY3RpdmVTdGF0ZS5sZW5ndGg7ZSsrKXRbZV09dGhpcy5hY3RpdmVTdGF0ZVtlXX0sdC5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGFja1stLXRoaXMuc3RhY2tJbmRleF07dGhpcy5zZXRTdGF0ZSh0KX0sdC5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24odCl7dGhpcy5zZXRCbGVuZCh0WzBdKSx0aGlzLnNldERlcHRoVGVzdCh0WzFdKSx0aGlzLnNldEZyb250RmFjZSh0WzJdKSx0aGlzLnNldEN1bGxGYWNlKHRbM10pLHRoaXMuc2V0QmxlbmRNb2RlKHRbNF0pfSx0LnByb3RvdHlwZS5zZXRCbGVuZD1mdW5jdGlvbih0KXt0PXQ/MTowLHRoaXMuYWN0aXZlU3RhdGVbMF0hPT10JiYodGhpcy5hY3RpdmVTdGF0ZVswXT10LHRoaXMuZ2xbdD9cXFwiZW5hYmxlXFxcIjpcXFwiZGlzYWJsZVxcXCJdKHRoaXMuZ2wuQkxFTkQpKX0sdC5wcm90b3R5cGUuc2V0QmxlbmRNb2RlPWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmFjdGl2ZVN0YXRlWzRdKXt0aGlzLmFjdGl2ZVN0YXRlWzRdPXQ7dmFyIGU9dGhpcy5ibGVuZE1vZGVzW3RdOzI9PT1lLmxlbmd0aD90aGlzLmdsLmJsZW5kRnVuYyhlWzBdLGVbMV0pOnRoaXMuZ2wuYmxlbmRGdW5jU2VwYXJhdGUoZVswXSxlWzFdLGVbMl0sZVszXSl9fSx0LnByb3RvdHlwZS5zZXREZXB0aFRlc3Q9ZnVuY3Rpb24odCl7dD10PzE6MCx0aGlzLmFjdGl2ZVN0YXRlWzFdIT09dCYmKHRoaXMuYWN0aXZlU3RhdGVbMV09dCx0aGlzLmdsW3Q/XFxcImVuYWJsZVxcXCI6XFxcImRpc2FibGVcXFwiXSh0aGlzLmdsLkRFUFRIX1RFU1QpKX0sdC5wcm90b3R5cGUuc2V0Q3VsbEZhY2U9ZnVuY3Rpb24odCl7dD10PzE6MCx0aGlzLmFjdGl2ZVN0YXRlWzNdIT09dCYmKHRoaXMuYWN0aXZlU3RhdGVbM109dCx0aGlzLmdsW3Q/XFxcImVuYWJsZVxcXCI6XFxcImRpc2FibGVcXFwiXSh0aGlzLmdsLkNVTExfRkFDRSkpfSx0LnByb3RvdHlwZS5zZXRGcm9udEZhY2U9ZnVuY3Rpb24odCl7dD10PzE6MCx0aGlzLmFjdGl2ZVN0YXRlWzJdIT09dCYmKHRoaXMuYWN0aXZlU3RhdGVbMl09dCx0aGlzLmdsLmZyb250RmFjZSh0aGlzLmdsW3Q/XFxcIkNXXFxcIjpcXFwiQ0NXXFxcIl0pKX0sdC5wcm90b3R5cGUucmVzZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLmF0dHJpYlN0YXRlLnRlbXBBdHRyaWJTdGF0ZS5sZW5ndGg7dCsrKXRoaXMuYXR0cmliU3RhdGUudGVtcEF0dHJpYlN0YXRlW3RdPTA7Zm9yKHZhciBlPTA7ZTx0aGlzLmF0dHJpYlN0YXRlLmF0dHJpYlN0YXRlLmxlbmd0aDtlKyspdGhpcy5hdHRyaWJTdGF0ZS5hdHRyaWJTdGF0ZVtlXT0wO2Zvcih2YXIgcj0xO3I8dGhpcy5tYXhBdHRyaWJzO3IrKyl0aGlzLmdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShyKX0sdC5wcm90b3R5cGUucmVzZXRUb0RlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbiYmdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKG51bGwpLHRoaXMucmVzZXRBdHRyaWJ1dGVzKCk7Zm9yKHZhciB0PTA7dDx0aGlzLmFjdGl2ZVN0YXRlLmxlbmd0aDsrK3QpdGhpcy5hY3RpdmVTdGF0ZVt0XT0zMjt0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwhMSksdGhpcy5zZXRTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSl9LHR9KCk7ci5kZWZhdWx0PXN9LHtcXFwiLi91dGlscy9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGlcXFwiOjk4fV0sODY6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxzPXQoXFxcIi4vZXh0cmFjdFVuaWZvcm1zRnJvbVNyY1xcXCIpLGE9bihzKSx1PXQoXFxcIi4uLy4uLy4uL3V0aWxzXFxcIiksaD10KFxcXCIuLi8uLi8uLi9jb25zdFxcXCIpLGw9dChcXFwiLi4vLi4vLi4vc2V0dGluZ3NcXFwiKSxjPW4obCksZD17fSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHIsbil7aSh0aGlzLHQpLHRoaXMudmVydGV4U3JjPWV8fHQuZGVmYXVsdFZlcnRleFNyYyx0aGlzLmZyYWdtZW50U3JjPXJ8fHQuZGVmYXVsdEZyYWdtZW50U3JjLHRoaXMuX2JsZW5kTW9kZT1oLkJMRU5EX01PREVTLk5PUk1BTCx0aGlzLnVuaWZvcm1EYXRhPW58fCgwLGEuZGVmYXVsdCkodGhpcy52ZXJ0ZXhTcmMsdGhpcy5mcmFnbWVudFNyYyxcXFwicHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlclxcXCIpLHRoaXMudW5pZm9ybXM9e307Zm9yKHZhciBvIGluIHRoaXMudW5pZm9ybURhdGEpdGhpcy51bmlmb3Jtc1tvXT10aGlzLnVuaWZvcm1EYXRhW29dLnZhbHVlLHRoaXMudW5pZm9ybURhdGFbb10udHlwZSYmKHRoaXMudW5pZm9ybURhdGFbb10udHlwZT10aGlzLnVuaWZvcm1EYXRhW29dLnR5cGUudG9Mb3dlckNhc2UoKSk7dGhpcy5nbFNoYWRlcnM9e30sZFt0aGlzLnZlcnRleFNyYyt0aGlzLmZyYWdtZW50U3JjXXx8KGRbdGhpcy52ZXJ0ZXhTcmMrdGhpcy5mcmFnbWVudFNyY109KDAsdS51aWQpKCkpLHRoaXMuZ2xTaGFkZXJLZXk9ZFt0aGlzLnZlcnRleFNyYyt0aGlzLmZyYWdtZW50U3JjXSx0aGlzLnBhZGRpbmc9NCx0aGlzLnJlc29sdXRpb249Yy5kZWZhdWx0LkZJTFRFUl9SRVNPTFVUSU9OLHRoaXMuZW5hYmxlZD0hMCx0aGlzLmF1dG9GaXQ9ITB9cmV0dXJuIHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQsZSxyLG4saSl7dC5hcHBseUZpbHRlcih0aGlzLGUscixuKX0sbyh0LFt7a2V5OlxcXCJibGVuZE1vZGVcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ibGVuZE1vZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9ibGVuZE1vZGU9dH19XSxbe2tleTpcXFwiZGVmYXVsdFZlcnRleFNyY1xcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuW1xcXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxcIixcXFwiYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXFwiLFxcXCJ1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXFwiLFxcXCJ1bmlmb3JtIG1hdDMgZmlsdGVyTWF0cml4O1xcXCIsXFxcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXCIsXFxcInZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxcIixcXFwidm9pZCBtYWluKHZvaWQpe1xcXCIsXFxcIiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcXCIsXFxcIiAgIHZGaWx0ZXJDb29yZCA9ICggZmlsdGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXFwiLFxcXCIgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZCA7XFxcIixcXFwifVxcXCJdLmpvaW4oXFxcIlxcXFxuXFxcIil9fSx7a2V5OlxcXCJkZWZhdWx0RnJhZ21lbnRTcmNcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybltcXFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxcIixcXFwidmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXFwiLFxcXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXFwiLFxcXCJ1bmlmb3JtIHNhbXBsZXIyRCBmaWx0ZXJTYW1wbGVyO1xcXCIsXFxcInZvaWQgbWFpbih2b2lkKXtcXFwiLFxcXCIgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKGZpbHRlclNhbXBsZXIsIHZGaWx0ZXJDb29yZCk7XFxcIixcXFwiICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcXCIsXFxcIiAgIHZlYzQgY29sb3I7XFxcIixcXFwiICAgaWYobW9kKHZGaWx0ZXJDb29yZC54LCAxLjApID4gMC41KVxcXCIsXFxcIiAgIHtcXFwiLFxcXCIgICAgIGNvbG9yID0gdmVjNCgxLjAsIDAuMCwgMC4wLCAxLjApO1xcXCIsXFxcIiAgIH1cXFwiLFxcXCIgICBlbHNlXFxcIixcXFwiICAge1xcXCIsXFxcIiAgICAgY29sb3IgPSB2ZWM0KDAuMCwgMS4wLCAwLjAsIDEuMCk7XFxcIixcXFwiICAgfVxcXCIsXFxcIiAgIGdsX0ZyYWdDb2xvciA9IG1peChzYW1wbGUsIG1hc2t5LCAwLjUpO1xcXCIsXFxcIiAgIGdsX0ZyYWdDb2xvciAqPSBzYW1wbGUuYTtcXFwiLFxcXCJ9XFxcIl0uam9pbihcXFwiXFxcXG5cXFwiKX19XSksdH0oKTtyLmRlZmF1bHQ9Zn0se1xcXCIuLi8uLi8uLi9jb25zdFxcXCI6NDYsXFxcIi4uLy4uLy4uL3NldHRpbmdzXFxcIjoxMDEsXFxcIi4uLy4uLy4uL3V0aWxzXFxcIjoxMjUsXFxcIi4vZXh0cmFjdFVuaWZvcm1zRnJvbVNyY1xcXCI6ODd9XSw4NzpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSxyKXt2YXIgbj1pKHQpLG89aShlKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihuLG8pfWZ1bmN0aW9uIGkodCl7Zm9yKHZhciBlPW5ldyBSZWdFeHAoXFxcIl4ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnxmaWx0ZXJBcmVhfGZpbHRlckNsYW1wKSRcXFwiKSxyPXt9LG49dm9pZCAwLGk9dC5yZXBsYWNlKC9cXFxccysvZyxcXFwiIFxcXCIpLnNwbGl0KC9cXFxccyo7XFxcXHMqLyksbz0wO288aS5sZW5ndGg7bysrKXt2YXIgcz1pW29dLnRyaW0oKTtpZihzLmluZGV4T2YoXFxcInVuaWZvcm1cXFwiKT4tMSl7dmFyIHU9cy5zcGxpdChcXFwiIFxcXCIpLGg9dVsxXSxsPXVbMl0sYz0xO2wuaW5kZXhPZihcXFwiW1xcXCIpPi0xJiYobj1sLnNwbGl0KC9cXFxcW3xdLyksbD1uWzBdLGMqPU51bWJlcihuWzFdKSksbC5tYXRjaChlKXx8KHJbbF09e3ZhbHVlOmEoaCxjKSxuYW1lOmwsdHlwZTpofSl9fXJldHVybiByfXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9bjt2YXIgbz10KFxcXCJwaXhpLWdsLWNvcmVcXFwiKSxzPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0obyksYT1zLmRlZmF1bHQuc2hhZGVyLmRlZmF1bHRWYWx1ZX0se1xcXCJwaXhpLWdsLWNvcmVcXFwiOjE1fV0sODg6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUscil7dmFyIG49dC5pZGVudGl0eSgpO3JldHVybiBuLnRyYW5zbGF0ZShlLngvci53aWR0aCxlLnkvci5oZWlnaHQpLG4uc2NhbGUoci53aWR0aCxyLmhlaWdodCksbn1mdW5jdGlvbiBpKHQsZSxyKXt2YXIgbj10LmlkZW50aXR5KCk7bi50cmFuc2xhdGUoZS54L3Iud2lkdGgsZS55L3IuaGVpZ2h0KTt2YXIgaT1yLndpZHRoL2Uud2lkdGgsbz1yLmhlaWdodC9lLmhlaWdodDtyZXR1cm4gbi5zY2FsZShpLG8pLG59ZnVuY3Rpb24gbyh0LGUscixuKXt2YXIgaT1uLl90ZXh0dXJlLm9yaWcsbz10LnNldChyLndpZHRoLDAsMCxyLmhlaWdodCxlLngsZS55KSxhPW4ud29ybGRUcmFuc2Zvcm0uY29weShzLk1hdHJpeC5URU1QX01BVFJJWCk7cmV0dXJuIGEuaW52ZXJ0KCksby5wcmVwZW5kKGEpLG8uc2NhbGUoMS9pLndpZHRoLDEvaS5oZWlnaHQpLG8udHJhbnNsYXRlKG4uYW5jaG9yLngsbi5hbmNob3IueSksb31yLl9fZXNNb2R1bGU9ITAsci5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeD1uLHIuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4PWksci5jYWxjdWxhdGVTcHJpdGVNYXRyaXg9bzt2YXIgcz10KFxcXCIuLi8uLi8uLi9tYXRoXFxcIil9LHtcXFwiLi4vLi4vLi4vbWF0aFxcXCI6NzB9XSw4OTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT10KFxcXCIuLi9GaWx0ZXJcXFwiKSx1PW4oYSksaD10KFxcXCIuLi8uLi8uLi8uLi9tYXRoXFxcIiksbD0odChcXFwicGF0aFxcXCIpLHQoXFxcIi4uLy4uLy4uLy4uL3RleHR1cmVzL1RleHR1cmVNYXRyaXhcXFwiKSksYz1uKGwpLGQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpKHRoaXMsZSk7dmFyIG49bmV3IGguTWF0cml4LHM9byh0aGlzLHQuY2FsbCh0aGlzLFxcXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcXFxuXFxcXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXFxcbnVuaWZvcm0gbWF0MyBvdGhlck1hdHJpeDtcXFxcblxcXFxudmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXFxcblxcXFxudm9pZCBtYWluKHZvaWQpXFxcXG57XFxcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxcXG5cXFxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXFxcbiAgICB2TWFza0Nvb3JkID0gKCBvdGhlck1hdHJpeCAqIHZlYzMoIGFUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxcXG59XFxcXG5cXFwiLFxcXCJ2YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXFxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXFxuXFxcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXFxcbnVuaWZvcm0gc2FtcGxlcjJEIG1hc2s7XFxcXG51bmlmb3JtIGZsb2F0IGFscGhhO1xcXFxudW5pZm9ybSB2ZWM0IG1hc2tDbGFtcDtcXFxcblxcXFxudm9pZCBtYWluKHZvaWQpXFxcXG57XFxcXG4gICAgZmxvYXQgY2xpcCA9IHN0ZXAoMy41LFxcXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC54LCB2TWFza0Nvb3JkLngpICtcXFxcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC54LCBtYXNrQ2xhbXAueikgK1xcXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueSwgbWFza0NsYW1wLncpKTtcXFxcblxcXFxuICAgIHZlYzQgb3JpZ2luYWwgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcXFxuICAgIHZlYzQgbWFza3kgPSB0ZXh0dXJlMkQobWFzaywgdk1hc2tDb29yZCk7XFxcXG5cXFxcbiAgICBvcmlnaW5hbCAqPSAobWFza3kuciAqIG1hc2t5LmEgKiBhbHBoYSAqIGNsaXApO1xcXFxuXFxcXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3JpZ2luYWw7XFxcXG59XFxcXG5cXFwiKSk7cmV0dXJuIHIucmVuZGVyYWJsZT0hMSxzLm1hc2tTcHJpdGU9cixzLm1hc2tNYXRyaXg9bixzfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcy5tYXNrU3ByaXRlLG89dGhpcy5tYXNrU3ByaXRlLnRleHR1cmU7by52YWxpZCYmKG8udHJhbnNmb3JtfHwoby50cmFuc2Zvcm09bmV3IGMuZGVmYXVsdChvLDApKSxvLnRyYW5zZm9ybS51cGRhdGUoKSx0aGlzLnVuaWZvcm1zLm1hc2s9byx0aGlzLnVuaWZvcm1zLm90aGVyTWF0cml4PXQuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCxpKS5wcmVwZW5kKG8udHJhbnNmb3JtLm1hcENvb3JkKSx0aGlzLnVuaWZvcm1zLmFscGhhPWkud29ybGRBbHBoYSx0aGlzLnVuaWZvcm1zLm1hc2tDbGFtcD1vLnRyYW5zZm9ybS51Q2xhbXBGcmFtZSx0LmFwcGx5RmlsdGVyKHRoaXMsZSxyLG4pKX0sZX0odS5kZWZhdWx0KTtyLmRlZmF1bHQ9ZH0se1xcXCIuLi8uLi8uLi8uLi9tYXRoXFxcIjo3MCxcXFwiLi4vLi4vLi4vLi4vdGV4dHVyZXMvVGV4dHVyZU1hdHJpeFxcXCI6MTE2LFxcXCIuLi9GaWx0ZXJcXFwiOjg2LHBhdGg6OH1dLDkwOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1mdW5jdGlvbiBzKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXFxcIi4vV2ViR0xNYW5hZ2VyXFxcIiksdT1uKGEpLGg9dChcXFwiLi4vdXRpbHMvUmVuZGVyVGFyZ2V0XFxcIiksbD1uKGgpLGM9dChcXFwiLi4vdXRpbHMvUXVhZFxcXCIpLGQ9bihjKSxmPXQoXFxcIi4uLy4uLy4uL21hdGhcXFwiKSxwPXQoXFxcIi4uLy4uLy4uL1NoYWRlclxcXCIpLHY9bihwKSxnPXQoXFxcIi4uL2ZpbHRlcnMvZmlsdGVyVHJhbnNmb3Jtc1xcXCIpLHk9ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShnKSxtPXQoXFxcImJpdC10d2lkZGxlXFxcIiksXz1uKG0pLGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cyh0aGlzLHQpLHRoaXMucmVuZGVyVGFyZ2V0PW51bGwsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLnJlc29sdXRpb249MSx0aGlzLnNvdXJjZUZyYW1lPW5ldyBmLlJlY3RhbmdsZSx0aGlzLmRlc3RpbmF0aW9uRnJhbWU9bmV3IGYuUmVjdGFuZ2xlLHRoaXMuZmlsdGVycz1bXX1yZXR1cm4gdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmZpbHRlcnM9bnVsbCx0aGlzLnRhcmdldD1udWxsLHRoaXMucmVuZGVyVGFyZ2V0PW51bGx9LHR9KCkseD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe3ModGhpcyxlKTt2YXIgbj1pKHRoaXMsdC5jYWxsKHRoaXMscikpO3JldHVybiBuLmdsPW4ucmVuZGVyZXIuZ2wsbi5xdWFkPW5ldyBkLmRlZmF1bHQobi5nbCxyLnN0YXRlLmF0dHJpYlN0YXRlKSxuLnNoYWRlckNhY2hlPXt9LG4ucG9vbD17fSxuLmZpbHRlckRhdGE9bnVsbCxuLm1hbmFnZWRGaWx0ZXJzPVtdLG4ucmVuZGVyZXIub24oXFxcInByZXJlbmRlclxcXCIsbi5vblByZXJlbmRlcixuKSxuLl9zY3JlZW5XaWR0aD1yLnZpZXcud2lkdGgsbi5fc2NyZWVuSGVpZ2h0PXIudmlldy5oZWlnaHQsbn1yZXR1cm4gbyhlLHQpLGUucHJvdG90eXBlLnB1c2hGaWx0ZXI9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLnJlbmRlcmVyLG49dGhpcy5maWx0ZXJEYXRhO2lmKCFuKXtuPXRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5maWx0ZXJTdGFjazt2YXIgaT1uZXcgYjtpLnNvdXJjZUZyYW1lPWkuZGVzdGluYXRpb25GcmFtZT10aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuc2l6ZSxpLnJlbmRlclRhcmdldD1yLl9hY3RpdmVSZW5kZXJUYXJnZXQsdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LmZpbHRlckRhdGE9bj17aW5kZXg6MCxzdGFjazpbaV19LHRoaXMuZmlsdGVyRGF0YT1ufXZhciBvPW4uc3RhY2tbKytuLmluZGV4XSxzPW4uc3RhY2tbMF0uZGVzdGluYXRpb25GcmFtZTtvfHwobz1uLnN0YWNrW24uaW5kZXhdPW5ldyBiKTt2YXIgYT10LmZpbHRlckFyZWEmJjA9PT10LmZpbHRlckFyZWEueCYmMD09PXQuZmlsdGVyQXJlYS55JiZ0LmZpbHRlckFyZWEud2lkdGg9PT1yLnNjcmVlbi53aWR0aCYmdC5maWx0ZXJBcmVhLmhlaWdodD09PXIuc2NyZWVuLmhlaWdodCx1PWVbMF0ucmVzb2x1dGlvbixoPTB8ZVswXS5wYWRkaW5nLGw9YT9yLnNjcmVlbjp0LmZpbHRlckFyZWF8fHQuZ2V0Qm91bmRzKCEwKSxjPW8uc291cmNlRnJhbWUsZD1vLmRlc3RpbmF0aW9uRnJhbWU7Yy54PShsLngqdXwwKS91LGMueT0obC55KnV8MCkvdSxjLndpZHRoPShsLndpZHRoKnV8MCkvdSxjLmhlaWdodD0obC5oZWlnaHQqdXwwKS91LGF8fChuLnN0YWNrWzBdLnJlbmRlclRhcmdldC50cmFuc2Zvcm18fGVbMF0uYXV0b0ZpdCYmYy5maXQocyksYy5wYWQoaCkpLGQud2lkdGg9Yy53aWR0aCxkLmhlaWdodD1jLmhlaWdodDt2YXIgZj10aGlzLmdldFBvdFJlbmRlclRhcmdldChyLmdsLGMud2lkdGgsYy5oZWlnaHQsdSk7by50YXJnZXQ9dCxvLmZpbHRlcnM9ZSxvLnJlc29sdXRpb249dSxvLnJlbmRlclRhcmdldD1mLGYuc2V0RnJhbWUoZCxjKSxyLmJpbmRSZW5kZXJUYXJnZXQoZiksZi5jbGVhcigpfSxlLnByb3RvdHlwZS5wb3BGaWx0ZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmZpbHRlckRhdGEsZT10LnN0YWNrW3QuaW5kZXgtMV0scj10LnN0YWNrW3QuaW5kZXhdO3RoaXMucXVhZC5tYXAoci5yZW5kZXJUYXJnZXQuc2l6ZSxyLnNvdXJjZUZyYW1lKS51cGxvYWQoKTt2YXIgbj1yLmZpbHRlcnM7aWYoMT09PW4ubGVuZ3RoKW5bMF0uYXBwbHkodGhpcyxyLnJlbmRlclRhcmdldCxlLnJlbmRlclRhcmdldCwhMSxyKSx0aGlzLmZyZWVQb3RSZW5kZXJUYXJnZXQoci5yZW5kZXJUYXJnZXQpO2Vsc2V7dmFyIGk9ci5yZW5kZXJUYXJnZXQsbz10aGlzLmdldFBvdFJlbmRlclRhcmdldCh0aGlzLnJlbmRlcmVyLmdsLHIuc291cmNlRnJhbWUud2lkdGgsci5zb3VyY2VGcmFtZS5oZWlnaHQsci5yZXNvbHV0aW9uKTtvLnNldEZyYW1lKHIuZGVzdGluYXRpb25GcmFtZSxyLnNvdXJjZUZyYW1lKSxvLmNsZWFyKCk7dmFyIHM9MDtmb3Iocz0wO3M8bi5sZW5ndGgtMTsrK3Mpe25bc10uYXBwbHkodGhpcyxpLG8sITAscik7dmFyIGE9aTtpPW8sbz1hfW5bc10uYXBwbHkodGhpcyxpLGUucmVuZGVyVGFyZ2V0LCExLHIpLHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChpKSx0aGlzLmZyZWVQb3RSZW5kZXJUYXJnZXQobyl9ci5jbGVhcigpLDA9PT0tLXQuaW5kZXgmJih0aGlzLmZpbHRlckRhdGE9bnVsbCl9LGUucHJvdG90eXBlLmFwcGx5RmlsdGVyPWZ1bmN0aW9uKHQsZSxyLG4pe1xcbnZhciBpPXRoaXMucmVuZGVyZXIsbz1pLmdsLHM9dC5nbFNoYWRlcnNbaS5DT05URVhUX1VJRF07c3x8KHQuZ2xTaGFkZXJLZXk/KHM9dGhpcy5zaGFkZXJDYWNoZVt0LmdsU2hhZGVyS2V5XSl8fChzPW5ldyB2LmRlZmF1bHQodGhpcy5nbCx0LnZlcnRleFNyYyx0LmZyYWdtZW50U3JjKSx0LmdsU2hhZGVyc1tpLkNPTlRFWFRfVUlEXT10aGlzLnNoYWRlckNhY2hlW3QuZ2xTaGFkZXJLZXldPXMsdGhpcy5tYW5hZ2VkRmlsdGVycy5wdXNoKHQpKToocz10LmdsU2hhZGVyc1tpLkNPTlRFWFRfVUlEXT1uZXcgdi5kZWZhdWx0KHRoaXMuZ2wsdC52ZXJ0ZXhTcmMsdC5mcmFnbWVudFNyYyksdGhpcy5tYW5hZ2VkRmlsdGVycy5wdXNoKHQpKSxpLmJpbmRWYW8obnVsbCksdGhpcy5xdWFkLmluaXRWYW8ocykpLGkuYmluZFZhbyh0aGlzLnF1YWQudmFvKSxpLmJpbmRSZW5kZXJUYXJnZXQociksbiYmKG8uZGlzYWJsZShvLlNDSVNTT1JfVEVTVCksaS5jbGVhcigpLG8uZW5hYmxlKG8uU0NJU1NPUl9URVNUKSkscj09PWkubWFza01hbmFnZXIuc2Npc3NvclJlbmRlclRhcmdldCYmaS5tYXNrTWFuYWdlci5wdXNoU2Npc3Nvck1hc2sobnVsbCxpLm1hc2tNYW5hZ2VyLnNjaXNzb3JEYXRhKSxpLmJpbmRTaGFkZXIocyk7dmFyIGE9dGhpcy5yZW5kZXJlci5lbXB0eVRleHR1cmVzWzBdO3RoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlc1swXT1hLHRoaXMuc3luY1VuaWZvcm1zKHMsdCksaS5zdGF0ZS5zZXRCbGVuZE1vZGUodC5ibGVuZE1vZGUpLG8uYWN0aXZlVGV4dHVyZShvLlRFWFRVUkUwKSxvLmJpbmRUZXh0dXJlKG8uVEVYVFVSRV8yRCxlLnRleHR1cmUudGV4dHVyZSksdGhpcy5xdWFkLnZhby5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLDYsMCksby5iaW5kVGV4dHVyZShvLlRFWFRVUkVfMkQsYS5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXS50ZXh0dXJlKX0sZS5wcm90b3R5cGUuc3luY1VuaWZvcm1zPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS51bmlmb3JtRGF0YSxuPWUudW5pZm9ybXMsaT0xLG89dm9pZCAwO2lmKHQudW5pZm9ybXMuZmlsdGVyQXJlYSl7bz10aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTt2YXIgcz10LnVuaWZvcm1zLmZpbHRlckFyZWE7c1swXT1vLnJlbmRlclRhcmdldC5zaXplLndpZHRoLHNbMV09by5yZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQsc1syXT1vLnNvdXJjZUZyYW1lLngsc1szXT1vLnNvdXJjZUZyYW1lLnksdC51bmlmb3Jtcy5maWx0ZXJBcmVhPXN9aWYodC51bmlmb3Jtcy5maWx0ZXJDbGFtcCl7bz1vfHx0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTt2YXIgYT10LnVuaWZvcm1zLmZpbHRlckNsYW1wO2FbMF09MCxhWzFdPTAsYVsyXT0oby5zb3VyY2VGcmFtZS53aWR0aC0xKS9vLnJlbmRlclRhcmdldC5zaXplLndpZHRoLGFbM109KG8uc291cmNlRnJhbWUuaGVpZ2h0LTEpL28ucmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0LHQudW5pZm9ybXMuZmlsdGVyQ2xhbXA9YX1mb3IodmFyIHUgaW4gcilpZih0LnVuaWZvcm1zLmRhdGFbdV0pe3ZhciBoPXJbdV0udHlwZTtpZihcXFwic2FtcGxlcjJkXFxcIj09PWgmJjAhPT1uW3VdKXtpZihuW3VdLmJhc2VUZXh0dXJlKXQudW5pZm9ybXNbdV09dGhpcy5yZW5kZXJlci5iaW5kVGV4dHVyZShuW3VdLmJhc2VUZXh0dXJlLGkpO2Vsc2V7dC51bmlmb3Jtc1t1XT1pO3ZhciBsPXRoaXMucmVuZGVyZXIuZ2w7dGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzW2ldPXRoaXMucmVuZGVyZXIuZW1wdHlUZXh0dXJlc1tpXSxsLmFjdGl2ZVRleHR1cmUobC5URVhUVVJFMCtpKSxuW3VdLnRleHR1cmUuYmluZCgpfWkrK31lbHNlIGlmKFxcXCJtYXQzXFxcIj09PWgpdm9pZCAwIT09blt1XS5hP3QudW5pZm9ybXNbdV09blt1XS50b0FycmF5KCEwKTp0LnVuaWZvcm1zW3VdPW5bdV07ZWxzZSBpZihcXFwidmVjMlxcXCI9PT1oKWlmKHZvaWQgMCE9PW5bdV0ueCl7dmFyIGM9dC51bmlmb3Jtc1t1XXx8bmV3IEZsb2F0MzJBcnJheSgyKTtjWzBdPW5bdV0ueCxjWzFdPW5bdV0ueSx0LnVuaWZvcm1zW3VdPWN9ZWxzZSB0LnVuaWZvcm1zW3VdPW5bdV07ZWxzZVxcXCJmbG9hdFxcXCI9PT1oP3QudW5pZm9ybXMuZGF0YVt1XS52YWx1ZSE9PXJbdV0mJih0LnVuaWZvcm1zW3VdPW5bdV0pOnQudW5pZm9ybXNbdV09blt1XX19LGUucHJvdG90eXBlLmdldFJlbmRlclRhcmdldD1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdLG49dGhpcy5nZXRQb3RSZW5kZXJUYXJnZXQodGhpcy5yZW5kZXJlci5nbCxyLnNvdXJjZUZyYW1lLndpZHRoLHIuc291cmNlRnJhbWUuaGVpZ2h0LGV8fHIucmVzb2x1dGlvbik7cmV0dXJuIG4uc2V0RnJhbWUoci5kZXN0aW5hdGlvbkZyYW1lLHIuc291cmNlRnJhbWUpLG59LGUucHJvdG90eXBlLnJldHVyblJlbmRlclRhcmdldD1mdW5jdGlvbih0KXt0aGlzLmZyZWVQb3RSZW5kZXJUYXJnZXQodCl9LGUucHJvdG90eXBlLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO3JldHVybiB5LmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4KHQsZS5zb3VyY2VGcmFtZSxlLnJlbmRlclRhcmdldC5zaXplKX0sZS5wcm90b3R5cGUuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO3JldHVybiB5LmNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCh0LGUuc291cmNlRnJhbWUsZS5yZW5kZXJUYXJnZXQuc2l6ZSxlLmRlc3RpbmF0aW9uRnJhbWUpfSxlLnByb3RvdHlwZS5jYWxjdWxhdGVTcHJpdGVNYXRyaXg9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtyZXR1cm4geS5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodCxyLnNvdXJjZUZyYW1lLHIucmVuZGVyVGFyZ2V0LnNpemUsZSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLGU9dGhpcy5yZW5kZXJlcixyPXRoaXMubWFuYWdlZEZpbHRlcnM7ZS5vZmYoXFxcInByZXJlbmRlclxcXCIsdGhpcy5vblByZXJlbmRlcix0aGlzKTtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl0fHxyW25dLmdsU2hhZGVyc1tlLkNPTlRFWFRfVUlEXS5kZXN0cm95KCksZGVsZXRlIHJbbl0uZ2xTaGFkZXJzW2UuQ09OVEVYVF9VSURdO3RoaXMuc2hhZGVyQ2FjaGU9e30sdD90aGlzLnBvb2w9e306dGhpcy5lbXB0eVBvb2woKX0sZS5wcm90b3R5cGUuZ2V0UG90UmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPVxcXCJzY3JlZW5cXFwiO2UqPW4scio9bixlPT09dGhpcy5fc2NyZWVuV2lkdGgmJnI9PT10aGlzLl9zY3JlZW5IZWlnaHR8fChlPV8uZGVmYXVsdC5uZXh0UG93MihlKSxyPV8uZGVmYXVsdC5uZXh0UG93MihyKSxpPSg2NTUzNSZlKTw8MTZ8NjU1MzUmciksdGhpcy5wb29sW2ldfHwodGhpcy5wb29sW2ldPVtdKTt2YXIgbz10aGlzLnBvb2xbaV0ucG9wKCk7aWYoIW8pe3ZhciBzPXRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlc1swXTt0LmFjdGl2ZVRleHR1cmUodC5URVhUVVJFMCksbz1uZXcgbC5kZWZhdWx0KHQsZSxyLG51bGwsMSksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQscy5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXS50ZXh0dXJlKX1yZXR1cm4gby5yZXNvbHV0aW9uPW4sby5kZWZhdWx0RnJhbWUud2lkdGg9by5zaXplLndpZHRoPWUvbixvLmRlZmF1bHRGcmFtZS5oZWlnaHQ9by5zaXplLmhlaWdodD1yL24sby5maWx0ZXJQb29sS2V5PWksb30sZS5wcm90b3R5cGUuZW1wdHlQb29sPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMucG9vbCl7dmFyIGU9dGhpcy5wb29sW3RdO2lmKGUpZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspZVtyXS5kZXN0cm95KCEwKX10aGlzLnBvb2w9e319LGUucHJvdG90eXBlLmZyZWVQb3RSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24odCl7dGhpcy5wb29sW3QuZmlsdGVyUG9vbEtleV0ucHVzaCh0KX0sZS5wcm90b3R5cGUub25QcmVyZW5kZXI9ZnVuY3Rpb24oKXtpZih0aGlzLl9zY3JlZW5XaWR0aCE9PXRoaXMucmVuZGVyZXIudmlldy53aWR0aHx8dGhpcy5fc2NyZWVuSGVpZ2h0IT09dGhpcy5yZW5kZXJlci52aWV3LmhlaWdodCl7dGhpcy5fc2NyZWVuV2lkdGg9dGhpcy5yZW5kZXJlci52aWV3LndpZHRoLHRoaXMuX3NjcmVlbkhlaWdodD10aGlzLnJlbmRlcmVyLnZpZXcuaGVpZ2h0O3ZhciB0PXRoaXMucG9vbC5zY3JlZW47aWYodClmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmRlc3Ryb3koITApO3RoaXMucG9vbC5zY3JlZW49W119fSxlfSh1LmRlZmF1bHQpO3IuZGVmYXVsdD14fSx7XFxcIi4uLy4uLy4uL1NoYWRlclxcXCI6NDQsXFxcIi4uLy4uLy4uL21hdGhcXFwiOjcwLFxcXCIuLi9maWx0ZXJzL2ZpbHRlclRyYW5zZm9ybXNcXFwiOjg4LFxcXCIuLi91dGlscy9RdWFkXFxcIjo5NSxcXFwiLi4vdXRpbHMvUmVuZGVyVGFyZ2V0XFxcIjo5NixcXFwiLi9XZWJHTE1hbmFnZXJcXFwiOjkzLFxcXCJiaXQtdHdpZGRsZVxcXCI6MX1dLDkxOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXFxcIi4vV2ViR0xNYW5hZ2VyXFxcIiksdT1uKGEpLGg9dChcXFwiLi4vZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXJcXFwiKSxsPW4oaCksYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2kodGhpcyxlKTt2YXIgbj1vKHRoaXMsdC5jYWxsKHRoaXMscikpO3JldHVybiBuLnNjaXNzb3I9ITEsbi5zY2lzc29yRGF0YT1udWxsLG4uc2Npc3NvclJlbmRlclRhcmdldD1udWxsLG4uZW5hYmxlU2Npc3Nvcj0hMCxuLmFscGhhTWFza1Bvb2w9W10sbi5hbHBoYU1hc2tJbmRleD0wLG59cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5wdXNoTWFzaz1mdW5jdGlvbih0LGUpe2lmKGUudGV4dHVyZSl0aGlzLnB1c2hTcHJpdGVNYXNrKHQsZSk7ZWxzZSBpZih0aGlzLmVuYWJsZVNjaXNzb3ImJiF0aGlzLnNjaXNzb3ImJnRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5yb290JiYhdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCYmZS5pc0Zhc3RSZWN0KCkpe3ZhciByPWUud29ybGRUcmFuc2Zvcm0sbj1NYXRoLmF0YW4yKHIuYixyLmEpO249TWF0aC5yb3VuZChuKigxODAvTWF0aC5QSSkpLG4lOTA/dGhpcy5wdXNoU3RlbmNpbE1hc2soZSk6dGhpcy5wdXNoU2Npc3Nvck1hc2sodCxlKX1lbHNlIHRoaXMucHVzaFN0ZW5jaWxNYXNrKGUpfSxlLnByb3RvdHlwZS5wb3BNYXNrPWZ1bmN0aW9uKHQsZSl7ZS50ZXh0dXJlP3RoaXMucG9wU3ByaXRlTWFzayh0LGUpOnRoaXMuZW5hYmxlU2Npc3NvciYmIXRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGg/dGhpcy5wb3BTY2lzc29yTWFzayh0LGUpOnRoaXMucG9wU3RlbmNpbE1hc2sodCxlKX0sZS5wcm90b3R5cGUucHVzaFNwcml0ZU1hc2s9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF07cnx8KHI9dGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdPVtuZXcgbC5kZWZhdWx0KGUpXSksclswXS5yZXNvbHV0aW9uPXRoaXMucmVuZGVyZXIucmVzb2x1dGlvbixyWzBdLm1hc2tTcHJpdGU9ZTt2YXIgbj10LmZpbHRlckFyZWE7dC5maWx0ZXJBcmVhPWUuZ2V0Qm91bmRzKCEwKSx0aGlzLnJlbmRlcmVyLmZpbHRlck1hbmFnZXIucHVzaEZpbHRlcih0LHIpLHQuZmlsdGVyQXJlYT1uLHRoaXMuYWxwaGFNYXNrSW5kZXgrK30sZS5wcm90b3R5cGUucG9wU3ByaXRlTWFzaz1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIuZmlsdGVyTWFuYWdlci5wb3BGaWx0ZXIoKSx0aGlzLmFscGhhTWFza0luZGV4LS19LGUucHJvdG90eXBlLnB1c2hTdGVuY2lsTWFzaz1mdW5jdGlvbih0KXt0aGlzLnJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5zdG9wKCksdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5wdXNoU3RlbmNpbCh0KX0sZS5wcm90b3R5cGUucG9wU3RlbmNpbE1hc2s9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5zdG9wKCksdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5wb3BTdGVuY2lsKCl9LGUucHJvdG90eXBlLnB1c2hTY2lzc29yTWFzaz1mdW5jdGlvbih0LGUpe2UucmVuZGVyYWJsZT0hMDt2YXIgcj10aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQsbj1lLmdldEJvdW5kcygpO24uZml0KHIuc2l6ZSksZS5yZW5kZXJhYmxlPSExLHRoaXMucmVuZGVyZXIuZ2wuZW5hYmxlKHRoaXMucmVuZGVyZXIuZ2wuU0NJU1NPUl9URVNUKTt2YXIgaT10aGlzLnJlbmRlcmVyLnJlc29sdXRpb247dGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKG4ueCppLChyLnJvb3Q/ci5zaXplLmhlaWdodC1uLnktbi5oZWlnaHQ6bi55KSppLG4ud2lkdGgqaSxuLmhlaWdodCppKSx0aGlzLnNjaXNzb3JSZW5kZXJUYXJnZXQ9cix0aGlzLnNjaXNzb3JEYXRhPWUsdGhpcy5zY2lzc29yPSEwfSxlLnByb3RvdHlwZS5wb3BTY2lzc29yTWFzaz1mdW5jdGlvbigpe3RoaXMuc2Npc3NvclJlbmRlclRhcmdldD1udWxsLHRoaXMuc2Npc3NvckRhdGE9bnVsbCx0aGlzLnNjaXNzb3I9ITE7dmFyIHQ9dGhpcy5yZW5kZXJlci5nbDt0LmRpc2FibGUodC5TQ0lTU09SX1RFU1QpfSxlfSh1LmRlZmF1bHQpO3IuZGVmYXVsdD1jfSx7XFxcIi4uL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyXFxcIjo4OSxcXFwiLi9XZWJHTE1hbmFnZXJcXFwiOjkzfV0sOTI6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHM9dChcXFwiLi9XZWJHTE1hbmFnZXJcXFwiKSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0ocyksdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe24odGhpcyxlKTt2YXIgbz1pKHRoaXMsdC5jYWxsKHRoaXMscikpO3JldHVybiBvLnN0ZW5jaWxNYXNrU3RhY2s9bnVsbCxvfXJldHVybiBvKGUsdCksZS5wcm90b3R5cGUuc2V0TWFza1N0YWNrPWZ1bmN0aW9uKHQpe3RoaXMuc3RlbmNpbE1hc2tTdGFjaz10O3ZhciBlPXRoaXMucmVuZGVyZXIuZ2w7MD09PXQubGVuZ3RoP2UuZGlzYWJsZShlLlNURU5DSUxfVEVTVCk6ZS5lbmFibGUoZS5TVEVOQ0lMX1RFU1QpfSxlLnByb3RvdHlwZS5wdXNoU3RlbmNpbD1mdW5jdGlvbih0KXt0aGlzLnJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcyksdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LmF0dGFjaFN0ZW5jaWxCdWZmZXIoKTt2YXIgZT10aGlzLnJlbmRlcmVyLmdsLHI9dGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aDswPT09ciYmZS5lbmFibGUoZS5TVEVOQ0lMX1RFU1QpLHRoaXMuc3RlbmNpbE1hc2tTdGFjay5wdXNoKHQpLGUuY29sb3JNYXNrKCExLCExLCExLCExKSxlLnN0ZW5jaWxGdW5jKGUuRVFVQUwscix0aGlzLl9nZXRCaXR3aXNlTWFzaygpKSxlLnN0ZW5jaWxPcChlLktFRVAsZS5LRUVQLGUuSU5DUiksdGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcih0KSx0aGlzLl91c2VDdXJyZW50KCl9LGUucHJvdG90eXBlLnBvcFN0ZW5jaWw9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcyk7dmFyIHQ9dGhpcy5yZW5kZXJlci5nbCxlPXRoaXMuc3RlbmNpbE1hc2tTdGFjay5wb3AoKTswPT09dGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aD8odC5kaXNhYmxlKHQuU1RFTkNJTF9URVNUKSx0LmNsZWFyKHQuU1RFTkNJTF9CVUZGRVJfQklUKSx0LmNsZWFyU3RlbmNpbCgwKSk6KHQuY29sb3JNYXNrKCExLCExLCExLCExKSx0LnN0ZW5jaWxPcCh0LktFRVAsdC5LRUVQLHQuREVDUiksdGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcihlKSx0aGlzLl91c2VDdXJyZW50KCkpfSxlLnByb3RvdHlwZS5fdXNlQ3VycmVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMucmVuZGVyZXIuZ2w7dC5jb2xvck1hc2soITAsITAsITAsITApLHQuc3RlbmNpbEZ1bmModC5FUVVBTCx0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoLHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpLHQuc3RlbmNpbE9wKHQuS0VFUCx0LktFRVAsdC5LRUVQKX0sZS5wcm90b3R5cGUuX2dldEJpdHdpc2VNYXNrPWZ1bmN0aW9uKCl7cmV0dXJuKDE8PHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgpLTF9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXthLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLnN0ZW5jaWxNYXNrU3RhY2suc3RlbmNpbFN0YWNrPW51bGx9LGV9KGEuZGVmYXVsdCk7ci5kZWZhdWx0PXV9LHtcXFwiLi9XZWJHTE1hbmFnZXJcXFwiOjkzfV0sOTM6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7bih0aGlzLHQpLHRoaXMucmVuZGVyZXI9ZSx0aGlzLnJlbmRlcmVyLm9uKFxcXCJjb250ZXh0XFxcIix0aGlzLm9uQ29udGV4dENoYW5nZSx0aGlzKX1yZXR1cm4gdC5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5vZmYoXFxcImNvbnRleHRcXFwiLHRoaXMub25Db250ZXh0Q2hhbmdlLHRoaXMpLHRoaXMucmVuZGVyZXI9bnVsbH0sdH0oKTtyLmRlZmF1bHQ9aX0se31dLDk0OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBzPXQoXFxcIi4uL21hbmFnZXJzL1dlYkdMTWFuYWdlclxcXCIpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShzKSx1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbih0aGlzLGUpLGkodGhpcyx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG8oZSx0KSxlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuZmx1c2goKX0sZS5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0KXt9LGV9KGEuZGVmYXVsdCk7ci5kZWZhdWx0PXV9LHtcXFwiLi4vbWFuYWdlcnMvV2ViR0xNYW5hZ2VyXFxcIjo5M31dLDk1OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89dChcXFwicGl4aS1nbC1jb3JlXFxcIikscz1uKG8pLGE9dChcXFwiLi4vLi4vLi4vdXRpbHMvY3JlYXRlSW5kaWNlc0ZvclF1YWRzXFxcIiksdT1uKGEpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscil7aSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLnZlcnRpY2VzPW5ldyBGbG9hdDMyQXJyYXkoWy0xLC0xLDEsLTEsMSwxLC0xLDFdKSx0aGlzLnV2cz1uZXcgRmxvYXQzMkFycmF5KFswLDAsMSwwLDEsMSwwLDFdKSx0aGlzLmludGVybGVhdmVkPW5ldyBGbG9hdDMyQXJyYXkoMTYpO2Zvcih2YXIgbj0wO248NDtuKyspdGhpcy5pbnRlcmxlYXZlZFs0Km5dPXRoaXMudmVydGljZXNbMipuXSx0aGlzLmludGVybGVhdmVkWzQqbisxXT10aGlzLnZlcnRpY2VzWzIqbisxXSx0aGlzLmludGVybGVhdmVkWzQqbisyXT10aGlzLnV2c1syKm5dLHRoaXMuaW50ZXJsZWF2ZWRbNCpuKzNdPXRoaXMudXZzWzIqbisxXTt0aGlzLmluZGljZXM9KDAsdS5kZWZhdWx0KSgxKSx0aGlzLnZlcnRleEJ1ZmZlcj1zLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGUsdGhpcy5pbnRlcmxlYXZlZCxlLlNUQVRJQ19EUkFXKSx0aGlzLmluZGV4QnVmZmVyPXMuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihlLHRoaXMuaW5kaWNlcyxlLlNUQVRJQ19EUkFXKSx0aGlzLnZhbz1uZXcgcy5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGUscil9cmV0dXJuIHQucHJvdG90eXBlLmluaXRWYW89ZnVuY3Rpb24odCl7dGhpcy52YW8uY2xlYXIoKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUodGhpcy52ZXJ0ZXhCdWZmZXIsdC5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbix0aGlzLmdsLkZMT0FULCExLDE2LDApLmFkZEF0dHJpYnV0ZSh0aGlzLnZlcnRleEJ1ZmZlcix0LmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCx0aGlzLmdsLkZMT0FULCExLDE2LDgpfSx0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXt2YXIgcj0wLG49MDtyZXR1cm4gdGhpcy51dnNbMF09cix0aGlzLnV2c1sxXT1uLHRoaXMudXZzWzJdPXIrZS53aWR0aC90LndpZHRoLHRoaXMudXZzWzNdPW4sdGhpcy51dnNbNF09citlLndpZHRoL3Qud2lkdGgsdGhpcy51dnNbNV09bitlLmhlaWdodC90LmhlaWdodCx0aGlzLnV2c1s2XT1yLHRoaXMudXZzWzddPW4rZS5oZWlnaHQvdC5oZWlnaHQscj1lLngsbj1lLnksdGhpcy52ZXJ0aWNlc1swXT1yLHRoaXMudmVydGljZXNbMV09bix0aGlzLnZlcnRpY2VzWzJdPXIrZS53aWR0aCx0aGlzLnZlcnRpY2VzWzNdPW4sdGhpcy52ZXJ0aWNlc1s0XT1yK2Uud2lkdGgsdGhpcy52ZXJ0aWNlc1s1XT1uK2UuaGVpZ2h0LHRoaXMudmVydGljZXNbNl09cix0aGlzLnZlcnRpY2VzWzddPW4rZS5oZWlnaHQsdGhpc30sdC5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDw0O3QrKyl0aGlzLmludGVybGVhdmVkWzQqdF09dGhpcy52ZXJ0aWNlc1syKnRdLHRoaXMuaW50ZXJsZWF2ZWRbNCp0KzFdPXRoaXMudmVydGljZXNbMip0KzFdLHRoaXMuaW50ZXJsZWF2ZWRbNCp0KzJdPXRoaXMudXZzWzIqdF0sdGhpcy5pbnRlcmxlYXZlZFs0KnQrM109dGhpcy51dnNbMip0KzFdO3JldHVybiB0aGlzLnZlcnRleEJ1ZmZlci51cGxvYWQodGhpcy5pbnRlcmxlYXZlZCksdGhpc30sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dC5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXIpLHQuZGVsZXRlQnVmZmVyKHRoaXMuaW5kZXhCdWZmZXIpfSx0fSgpO3IuZGVmYXVsdD1ofSx7XFxcIi4uLy4uLy4uL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkc1xcXCI6MTIzLFxcXCJwaXhpLWdsLWNvcmVcXFwiOjE1fV0sOTY6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFxcXCIuLi8uLi8uLi9tYXRoXFxcIiksbz10KFxcXCIuLi8uLi8uLi9jb25zdFxcXCIpLHM9dChcXFwiLi4vLi4vLi4vc2V0dGluZ3NcXFwiKSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0ocyksdT10KFxcXCJwaXhpLWdsLWNvcmVcXFwiKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHIscyxoLGwsYyl7bih0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLmZyYW1lQnVmZmVyPW51bGwsdGhpcy50ZXh0dXJlPW51bGwsdGhpcy5jbGVhckNvbG9yPVswLDAsMCwwXSx0aGlzLnNpemU9bmV3IGkuUmVjdGFuZ2xlKDAsMCwxLDEpLHRoaXMucmVzb2x1dGlvbj1sfHxhLmRlZmF1bHQuUkVTT0xVVElPTix0aGlzLnByb2plY3Rpb25NYXRyaXg9bmV3IGkuTWF0cml4LHRoaXMudHJhbnNmb3JtPW51bGwsdGhpcy5mcmFtZT1udWxsLHRoaXMuZGVmYXVsdEZyYW1lPW5ldyBpLlJlY3RhbmdsZSx0aGlzLmRlc3RpbmF0aW9uRnJhbWU9bnVsbCx0aGlzLnNvdXJjZUZyYW1lPW51bGwsdGhpcy5zdGVuY2lsQnVmZmVyPW51bGwsdGhpcy5zdGVuY2lsTWFza1N0YWNrPVtdLHRoaXMuZmlsdGVyRGF0YT1udWxsLHRoaXMuZmlsdGVyUG9vbEtleT1cXFwiXFxcIix0aGlzLnNjYWxlTW9kZT12b2lkIDAhPT1oP2g6YS5kZWZhdWx0LlNDQUxFX01PREUsdGhpcy5yb290PWN8fCExLHRoaXMucm9vdD8odGhpcy5mcmFtZUJ1ZmZlcj1uZXcgdS5HTEZyYW1lYnVmZmVyKGUsMTAwLDEwMCksdGhpcy5mcmFtZUJ1ZmZlci5mcmFtZWJ1ZmZlcj1udWxsKToodGhpcy5mcmFtZUJ1ZmZlcj11LkdMRnJhbWVidWZmZXIuY3JlYXRlUkdCQShlLDEwMCwxMDApLHRoaXMuc2NhbGVNb2RlPT09by5TQ0FMRV9NT0RFUy5ORUFSRVNUP3RoaXMuZnJhbWVCdWZmZXIudGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpOnRoaXMuZnJhbWVCdWZmZXIudGV4dHVyZS5lbmFibGVMaW5lYXJTY2FsaW5nKCksdGhpcy50ZXh0dXJlPXRoaXMuZnJhbWVCdWZmZXIudGV4dHVyZSksdGhpcy5zZXRGcmFtZSgpLHRoaXMucmVzaXplKHIscyl9cmV0dXJuIHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKHQpe3ZhciBlPXR8fHRoaXMuY2xlYXJDb2xvcjt0aGlzLmZyYW1lQnVmZmVyLmNsZWFyKGVbMF0sZVsxXSxlWzJdLGVbM10pfSx0LnByb3RvdHlwZS5hdHRhY2hTdGVuY2lsQnVmZmVyPWZ1bmN0aW9uKCl7dGhpcy5yb290fHx0aGlzLmZyYW1lQnVmZmVyLmVuYWJsZVN0ZW5jaWwoKX0sdC5wcm90b3R5cGUuc2V0RnJhbWU9ZnVuY3Rpb24odCxlKXt0aGlzLmRlc3RpbmF0aW9uRnJhbWU9dHx8dGhpcy5kZXN0aW5hdGlvbkZyYW1lfHx0aGlzLmRlZmF1bHRGcmFtZSx0aGlzLnNvdXJjZUZyYW1lPWV8fHRoaXMuc291cmNlRnJhbWV8fHRoaXMuZGVzdGluYXRpb25GcmFtZX0sdC5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3RoaXMuZnJhbWVCdWZmZXIuYmluZCgpLHRoaXMuY2FsY3VsYXRlUHJvamVjdGlvbih0aGlzLmRlc3RpbmF0aW9uRnJhbWUsdGhpcy5zb3VyY2VGcmFtZSksdGhpcy50cmFuc2Zvcm0mJnRoaXMucHJvamVjdGlvbk1hdHJpeC5hcHBlbmQodGhpcy50cmFuc2Zvcm0pLHRoaXMuZGVzdGluYXRpb25GcmFtZSE9PXRoaXMuc291cmNlRnJhbWU/KHQuZW5hYmxlKHQuU0NJU1NPUl9URVNUKSx0LnNjaXNzb3IoMHx0aGlzLmRlc3RpbmF0aW9uRnJhbWUueCwwfHRoaXMuZGVzdGluYXRpb25GcmFtZS55LHRoaXMuZGVzdGluYXRpb25GcmFtZS53aWR0aCp0aGlzLnJlc29sdXRpb258MCx0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KnRoaXMucmVzb2x1dGlvbnwwKSk6dC5kaXNhYmxlKHQuU0NJU1NPUl9URVNUKSx0LnZpZXdwb3J0KDB8dGhpcy5kZXN0aW5hdGlvbkZyYW1lLngsMHx0aGlzLmRlc3RpbmF0aW9uRnJhbWUueSx0aGlzLmRlc3RpbmF0aW9uRnJhbWUud2lkdGgqdGhpcy5yZXNvbHV0aW9ufDAsdGhpcy5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCp0aGlzLnJlc29sdXRpb258MCl9LHQucHJvdG90eXBlLmNhbGN1bGF0ZVByb2plY3Rpb249ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLnByb2plY3Rpb25NYXRyaXg7ZT1lfHx0LHIuaWRlbnRpdHkoKSx0aGlzLnJvb3Q/KHIuYT0xL3Qud2lkdGgqMixyLmQ9LTEvdC5oZWlnaHQqMixyLnR4PS0xLWUueCpyLmEsci50eT0xLWUueSpyLmQpOihyLmE9MS90LndpZHRoKjIsci5kPTEvdC5oZWlnaHQqMixyLnR4PS0xLWUueCpyLmEsci50eT0tMS1lLnkqci5kKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7aWYodHw9MCxlfD0wLHRoaXMuc2l6ZS53aWR0aCE9PXR8fHRoaXMuc2l6ZS5oZWlnaHQhPT1lKXt0aGlzLnNpemUud2lkdGg9dCx0aGlzLnNpemUuaGVpZ2h0PWUsdGhpcy5kZWZhdWx0RnJhbWUud2lkdGg9dCx0aGlzLmRlZmF1bHRGcmFtZS5oZWlnaHQ9ZSx0aGlzLmZyYW1lQnVmZmVyLnJlc2l6ZSh0KnRoaXMucmVzb2x1dGlvbixlKnRoaXMucmVzb2x1dGlvbik7dmFyIHI9dGhpcy5mcmFtZXx8dGhpcy5zaXplO3RoaXMuY2FsY3VsYXRlUHJvamVjdGlvbihyKX19LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmZyYW1lQnVmZmVyLnN0ZW5jaWwmJnRoaXMuZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKHRoaXMuZnJhbWVCdWZmZXIuc3RlbmNpbCksdGhpcy5mcmFtZUJ1ZmZlci5kZXN0cm95KCksdGhpcy5mcmFtZUJ1ZmZlcj1udWxsLHRoaXMudGV4dHVyZT1udWxsfSx0fSgpO3IuZGVmYXVsdD1ofSx7XFxcIi4uLy4uLy4uL2NvbnN0XFxcIjo0NixcXFwiLi4vLi4vLi4vbWF0aFxcXCI6NzAsXFxcIi4uLy4uLy4uL3NldHRpbmdzXFxcIjoxMDEsXFxcInBpeGktZ2wtY29yZVxcXCI6MTV9XSw5NzpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7dmFyIHI9IWU7aWYocil7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiY2FudmFzXFxcIik7bi53aWR0aD0xLG4uaGVpZ2h0PTEsZT1zLmRlZmF1bHQuY3JlYXRlQ29udGV4dChuKX1mb3IodmFyIG89ZS5jcmVhdGVTaGFkZXIoZS5GUkFHTUVOVF9TSEFERVIpOzspe3ZhciB1PWEucmVwbGFjZSgvJWZvcmxvb3AlL2dpLGkodCkpO2lmKGUuc2hhZGVyU291cmNlKG8sdSksZS5jb21waWxlU2hhZGVyKG8pLGUuZ2V0U2hhZGVyUGFyYW1ldGVyKG8sZS5DT01QSUxFX1NUQVRVUykpYnJlYWs7dD10LzJ8MH1yZXR1cm4gciYmZS5nZXRFeHRlbnNpb24oXFxcIldFQkdMX2xvc2VfY29udGV4dFxcXCIpJiZlLmdldEV4dGVuc2lvbihcXFwiV0VCR0xfbG9zZV9jb250ZXh0XFxcIikubG9zZUNvbnRleHQoKSx0fWZ1bmN0aW9uIGkodCl7Zm9yKHZhciBlPVxcXCJcXFwiLHI9MDtyPHQ7KytyKXI+MCYmKGUrPVxcXCJcXFxcbmVsc2UgXFxcIikscjx0LTEmJihlKz1cXFwiaWYodGVzdCA9PSBcXFwiK3IrXFxcIi4wKXt9XFxcIik7cmV0dXJuIGV9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1uO3ZhciBvPXQoXFxcInBpeGktZ2wtY29yZVxcXCIpLHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShvKSxhPVtcXFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxcIixcXFwidm9pZCBtYWluKHZvaWQpe1xcXCIsXFxcImZsb2F0IHRlc3QgPSAwLjE7XFxcIixcXFwiJWZvcmxvb3AlXFxcIixcXFwiZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApO1xcXCIsXFxcIn1cXFwiXS5qb2luKFxcXCJcXFxcblxcXCIpfSx7XFxcInBpeGktZ2wtY29yZVxcXCI6MTV9XSw5ODpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbXTtyZXR1cm4gZVtpLkJMRU5EX01PREVTLk5PUk1BTF09W3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sZVtpLkJMRU5EX01PREVTLkFERF09W3QuT05FLHQuRFNUX0FMUEhBXSxlW2kuQkxFTkRfTU9ERVMuTVVMVElQTFldPVt0LkRTVF9DT0xPUix0Lk9ORV9NSU5VU19TUkNfQUxQSEFdLGVbaS5CTEVORF9NT0RFUy5TQ1JFRU5dPVt0Lk9ORSx0Lk9ORV9NSU5VU19TUkNfQ09MT1JdLGVbaS5CTEVORF9NT0RFUy5PVkVSTEFZXT1bdC5PTkUsdC5PTkVfTUlOVVNfU1JDX0FMUEhBXSxlW2kuQkxFTkRfTU9ERVMuREFSS0VOXT1bdC5PTkUsdC5PTkVfTUlOVVNfU1JDX0FMUEhBXSxlW2kuQkxFTkRfTU9ERVMuTElHSFRFTl09W3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sZVtpLkJMRU5EX01PREVTLkNPTE9SX0RPREdFXT1bdC5PTkUsdC5PTkVfTUlOVVNfU1JDX0FMUEhBXSxlW2kuQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl09W3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sZVtpLkJMRU5EX01PREVTLkhBUkRfTElHSFRdPVt0Lk9ORSx0Lk9ORV9NSU5VU19TUkNfQUxQSEFdLGVbaS5CTEVORF9NT0RFUy5TT0ZUX0xJR0hUXT1bdC5PTkUsdC5PTkVfTUlOVVNfU1JDX0FMUEhBXSxlW2kuQkxFTkRfTU9ERVMuRElGRkVSRU5DRV09W3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sZVtpLkJMRU5EX01PREVTLkVYQ0xVU0lPTl09W3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sZVtpLkJMRU5EX01PREVTLkhVRV09W3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sZVtpLkJMRU5EX01PREVTLlNBVFVSQVRJT05dPVt0Lk9ORSx0Lk9ORV9NSU5VU19TUkNfQUxQSEFdLGVbaS5CTEVORF9NT0RFUy5DT0xPUl09W3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sZVtpLkJMRU5EX01PREVTLkxVTUlOT1NJVFldPVt0Lk9ORSx0Lk9ORV9NSU5VU19TUkNfQUxQSEFdLGVbaS5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXT1bdC5TUkNfQUxQSEEsdC5PTkVfTUlOVVNfU1JDX0FMUEhBLHQuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sZVtpLkJMRU5EX01PREVTLkFERF9OUE1dPVt0LlNSQ19BTFBIQSx0LkRTVF9BTFBIQSx0Lk9ORSx0LkRTVF9BTFBIQV0sZVtpLkJMRU5EX01PREVTLlNDUkVFTl9OUE1dPVt0LlNSQ19BTFBIQSx0Lk9ORV9NSU5VU19TUkNfQ09MT1IsdC5PTkUsdC5PTkVfTUlOVVNfU1JDX0NPTE9SXSxlfXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9bjt2YXIgaT10KFxcXCIuLi8uLi8uLi9jb25zdFxcXCIpfSx7XFxcIi4uLy4uLy4uL2NvbnN0XFxcIjo0Nn1dLDk5OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBlW2kuRFJBV19NT0RFUy5QT0lOVFNdPXQuUE9JTlRTLGVbaS5EUkFXX01PREVTLkxJTkVTXT10LkxJTkVTLGVbaS5EUkFXX01PREVTLkxJTkVfTE9PUF09dC5MSU5FX0xPT1AsZVtpLkRSQVdfTU9ERVMuTElORV9TVFJJUF09dC5MSU5FX1NUUklQLGVbaS5EUkFXX01PREVTLlRSSUFOR0xFU109dC5UUklBTkdMRVMsZVtpLkRSQVdfTU9ERVMuVFJJQU5HTEVfU1RSSVBdPXQuVFJJQU5HTEVfU1RSSVAsZVtpLkRSQVdfTU9ERVMuVFJJQU5HTEVfRkFOXT10LlRSSUFOR0xFX0ZBTixlfXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9bjt2YXIgaT10KFxcXCIuLi8uLi8uLi9jb25zdFxcXCIpfSx7XFxcIi4uLy4uLy4uL2NvbnN0XFxcIjo0Nn1dLDEwMDpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3QuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsfHxjb25zb2xlLndhcm4oXFxcIlByb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHlcXFwiKX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PW59LHt9XSwxMDE6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ci5fX2VzTW9kdWxlPSEwO3ZhciBpPXQoXFxcIi4vdXRpbHMvbWF4UmVjb21tZW5kZWRUZXh0dXJlc1xcXCIpLG89bihpKSxzPXQoXFxcIi4vdXRpbHMvY2FuVXBsb2FkU2FtZUJ1ZmZlclxcXCIpLGE9bihzKTtyLmRlZmF1bHQ9e1RBUkdFVF9GUE1TOi4wNixNSVBNQVBfVEVYVFVSRVM6ITAsUkVTT0xVVElPTjoxLEZJTFRFUl9SRVNPTFVUSU9OOjEsU1BSSVRFX01BWF9URVhUVVJFUzooMCxvLmRlZmF1bHQpKDMyKSxTUFJJVEVfQkFUQ0hfU0laRTo0MDk2LFJFVElOQV9QUkVGSVg6L0AoWzAtOVxcXFwuXSspeC8sUkVOREVSX09QVElPTlM6e3ZpZXc6bnVsbCxhbnRpYWxpYXM6ITEsZm9yY2VGWEFBOiExLGF1dG9SZXNpemU6ITEsdHJhbnNwYXJlbnQ6ITEsYmFja2dyb3VuZENvbG9yOjAsY2xlYXJCZWZvcmVSZW5kZXI6ITAscHJlc2VydmVEcmF3aW5nQnVmZmVyOiExLHJvdW5kUGl4ZWxzOiExLHdpZHRoOjgwMCxoZWlnaHQ6NjAwLGxlZ2FjeTohMX0sVFJBTlNGT1JNX01PREU6MCxHQ19NT0RFOjAsR0NfTUFYX0lETEU6MzYwMCxHQ19NQVhfQ0hFQ0tfQ09VTlQ6NjAwLFdSQVBfTU9ERTowLFNDQUxFX01PREU6MCxQUkVDSVNJT05fVkVSVEVYOlxcXCJoaWdocFxcXCIsUFJFQ0lTSU9OX0ZSQUdNRU5UOlxcXCJtZWRpdW1wXFxcIixDQU5fVVBMT0FEX1NBTUVfQlVGRkVSOigwLGEuZGVmYXVsdCkoKSxNRVNIX0NBTlZBU19QQURESU5HOjB9fSx7XFxcIi4vdXRpbHMvY2FuVXBsb2FkU2FtZUJ1ZmZlclxcXCI6MTIyLFxcXCIuL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXNcXFwiOjEyN31dLDEwMjpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSx1PXQoXFxcIi4uL21hdGhcXFwiKSxoPXQoXFxcIi4uL3V0aWxzXFxcIiksbD10KFxcXCIuLi9jb25zdFxcXCIpLGM9dChcXFwiLi4vdGV4dHVyZXMvVGV4dHVyZVxcXCIpLGQ9bihjKSxmPXQoXFxcIi4uL2Rpc3BsYXkvQ29udGFpbmVyXFxcIikscD1uKGYpLHY9bmV3IHUuUG9pbnQsZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2kodGhpcyxlKTt2YXIgbj1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gbi5fYW5jaG9yPW5ldyB1Lk9ic2VydmFibGVQb2ludChuLl9vbkFuY2hvclVwZGF0ZSxuLHI/ci5kZWZhdWx0QW5jaG9yLng6MCxyP3IuZGVmYXVsdEFuY2hvci55OjApLG4uX3RleHR1cmU9bnVsbCxuLl93aWR0aD0wLG4uX2hlaWdodD0wLG4uX3RpbnQ9bnVsbCxuLl90aW50UkdCPW51bGwsbi50aW50PTE2Nzc3MjE1LG4uYmxlbmRNb2RlPWwuQkxFTkRfTU9ERVMuTk9STUFMLG4uc2hhZGVyPW51bGwsbi5jYWNoZWRUaW50PTE2Nzc3MjE1LG4udGV4dHVyZT1yfHxkLmRlZmF1bHQuRU1QVFksbi52ZXJ0ZXhEYXRhPW5ldyBGbG9hdDMyQXJyYXkoOCksbi52ZXJ0ZXhUcmltbWVkRGF0YT1udWxsLG4uX3RyYW5zZm9ybUlEPS0xLG4uX3RleHR1cmVJRD0tMSxuLl90cmFuc2Zvcm1UcmltbWVkSUQ9LTEsbi5fdGV4dHVyZVRyaW1tZWRJRD0tMSxuLnBsdWdpbk5hbWU9XFxcInNwcml0ZVxcXCIsbn1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLl90ZXh0dXJlSUQ9LTEsdGhpcy5fdGV4dHVyZVRyaW1tZWRJRD0tMSx0aGlzLmNhY2hlZFRpbnQ9MTY3NzcyMTUsdGhpcy5fd2lkdGgmJih0aGlzLnNjYWxlLng9KDAsaC5zaWduKSh0aGlzLnNjYWxlLngpKnRoaXMuX3dpZHRoL3RoaXMuX3RleHR1cmUub3JpZy53aWR0aCksdGhpcy5faGVpZ2h0JiYodGhpcy5zY2FsZS55PSgwLGguc2lnbikodGhpcy5zY2FsZS55KSp0aGlzLl9oZWlnaHQvdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCl9LGUucHJvdG90eXBlLl9vbkFuY2hvclVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX3RyYW5zZm9ybUlEPS0xLHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRD0tMX0sZS5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXM9ZnVuY3Rpb24oKXtpZih0aGlzLl90cmFuc2Zvcm1JRCE9PXRoaXMudHJhbnNmb3JtLl93b3JsZElEfHx0aGlzLl90ZXh0dXJlSUQhPT10aGlzLl90ZXh0dXJlLl91cGRhdGVJRCl7dGhpcy5fdHJhbnNmb3JtSUQ9dGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQsdGhpcy5fdGV4dHVyZUlEPXRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO3ZhciB0PXRoaXMuX3RleHR1cmUsZT10aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSxyPWUuYSxuPWUuYixpPWUuYyxvPWUuZCxzPWUudHgsYT1lLnR5LHU9dGhpcy52ZXJ0ZXhEYXRhLGg9dC50cmltLGw9dC5vcmlnLGM9dGhpcy5fYW5jaG9yLGQ9MCxmPTAscD0wLHY9MDtoPyhmPWgueC1jLl94Kmwud2lkdGgsZD1mK2gud2lkdGgsdj1oLnktYy5feSpsLmhlaWdodCxwPXYraC5oZWlnaHQpOihmPS1jLl94Kmwud2lkdGgsZD1mK2wud2lkdGgsdj0tYy5feSpsLmhlaWdodCxwPXYrbC5oZWlnaHQpLHVbMF09cipmK2kqditzLHVbMV09byp2K24qZithLHVbMl09cipkK2kqditzLHVbM109byp2K24qZCthLHVbNF09cipkK2kqcCtzLHVbNV09bypwK24qZCthLHVbNl09cipmK2kqcCtzLHVbN109bypwK24qZithfX0sZS5wcm90b3R5cGUuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzPWZ1bmN0aW9uKCl7aWYodGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSl7aWYodGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEPT09dGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQmJnRoaXMuX3RleHR1cmVUcmltbWVkSUQ9PT10aGlzLl90ZXh0dXJlLl91cGRhdGVJRClyZXR1cm59ZWxzZSB0aGlzLnZlcnRleFRyaW1tZWREYXRhPW5ldyBGbG9hdDMyQXJyYXkoOCk7dGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEPXRoaXMudHJhbnNmb3JtLl93b3JsZElELHRoaXMuX3RleHR1cmVUcmltbWVkSUQ9dGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7dmFyIHQ9dGhpcy5fdGV4dHVyZSxlPXRoaXMudmVydGV4VHJpbW1lZERhdGEscj10Lm9yaWcsbj10aGlzLl9hbmNob3IsaT10aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSxvPWkuYSxzPWkuYixhPWkuYyx1PWkuZCxoPWkudHgsbD1pLnR5LGM9LW4uX3gqci53aWR0aCxkPWMrci53aWR0aCxmPS1uLl95KnIuaGVpZ2h0LHA9ZityLmhlaWdodDtlWzBdPW8qYythKmYraCxlWzFdPXUqZitzKmMrbCxlWzJdPW8qZCthKmYraCxlWzNdPXUqZitzKmQrbCxlWzRdPW8qZCthKnAraCxlWzVdPXUqcCtzKmQrbCxlWzZdPW8qYythKnAraCxlWzddPXUqcCtzKmMrbH0sZS5wcm90b3R5cGUuX3JlbmRlcldlYkdMPWZ1bmN0aW9uKHQpe3RoaXMuY2FsY3VsYXRlVmVydGljZXMoKSx0LnNldE9iamVjdFJlbmRlcmVyKHQucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKSx0LnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyl9LGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7dC5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpfSxlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGV4dHVyZS50cmltLGU9dGhpcy5fdGV4dHVyZS5vcmlnOyF0fHx0LndpZHRoPT09ZS53aWR0aCYmdC5oZWlnaHQ9PT1lLmhlaWdodD8odGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpLHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSkpOih0aGlzLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpLHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4VHJpbW1lZERhdGEpKX0sZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHM9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT10aGlzLmNoaWxkcmVuLmxlbmd0aD8odGhpcy5fYm91bmRzLm1pblg9dGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoKi10aGlzLl9hbmNob3IuX3gsdGhpcy5fYm91bmRzLm1pblk9dGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCotdGhpcy5fYW5jaG9yLl95LHRoaXMuX2JvdW5kcy5tYXhYPXRoaXMuX3RleHR1cmUub3JpZy53aWR0aCooMS10aGlzLl9hbmNob3IuX3gpLHRoaXMuX2JvdW5kcy5tYXhZPXRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQqKDEtdGhpcy5fYW5jaG9yLl95KSxlfHwodGhpcy5fbG9jYWxCb3VuZHNSZWN0fHwodGhpcy5fbG9jYWxCb3VuZHNSZWN0PW5ldyB1LlJlY3RhbmdsZSksZT10aGlzLl9sb2NhbEJvdW5kc1JlY3QpLHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUoZSkpOnQucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcyxlKX0sZS5wcm90b3R5cGUuY29udGFpbnNQb2ludD1mdW5jdGlvbih0KXt0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZSh0LHYpO3ZhciBlPXRoaXMuX3RleHR1cmUub3JpZy53aWR0aCxyPXRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQsbj0tZSp0aGlzLmFuY2hvci54LGk9MDtyZXR1cm4gdi54Pj1uJiZ2Lng8bitlJiYoaT0tcip0aGlzLmFuY2hvci55LHYueT49aSYmdi55PGkrcil9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7aWYodC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsZSksdGhpcy5fdGV4dHVyZS5vZmYoXFxcInVwZGF0ZVxcXCIsdGhpcy5fb25UZXh0dXJlVXBkYXRlLHRoaXMpLHRoaXMuX2FuY2hvcj1udWxsLFxcXCJib29sZWFuXFxcIj09dHlwZW9mIGU/ZTplJiZlLnRleHR1cmUpe3ZhciByPVxcXCJib29sZWFuXFxcIj09dHlwZW9mIGU/ZTplJiZlLmJhc2VUZXh0dXJlO3RoaXMuX3RleHR1cmUuZGVzdHJveSghIXIpfXRoaXMuX3RleHR1cmU9bnVsbCx0aGlzLnNoYWRlcj1udWxsfSxlLmZyb209ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKGQuZGVmYXVsdC5mcm9tKHQpKX0sZS5mcm9tRnJhbWU9ZnVuY3Rpb24odCl7dmFyIHI9aC5UZXh0dXJlQ2FjaGVbdF07aWYoIXIpdGhyb3cgbmV3IEVycm9yKCdUaGUgZnJhbWVJZCBcXFwiJyt0KydcXFwiIGRvZXMgbm90IGV4aXN0IGluIHRoZSB0ZXh0dXJlIGNhY2hlJyk7cmV0dXJuIG5ldyBlKHIpfSxlLmZyb21JbWFnZT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIG5ldyBlKGQuZGVmYXVsdC5mcm9tSW1hZ2UodCxyLG4pKX0sYShlLFt7a2V5OlxcXCJ3aWR0aFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkqdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9KDAsaC5zaWduKSh0aGlzLnNjYWxlLngpfHwxO3RoaXMuc2NhbGUueD1lKnQvdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoLHRoaXMuX3dpZHRoPXR9fSx7a2V5OlxcXCJoZWlnaHRcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpKnRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHR9LHNldDpmdW5jdGlvbih0KXt2YXIgZT0oMCxoLnNpZ24pKHRoaXMuc2NhbGUueSl8fDE7dGhpcy5zY2FsZS55PWUqdC90aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0LHRoaXMuX2hlaWdodD10fX0se2tleTpcXFwiYW5jaG9yXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5jaG9yfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYW5jaG9yLmNvcHkodCl9fSx7a2V5OlxcXCJ0aW50XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGludH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RpbnQ9dCx0aGlzLl90aW50UkdCPSh0Pj4xNikrKDY1MjgwJnQpKygoMjU1JnQpPDwxNil9fSx7a2V5OlxcXCJ0ZXh0dXJlXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUhPT10JiYodGhpcy5fdGV4dHVyZT10fHxkLmRlZmF1bHQuRU1QVFksdGhpcy5jYWNoZWRUaW50PTE2Nzc3MjE1LHRoaXMuX3RleHR1cmVJRD0tMSx0aGlzLl90ZXh0dXJlVHJpbW1lZElEPS0xLHQmJih0LmJhc2VUZXh0dXJlLmhhc0xvYWRlZD90aGlzLl9vblRleHR1cmVVcGRhdGUoKTp0Lm9uY2UoXFxcInVwZGF0ZVxcXCIsdGhpcy5fb25UZXh0dXJlVXBkYXRlLHRoaXMpKSl9fV0pLGV9KHAuZGVmYXVsdCk7ci5kZWZhdWx0PWd9LHtcXFwiLi4vY29uc3RcXFwiOjQ2LFxcXCIuLi9kaXNwbGF5L0NvbnRhaW5lclxcXCI6NDgsXFxcIi4uL21hdGhcXFwiOjcwLFxcXCIuLi90ZXh0dXJlcy9UZXh0dXJlXFxcIjoxMTUsXFxcIi4uL3V0aWxzXFxcIjoxMjV9XSwxMDM6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz10KFxcXCIuLi8uLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyXFxcIikscz1uKG8pLGE9dChcXFwiLi4vLi4vY29uc3RcXFwiKSx1PXQoXFxcIi4uLy4uL21hdGhcXFwiKSxoPXQoXFxcIi4vQ2FudmFzVGludGVyXFxcIiksbD1uKGgpLGM9bmV3IHUuTWF0cml4LGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2kodGhpcyx0KSx0aGlzLnJlbmRlcmVyPWV9cmV0dXJuIHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0KXt2YXIgZT10Ll90ZXh0dXJlLHI9dGhpcy5yZW5kZXJlcixuPWUuX2ZyYW1lLndpZHRoLGk9ZS5fZnJhbWUuaGVpZ2h0LG89dC50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0scz0wLGg9MDtpZighKGUub3JpZy53aWR0aDw9MHx8ZS5vcmlnLmhlaWdodDw9MCkmJmUuYmFzZVRleHR1cmUuc291cmNlJiYoci5zZXRCbGVuZE1vZGUodC5ibGVuZE1vZGUpLGUudmFsaWQpKXtyLmNvbnRleHQuZ2xvYmFsQWxwaGE9dC53b3JsZEFscGhhO3ZhciBkPWUuYmFzZVRleHR1cmUuc2NhbGVNb2RlPT09YS5TQ0FMRV9NT0RFUy5MSU5FQVI7ci5zbW9vdGhQcm9wZXJ0eSYmci5jb250ZXh0W3Iuc21vb3RoUHJvcGVydHldIT09ZCYmKHIuY29udGV4dFtyLnNtb290aFByb3BlcnR5XT1kKSxlLnRyaW0/KHM9ZS50cmltLndpZHRoLzIrZS50cmltLngtdC5hbmNob3IueCplLm9yaWcud2lkdGgsaD1lLnRyaW0uaGVpZ2h0LzIrZS50cmltLnktdC5hbmNob3IueSplLm9yaWcuaGVpZ2h0KToocz0oLjUtdC5hbmNob3IueCkqZS5vcmlnLndpZHRoLGg9KC41LXQuYW5jaG9yLnkpKmUub3JpZy5oZWlnaHQpLGUucm90YXRlJiYoby5jb3B5KGMpLG89Yyx1Lkdyb3VwRDgubWF0cml4QXBwZW5kUm90YXRpb25JbnYobyxlLnJvdGF0ZSxzLGgpLHM9MCxoPTApLHMtPW4vMixoLT1pLzIsci5yb3VuZFBpeGVscz8oci5jb250ZXh0LnNldFRyYW5zZm9ybShvLmEsby5iLG8uYyxvLmQsby50eCpyLnJlc29sdXRpb258MCxvLnR5KnIucmVzb2x1dGlvbnwwKSxzfD0wLGh8PTApOnIuY29udGV4dC5zZXRUcmFuc2Zvcm0oby5hLG8uYixvLmMsby5kLG8udHgqci5yZXNvbHV0aW9uLG8udHkqci5yZXNvbHV0aW9uKTt2YXIgZj1lLmJhc2VUZXh0dXJlLnJlc29sdXRpb247MTY3NzcyMTUhPT10LnRpbnQ/KHQuY2FjaGVkVGludD09PXQudGludCYmdC50aW50ZWRUZXh0dXJlLnRpbnRJZD09PXQuX3RleHR1cmUuX3VwZGF0ZUlEfHwodC5jYWNoZWRUaW50PXQudGludCx0LnRpbnRlZFRleHR1cmU9bC5kZWZhdWx0LmdldFRpbnRlZFRleHR1cmUodCx0LnRpbnQpKSxyLmNvbnRleHQuZHJhd0ltYWdlKHQudGludGVkVGV4dHVyZSwwLDAsbipmLGkqZixzKnIucmVzb2x1dGlvbixoKnIucmVzb2x1dGlvbixuKnIucmVzb2x1dGlvbixpKnIucmVzb2x1dGlvbikpOnIuY29udGV4dC5kcmF3SW1hZ2UoZS5iYXNlVGV4dHVyZS5zb3VyY2UsZS5fZnJhbWUueCpmLGUuX2ZyYW1lLnkqZixuKmYsaSpmLHMqci5yZXNvbHV0aW9uLGgqci5yZXNvbHV0aW9uLG4qci5yZXNvbHV0aW9uLGkqci5yZXNvbHV0aW9uKX19LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyPW51bGx9LHR9KCk7ci5kZWZhdWx0PWQscy5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKFxcXCJzcHJpdGVcXFwiLGQpfSx7XFxcIi4uLy4uL2NvbnN0XFxcIjo0NixcXFwiLi4vLi4vbWF0aFxcXCI6NzAsXFxcIi4uLy4uL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXJcXFwiOjc3LFxcXCIuL0NhbnZhc1RpbnRlclxcXCI6MTA0fV0sMTA0OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO3IuX19lc01vZHVsZT0hMDt2YXIgbj10KFxcXCIuLi8uLi91dGlsc1xcXCIpLGk9dChcXFwiLi4vLi4vcmVuZGVyZXJzL2NhbnZhcy91dGlscy9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzXFxcIiksbz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KGkpLHM9e2dldFRpbnRlZFRleHR1cmU6ZnVuY3Rpb24odCxlKXt2YXIgcj10Ll90ZXh0dXJlO2U9cy5yb3VuZENvbG9yKGUpO3ZhciBuPVxcXCIjXFxcIisoXFxcIjAwMDAwXFxcIisoMHxlKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7ci50aW50Q2FjaGU9ci50aW50Q2FjaGV8fHt9O3ZhciBpPXIudGludENhY2hlW25dLG89dm9pZCAwO2lmKGkpe2lmKGkudGludElkPT09ci5fdXBkYXRlSUQpcmV0dXJuIHIudGludENhY2hlW25dO289ci50aW50Q2FjaGVbbl19ZWxzZSBvPXMuY2FudmFzfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJjYW52YXNcXFwiKTtpZihzLnRpbnRNZXRob2QocixlLG8pLG8udGludElkPXIuX3VwZGF0ZUlELHMuY29udmVydFRpbnRUb0ltYWdlKXt2YXIgYT1uZXcgSW1hZ2U7YS5zcmM9by50b0RhdGFVUkwoKSxyLnRpbnRDYWNoZVtuXT1hfWVsc2Ugci50aW50Q2FjaGVbbl09byxzLmNhbnZhcz1udWxsO3JldHVybiBvfSx0aW50V2l0aE11bHRpcGx5OmZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1yLmdldENvbnRleHQoXFxcIjJkXFxcIiksaT10Ll9mcmFtZS5jbG9uZSgpLG89dC5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO2kueCo9byxpLnkqPW8saS53aWR0aCo9byxpLmhlaWdodCo9byxyLndpZHRoPU1hdGguY2VpbChpLndpZHRoKSxyLmhlaWdodD1NYXRoLmNlaWwoaS5oZWlnaHQpLG4uc2F2ZSgpLG4uZmlsbFN0eWxlPVxcXCIjXFxcIisoXFxcIjAwMDAwXFxcIisoMHxlKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksbi5maWxsUmVjdCgwLDAsaS53aWR0aCxpLmhlaWdodCksbi5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XFxcIm11bHRpcGx5XFxcIixuLmRyYXdJbWFnZSh0LmJhc2VUZXh0dXJlLnNvdXJjZSxpLngsaS55LGkud2lkdGgsaS5oZWlnaHQsMCwwLGkud2lkdGgsaS5oZWlnaHQpLG4uZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVxcXCJkZXN0aW5hdGlvbi1hdG9wXFxcIixuLmRyYXdJbWFnZSh0LmJhc2VUZXh0dXJlLnNvdXJjZSxpLngsaS55LGkud2lkdGgsaS5oZWlnaHQsMCwwLGkud2lkdGgsaS5oZWlnaHQpLG4ucmVzdG9yZSgpfSx0aW50V2l0aE92ZXJsYXk6ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXIuZ2V0Q29udGV4dChcXFwiMmRcXFwiKSxpPXQuX2ZyYW1lLmNsb25lKCksbz10LmJhc2VUZXh0dXJlLnJlc29sdXRpb247aS54Kj1vLGkueSo9byxpLndpZHRoKj1vLGkuaGVpZ2h0Kj1vLHIud2lkdGg9TWF0aC5jZWlsKGkud2lkdGgpLHIuaGVpZ2h0PU1hdGguY2VpbChpLmhlaWdodCksbi5zYXZlKCksbi5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XFxcImNvcHlcXFwiLG4uZmlsbFN0eWxlPVxcXCIjXFxcIisoXFxcIjAwMDAwXFxcIisoMHxlKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksbi5maWxsUmVjdCgwLDAsaS53aWR0aCxpLmhlaWdodCksbi5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XFxcImRlc3RpbmF0aW9uLWF0b3BcXFwiLG4uZHJhd0ltYWdlKHQuYmFzZVRleHR1cmUuc291cmNlLGkueCxpLnksaS53aWR0aCxpLmhlaWdodCwwLDAsaS53aWR0aCxpLmhlaWdodCksbi5yZXN0b3JlKCl9LHRpbnRXaXRoUGVyUGl4ZWw6ZnVuY3Rpb24odCxlLHIpe3ZhciBpPXIuZ2V0Q29udGV4dChcXFwiMmRcXFwiKSxvPXQuX2ZyYW1lLmNsb25lKCkscz10LmJhc2VUZXh0dXJlLnJlc29sdXRpb247by54Kj1zLG8ueSo9cyxvLndpZHRoKj1zLG8uaGVpZ2h0Kj1zLHIud2lkdGg9TWF0aC5jZWlsKG8ud2lkdGgpLHIuaGVpZ2h0PU1hdGguY2VpbChvLmhlaWdodCksaS5zYXZlKCksaS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XFxcImNvcHlcXFwiLGkuZHJhd0ltYWdlKHQuYmFzZVRleHR1cmUuc291cmNlLG8ueCxvLnksby53aWR0aCxvLmhlaWdodCwwLDAsby53aWR0aCxvLmhlaWdodCksaS5yZXN0b3JlKCk7Zm9yKHZhciBhPSgwLG4uaGV4MnJnYikoZSksdT1hWzBdLGg9YVsxXSxsPWFbMl0sYz1pLmdldEltYWdlRGF0YSgwLDAsby53aWR0aCxvLmhlaWdodCksZD1jLmRhdGEsZj0wO2Y8ZC5sZW5ndGg7Zis9NClkW2YrMF0qPXUsZFtmKzFdKj1oLGRbZisyXSo9bDtpLnB1dEltYWdlRGF0YShjLDAsMCl9LHJvdW5kQ29sb3I6ZnVuY3Rpb24odCl7dmFyIGU9cy5jYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsLHI9KDAsbi5oZXgycmdiKSh0KTtyZXR1cm4gclswXT1NYXRoLm1pbigyNTUsclswXS9lKmUpLHJbMV09TWF0aC5taW4oMjU1LHJbMV0vZSplKSxyWzJdPU1hdGgubWluKDI1NSxyWzJdL2UqZSksKDAsbi5yZ2IyaGV4KShyKX0sY2FjaGVTdGVwc1BlckNvbG9yQ2hhbm5lbDo4LGNvbnZlcnRUaW50VG9JbWFnZTohMSxjYW5Vc2VNdWx0aXBseTooMCxvLmRlZmF1bHQpKCksdGludE1ldGhvZDowfTtzLnRpbnRNZXRob2Q9cy5jYW5Vc2VNdWx0aXBseT9zLnRpbnRXaXRoTXVsdGlwbHk6cy50aW50V2l0aFBlclBpeGVsLHIuZGVmYXVsdD1zfSx7XFxcIi4uLy4uL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlc1xcXCI6ODAsXFxcIi4uLy4uL3V0aWxzXFxcIjoxMjV9XSwxMDU6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7bih0aGlzLHQpLHRoaXMudmVydGljZXM9bmV3IEFycmF5QnVmZmVyKGUpLHRoaXMuZmxvYXQzMlZpZXc9bmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRpY2VzKSx0aGlzLnVpbnQzMlZpZXc9bmV3IFVpbnQzMkFycmF5KHRoaXMudmVydGljZXMpfXJldHVybiB0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy52ZXJ0aWNlcz1udWxsLHRoaXMucG9zaXRpb25zPW51bGwsdGhpcy51dnM9bnVsbCx0aGlzLmNvbG9ycz1udWxsfSx0fSgpO3IuZGVmYXVsdD1pfSx7fV0sMTA2OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXFxcIi4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlclxcXCIpLHU9bihhKSxoPXQoXFxcIi4uLy4uL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyXFxcIiksbD1uKGgpLGM9dChcXFwiLi4vLi4vdXRpbHMvY3JlYXRlSW5kaWNlc0ZvclF1YWRzXFxcIiksZD1uKGMpLGY9dChcXFwiLi9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlclxcXCIpLHA9bihmKSx2PXQoXFxcIi4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXJcXFwiKSxnPW4odikseT10KFxcXCIuL0JhdGNoQnVmZmVyXFxcIiksbT1uKHkpLF89dChcXFwiLi4vLi4vc2V0dGluZ3NcXFwiKSxiPW4oXykseD10KFxcXCIuLi8uLi91dGlsc1xcXCIpLFQ9dChcXFwicGl4aS1nbC1jb3JlXFxcIiksdz1uKFQpLEU9dChcXFwiYml0LXR3aWRkbGVcXFwiKSxTPW4oRSksTz0wLE09MCxQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aSh0aGlzLGUpO3ZhciBuPW8odGhpcyx0LmNhbGwodGhpcyxyKSlcXG47bi52ZXJ0U2l6ZT01LG4udmVydEJ5dGVTaXplPTQqbi52ZXJ0U2l6ZSxuLnNpemU9Yi5kZWZhdWx0LlNQUklURV9CQVRDSF9TSVpFLG4uYnVmZmVycz1bXTtmb3IodmFyIHM9MTtzPD1TLmRlZmF1bHQubmV4dFBvdzIobi5zaXplKTtzKj0yKW4uYnVmZmVycy5wdXNoKG5ldyBtLmRlZmF1bHQoNCpzKm4udmVydEJ5dGVTaXplKSk7bi5pbmRpY2VzPSgwLGQuZGVmYXVsdCkobi5zaXplKSxuLnNoYWRlcj1udWxsLG4uY3VycmVudEluZGV4PTAsbi5ncm91cHM9W107Zm9yKHZhciBhPTA7YTxuLnNpemU7YSsrKW4uZ3JvdXBzW2FdPXt0ZXh0dXJlczpbXSx0ZXh0dXJlQ291bnQ6MCxpZHM6W10sc2l6ZTowLHN0YXJ0OjAsYmxlbmQ6MH07cmV0dXJuIG4uc3ByaXRlcz1bXSxuLnZlcnRleEJ1ZmZlcnM9W10sbi52YW9zPVtdLG4udmFvTWF4PTIsbi52ZXJ0ZXhDb3VudD0wLG4ucmVuZGVyZXIub24oXFxcInByZXJlbmRlclxcXCIsbi5vblByZXJlbmRlcixuKSxufXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZW5kZXJlci5nbDt0aGlzLnJlbmRlcmVyLmxlZ2FjeT90aGlzLk1BWF9URVhUVVJFUz0xOih0aGlzLk1BWF9URVhUVVJFUz1NYXRoLm1pbih0LmdldFBhcmFtZXRlcih0Lk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSxiLmRlZmF1bHQuU1BSSVRFX01BWF9URVhUVVJFUyksdGhpcy5NQVhfVEVYVFVSRVM9KDAsZy5kZWZhdWx0KSh0aGlzLk1BWF9URVhUVVJFUyx0KSksdGhpcy5zaGFkZXI9KDAscC5kZWZhdWx0KSh0LHRoaXMuTUFYX1RFWFRVUkVTKSx0aGlzLmluZGV4QnVmZmVyPXcuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcih0LHRoaXMuaW5kaWNlcyx0LlNUQVRJQ19EUkFXKSx0aGlzLnJlbmRlcmVyLmJpbmRWYW8obnVsbCk7Zm9yKHZhciBlPXRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMscj0wO3I8dGhpcy52YW9NYXg7cisrKXt2YXIgbj10aGlzLnZlcnRleEJ1ZmZlcnNbcl09dy5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcih0LG51bGwsdC5TVFJFQU1fRFJBVyksaT10aGlzLnJlbmRlcmVyLmNyZWF0ZVZhbygpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZShuLGUuYVZlcnRleFBvc2l0aW9uLHQuRkxPQVQsITEsdGhpcy52ZXJ0Qnl0ZVNpemUsMCkuYWRkQXR0cmlidXRlKG4sZS5hVGV4dHVyZUNvb3JkLHQuVU5TSUdORURfU0hPUlQsITAsdGhpcy52ZXJ0Qnl0ZVNpemUsOCkuYWRkQXR0cmlidXRlKG4sZS5hQ29sb3IsdC5VTlNJR05FRF9CWVRFLCEwLHRoaXMudmVydEJ5dGVTaXplLDEyKTtlLmFUZXh0dXJlSWQmJmkuYWRkQXR0cmlidXRlKG4sZS5hVGV4dHVyZUlkLHQuRkxPQVQsITEsdGhpcy52ZXJ0Qnl0ZVNpemUsMTYpLHRoaXMudmFvc1tyXT1pfXRoaXMudmFvPXRoaXMudmFvc1swXSx0aGlzLmN1cnJlbnRCbGVuZE1vZGU9OTk5OTksdGhpcy5ib3VuZFRleHR1cmVzPW5ldyBBcnJheSh0aGlzLk1BWF9URVhUVVJFUyl9LGUucHJvdG90eXBlLm9uUHJlcmVuZGVyPWZ1bmN0aW9uKCl7dGhpcy52ZXJ0ZXhDb3VudD0wfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50SW5kZXg+PXRoaXMuc2l6ZSYmdGhpcy5mbHVzaCgpLHQuX3RleHR1cmUuX3V2cyYmKHRoaXMuc3ByaXRlc1t0aGlzLmN1cnJlbnRJbmRleCsrXT10KX0sZS5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtpZigwIT09dGhpcy5jdXJyZW50SW5kZXgpe3ZhciB0PXRoaXMucmVuZGVyZXIuZ2wsZT10aGlzLk1BWF9URVhUVVJFUyxyPVMuZGVmYXVsdC5uZXh0UG93Mih0aGlzLmN1cnJlbnRJbmRleCksbj1TLmRlZmF1bHQubG9nMihyKSxpPXRoaXMuYnVmZmVyc1tuXSxvPXRoaXMuc3ByaXRlcyxzPXRoaXMuZ3JvdXBzLGE9aS5mbG9hdDMyVmlldyx1PWkudWludDMyVmlldyxoPXRoaXMuYm91bmRUZXh0dXJlcyxsPXRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlcyxjPXRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50LGQ9MCxmPXZvaWQgMCxwPXZvaWQgMCx2PTEsZz0wLHk9c1swXSxtPXZvaWQgMCxfPXZvaWQgMCxUPXgucHJlbXVsdGlwbHlCbGVuZE1vZGVbb1swXS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGE/MTowXVtvWzBdLmJsZW5kTW9kZV07eS50ZXh0dXJlQ291bnQ9MCx5LnN0YXJ0PTAseS5ibGVuZD1ULE8rKzt2YXIgRT12b2lkIDA7Zm9yKEU9MDtFPGU7KytFKXt2YXIgUD1sW0VdO1AuX2VuYWJsZWQhPT1PPyhoW0VdPVAsUC5fdmlydGFsQm91bmRJZD1FLFAuX2VuYWJsZWQ9Tyk6aFtFXT10aGlzLnJlbmRlcmVyLmVtcHR5VGV4dHVyZXNbRV19Zm9yKE8rKyxFPTA7RTx0aGlzLmN1cnJlbnRJbmRleDsrK0Upe3ZhciBDPW9bRV07b1tFXT1udWxsLGY9Qy5fdGV4dHVyZS5iYXNlVGV4dHVyZTt2YXIgUj14LnByZW11bHRpcGx5QmxlbmRNb2RlW051bWJlcihmLnByZW11bHRpcGxpZWRBbHBoYSldW0MuYmxlbmRNb2RlXTtpZihUIT09UiYmKFQ9UixwPW51bGwsZz1lLE8rKykscCE9PWYmJihwPWYsZi5fZW5hYmxlZCE9PU8pKXtpZihnPT09ZSYmKE8rKyx5LnNpemU9RS15LnN0YXJ0LGc9MCx5PXNbdisrXSx5LmJsZW5kPVQseS50ZXh0dXJlQ291bnQ9MCx5LnN0YXJ0PUUpLGYudG91Y2hlZD1jLC0xPT09Zi5fdmlydGFsQm91bmRJZClmb3IodmFyIEE9MDtBPGU7KytBKXt2YXIgST0oQStNKSVlLEQ9aFtJXTtpZihELl9lbmFibGVkIT09Tyl7TSsrLEQuX3ZpcnRhbEJvdW5kSWQ9LTEsZi5fdmlydGFsQm91bmRJZD1JLGhbSV09ZjticmVha319Zi5fZW5hYmxlZD1PLHkudGV4dHVyZUNvdW50KysseS5pZHNbZ109Zi5fdmlydGFsQm91bmRJZCx5LnRleHR1cmVzW2crK109Zn1pZihtPUMudmVydGV4RGF0YSxfPUMuX3RleHR1cmUuX3V2cy51dnNVaW50MzIsdGhpcy5yZW5kZXJlci5yb3VuZFBpeGVscyl7dmFyIEw9dGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO2FbZF09KG1bMF0qTHwwKS9MLGFbZCsxXT0obVsxXSpMfDApL0wsYVtkKzVdPShtWzJdKkx8MCkvTCxhW2QrNl09KG1bM10qTHwwKS9MLGFbZCsxMF09KG1bNF0qTHwwKS9MLGFbZCsxMV09KG1bNV0qTHwwKS9MLGFbZCsxNV09KG1bNl0qTHwwKS9MLGFbZCsxNl09KG1bN10qTHwwKS9MfWVsc2UgYVtkXT1tWzBdLGFbZCsxXT1tWzFdLGFbZCs1XT1tWzJdLGFbZCs2XT1tWzNdLGFbZCsxMF09bVs0XSxhW2QrMTFdPW1bNV0sYVtkKzE1XT1tWzZdLGFbZCsxNl09bVs3XTt1W2QrMl09X1swXSx1W2QrN109X1sxXSx1W2QrMTJdPV9bMl0sdVtkKzE3XT1fWzNdO3ZhciBOPU1hdGgubWluKEMud29ybGRBbHBoYSwxKSxCPU48MSYmZi5wcmVtdWx0aXBsaWVkQWxwaGE/KDAseC5wcmVtdWx0aXBseVRpbnQpKEMuX3RpbnRSR0IsTik6Qy5fdGludFJHQisoMjU1Kk48PDI0KTt1W2QrM109dVtkKzhdPXVbZCsxM109dVtkKzE4XT1CLGFbZCs0XT1hW2QrOV09YVtkKzE0XT1hW2QrMTldPWYuX3ZpcnRhbEJvdW5kSWQsZCs9MjB9aWYoeS5zaXplPUUteS5zdGFydCxiLmRlZmF1bHQuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUil0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0udXBsb2FkKGkudmVydGljZXMsMCwhMCk7ZWxzZXtpZih0aGlzLnZhb01heDw9dGhpcy52ZXJ0ZXhDb3VudCl7dGhpcy52YW9NYXgrKzt2YXIgaz10aGlzLnNoYWRlci5hdHRyaWJ1dGVzLEY9dGhpcy52ZXJ0ZXhCdWZmZXJzW3RoaXMudmVydGV4Q291bnRdPXcuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIodCxudWxsLHQuU1RSRUFNX0RSQVcpLGo9dGhpcy5yZW5kZXJlci5jcmVhdGVWYW8oKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUoRixrLmFWZXJ0ZXhQb3NpdGlvbix0LkZMT0FULCExLHRoaXMudmVydEJ5dGVTaXplLDApLmFkZEF0dHJpYnV0ZShGLGsuYVRleHR1cmVDb29yZCx0LlVOU0lHTkVEX1NIT1JULCEwLHRoaXMudmVydEJ5dGVTaXplLDgpLmFkZEF0dHJpYnV0ZShGLGsuYUNvbG9yLHQuVU5TSUdORURfQllURSwhMCx0aGlzLnZlcnRCeXRlU2l6ZSwxMik7ay5hVGV4dHVyZUlkJiZqLmFkZEF0dHJpYnV0ZShGLGsuYVRleHR1cmVJZCx0LkZMT0FULCExLHRoaXMudmVydEJ5dGVTaXplLDE2KSx0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF09an10aGlzLnJlbmRlcmVyLmJpbmRWYW8odGhpcy52YW9zW3RoaXMudmVydGV4Q291bnRdKSx0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0udXBsb2FkKGkudmVydGljZXMsMCwhMSksdGhpcy52ZXJ0ZXhDb3VudCsrfWZvcihFPTA7RTxlOysrRSlsW0VdLl92aXJ0YWxCb3VuZElkPS0xO2ZvcihFPTA7RTx2OysrRSl7Zm9yKHZhciBVPXNbRV0sWD1VLnRleHR1cmVDb3VudCxHPTA7RzxYO0crKylwPVUudGV4dHVyZXNbR10sbFtVLmlkc1tHXV0hPT1wJiZ0aGlzLnJlbmRlcmVyLmJpbmRUZXh0dXJlKHAsVS5pZHNbR10sITApLHAuX3ZpcnRhbEJvdW5kSWQ9LTE7dGhpcy5yZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoVS5ibGVuZCksdC5kcmF3RWxlbWVudHModC5UUklBTkdMRVMsNipVLnNpemUsdC5VTlNJR05FRF9TSE9SVCw2KlUuc3RhcnQqMil9dGhpcy5jdXJyZW50SW5kZXg9MH19LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5iaW5kU2hhZGVyKHRoaXMuc2hhZGVyKSxiLmRlZmF1bHQuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUiYmKHRoaXMucmVuZGVyZXIuYmluZFZhbyh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pLHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XS5iaW5kKCkpfSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5mbHVzaCgpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLnZhb01heDtlKyspdGhpcy52ZXJ0ZXhCdWZmZXJzW2VdJiZ0aGlzLnZlcnRleEJ1ZmZlcnNbZV0uZGVzdHJveSgpLHRoaXMudmFvc1tlXSYmdGhpcy52YW9zW2VdLmRlc3Ryb3koKTt0aGlzLmluZGV4QnVmZmVyJiZ0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnJlbmRlcmVyLm9mZihcXFwicHJlcmVuZGVyXFxcIix0aGlzLm9uUHJlcmVuZGVyLHRoaXMpLHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLnNoYWRlciYmKHRoaXMuc2hhZGVyLmRlc3Ryb3koKSx0aGlzLnNoYWRlcj1udWxsKSx0aGlzLnZlcnRleEJ1ZmZlcnM9bnVsbCx0aGlzLnZhb3M9bnVsbCx0aGlzLmluZGV4QnVmZmVyPW51bGwsdGhpcy5pbmRpY2VzPW51bGwsdGhpcy5zcHJpdGVzPW51bGw7Zm9yKHZhciByPTA7cjx0aGlzLmJ1ZmZlcnMubGVuZ3RoOysrcil0aGlzLmJ1ZmZlcnNbcl0uZGVzdHJveSgpfSxlfSh1LmRlZmF1bHQpO3IuZGVmYXVsdD1QLGwuZGVmYXVsdC5yZWdpc3RlclBsdWdpbihcXFwic3ByaXRlXFxcIixQKX0se1xcXCIuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlclxcXCI6ODQsXFxcIi4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlclxcXCI6OTQsXFxcIi4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXJcXFwiOjk3LFxcXCIuLi8uLi9zZXR0aW5nc1xcXCI6MTAxLFxcXCIuLi8uLi91dGlsc1xcXCI6MTI1LFxcXCIuLi8uLi91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHNcXFwiOjEyMyxcXFwiLi9CYXRjaEJ1ZmZlclxcXCI6MTA1LFxcXCIuL2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyXFxcIjoxMDcsXFxcImJpdC10d2lkZGxlXFxcIjoxLFxcXCJwaXhpLWdsLWNvcmVcXFwiOjE1fV0sMTA3OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXt2YXIgcj1hO3I9ci5yZXBsYWNlKC8lY291bnQlL2dpLGUpLHI9ci5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksaShlKSk7Zm9yKHZhciBuPW5ldyBzLmRlZmF1bHQodCxcXFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcXFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcXFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXFxcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXFxcbmF0dHJpYnV0ZSBmbG9hdCBhVGV4dHVyZUlkO1xcXFxuXFxcXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXFxcblxcXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcXFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcXFxuXFxcXG52b2lkIG1haW4odm9pZCl7XFxcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxcXG5cXFxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXFxcbiAgICB2VGV4dHVyZUlkID0gYVRleHR1cmVJZDtcXFxcbiAgICB2Q29sb3IgPSBhQ29sb3I7XFxcXG59XFxcXG5cXFwiLHIpLG89W10sdT0wO3U8ZTt1Kyspb1t1XT11O3JldHVybiBuLmJpbmQoKSxuLnVuaWZvcm1zLnVTYW1wbGVycz1vLG59ZnVuY3Rpb24gaSh0KXt2YXIgZT1cXFwiXFxcIjtlKz1cXFwiXFxcXG5cXFwiLGUrPVxcXCJcXFxcblxcXCI7Zm9yKHZhciByPTA7cjx0O3IrKylyPjAmJihlKz1cXFwiXFxcXG5lbHNlIFxcXCIpLHI8dC0xJiYoZSs9XFxcImlmKHRleHR1cmVJZCA9PSBcXFwiK3IrXFxcIi4wKVxcXCIpLGUrPVxcXCJcXFxcbntcXFwiLGUrPVxcXCJcXFxcblxcXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzW1xcXCIrcitcXFwiXSwgdlRleHR1cmVDb29yZCk7XFxcIixlKz1cXFwiXFxcXG59XFxcIjtyZXR1cm4gZSs9XFxcIlxcXFxuXFxcIixlKz1cXFwiXFxcXG5cXFwifXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9bjt2YXIgbz10KFxcXCIuLi8uLi9TaGFkZXJcXFwiKSxzPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0obyksYT0odChcXFwicGF0aFxcXCIpLFtcXFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxcIixcXFwidmFyeWluZyB2ZWM0IHZDb2xvcjtcXFwiLFxcXCJ2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XFxcIixcXFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJzWyVjb3VudCVdO1xcXCIsXFxcInZvaWQgbWFpbih2b2lkKXtcXFwiLFxcXCJ2ZWM0IGNvbG9yO1xcXCIsXFxcImZsb2F0IHRleHR1cmVJZCA9IGZsb29yKHZUZXh0dXJlSWQrMC41KTtcXFwiLFxcXCIlZm9ybG9vcCVcXFwiLFxcXCJnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjtcXFwiLFxcXCJ9XFxcIl0uam9pbihcXFwiXFxcXG5cXFwiKSl9LHtcXFwiLi4vLi4vU2hhZGVyXFxcIjo0NCxwYXRoOjh9XSwxMDg6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXFxcInZhbHVlXFxcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksdT10KFxcXCIuLi9zcHJpdGVzL1Nwcml0ZVxcXCIpLGg9bih1KSxsPXQoXFxcIi4uL3RleHR1cmVzL1RleHR1cmVcXFwiKSxjPW4obCksZD10KFxcXCIuLi9tYXRoXFxcIiksZj10KFxcXCIuLi91dGlsc1xcXCIpLHA9dChcXFwiLi4vY29uc3RcXFwiKSx2PXQoXFxcIi4uL3NldHRpbmdzXFxcIiksZz1uKHYpLHk9dChcXFwiLi9UZXh0U3R5bGVcXFwiKSxtPW4oeSksXz10KFxcXCIuL1RleHRNZXRyaWNzXFxcIiksYj1uKF8pLHg9dChcXFwiLi4vdXRpbHMvdHJpbUNhbnZhc1xcXCIpLFQ9bih4KSx3PXt0ZXh0dXJlOiEwLGNoaWxkcmVuOiExLGJhc2VUZXh0dXJlOiEwfSxFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixuLHMpe2kodGhpcyxlKSxzPXN8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXFxcImNhbnZhc1xcXCIpLHMud2lkdGg9MyxzLmhlaWdodD0zO3ZhciBhPWMuZGVmYXVsdC5mcm9tQ2FudmFzKHMsZy5kZWZhdWx0LlNDQUxFX01PREUsXFxcInRleHRcXFwiKTthLm9yaWc9bmV3IGQuUmVjdGFuZ2xlLGEudHJpbT1uZXcgZC5SZWN0YW5nbGU7dmFyIHU9byh0aGlzLHQuY2FsbCh0aGlzLGEpKTtyZXR1cm4gYy5kZWZhdWx0LmFkZFRvQ2FjaGUodS5fdGV4dHVyZSx1Ll90ZXh0dXJlLmJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkc1swXSksdS5jYW52YXM9cyx1LmNvbnRleHQ9dS5jYW52YXMuZ2V0Q29udGV4dChcXFwiMmRcXFwiKSx1LnJlc29sdXRpb249Zy5kZWZhdWx0LlJFU09MVVRJT04sdS5fdGV4dD1udWxsLHUuX3N0eWxlPW51bGwsdS5fc3R5bGVMaXN0ZW5lcj1udWxsLHUuX2ZvbnQ9XFxcIlxcXCIsdS50ZXh0PXIsdS5zdHlsZT1uLHUubG9jYWxTdHlsZUlEPS0xLHV9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS51cGRhdGVUZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0eWxlO2lmKHRoaXMubG9jYWxTdHlsZUlEIT09ZS5zdHlsZUlEJiYodGhpcy5kaXJ0eT0hMCx0aGlzLmxvY2FsU3R5bGVJRD1lLnN0eWxlSUQpLHRoaXMuZGlydHl8fCF0KXt0aGlzLl9mb250PXRoaXMuX3N0eWxlLnRvRm9udFN0cmluZygpO3ZhciByPXRoaXMuY29udGV4dCxuPWIuZGVmYXVsdC5tZWFzdXJlVGV4dCh0aGlzLl90ZXh0LHRoaXMuX3N0eWxlLHRoaXMuX3N0eWxlLndvcmRXcmFwLHRoaXMuY2FudmFzKSxpPW4ud2lkdGgsbz1uLmhlaWdodCxzPW4ubGluZXMsYT1uLmxpbmVIZWlnaHQsdT1uLmxpbmVXaWR0aHMsaD1uLm1heExpbmVXaWR0aCxsPW4uZm9udFByb3BlcnRpZXM7dGhpcy5jYW52YXMud2lkdGg9TWF0aC5jZWlsKChNYXRoLm1heCgxLGkpKzIqZS5wYWRkaW5nKSp0aGlzLnJlc29sdXRpb24pLHRoaXMuY2FudmFzLmhlaWdodD1NYXRoLmNlaWwoKE1hdGgubWF4KDEsbykrMiplLnBhZGRpbmcpKnRoaXMucmVzb2x1dGlvbiksci5zY2FsZSh0aGlzLnJlc29sdXRpb24sdGhpcy5yZXNvbHV0aW9uKSxyLmNsZWFyUmVjdCgwLDAsdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0KSxyLmZvbnQ9dGhpcy5fZm9udCxyLnN0cm9rZVN0eWxlPWUuc3Ryb2tlLHIubGluZVdpZHRoPWUuc3Ryb2tlVGhpY2tuZXNzLHIudGV4dEJhc2VsaW5lPWUudGV4dEJhc2VsaW5lLHIubGluZUpvaW49ZS5saW5lSm9pbixyLm1pdGVyTGltaXQ9ZS5taXRlckxpbWl0O3ZhciBjPXZvaWQgMCxkPXZvaWQgMDtpZihlLmRyb3BTaGFkb3cpe3IuZmlsbFN0eWxlPWUuZHJvcFNoYWRvd0NvbG9yLHIuZ2xvYmFsQWxwaGE9ZS5kcm9wU2hhZG93QWxwaGEsci5zaGFkb3dCbHVyPWUuZHJvcFNoYWRvd0JsdXIsZS5kcm9wU2hhZG93Qmx1cj4wJiYoci5zaGFkb3dDb2xvcj1lLmRyb3BTaGFkb3dDb2xvcik7Zm9yKHZhciBmPU1hdGguY29zKGUuZHJvcFNoYWRvd0FuZ2xlKSplLmRyb3BTaGFkb3dEaXN0YW5jZSxwPU1hdGguc2luKGUuZHJvcFNoYWRvd0FuZ2xlKSplLmRyb3BTaGFkb3dEaXN0YW5jZSx2PTA7djxzLmxlbmd0aDt2KyspYz1lLnN0cm9rZVRoaWNrbmVzcy8yLGQ9ZS5zdHJva2VUaGlja25lc3MvMit2KmErbC5hc2NlbnQsXFxcInJpZ2h0XFxcIj09PWUuYWxpZ24/Yys9aC11W3ZdOlxcXCJjZW50ZXJcXFwiPT09ZS5hbGlnbiYmKGMrPShoLXVbdl0pLzIpLGUuZmlsbCYmKHRoaXMuZHJhd0xldHRlclNwYWNpbmcoc1t2XSxjK2YrZS5wYWRkaW5nLGQrcCtlLnBhZGRpbmcpLGUuc3Ryb2tlJiZlLnN0cm9rZVRoaWNrbmVzcyYmKHIuc3Ryb2tlU3R5bGU9ZS5kcm9wU2hhZG93Q29sb3IsdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhzW3ZdLGMrZitlLnBhZGRpbmcsZCtwK2UucGFkZGluZywhMCksci5zdHJva2VTdHlsZT1lLnN0cm9rZSkpfXIuc2hhZG93Qmx1cj0wLHIuZ2xvYmFsQWxwaGE9MSxyLmZpbGxTdHlsZT10aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShlLHMpO2Zvcih2YXIgZz0wO2c8cy5sZW5ndGg7ZysrKWM9ZS5zdHJva2VUaGlja25lc3MvMixkPWUuc3Ryb2tlVGhpY2tuZXNzLzIrZyphK2wuYXNjZW50LFxcXCJyaWdodFxcXCI9PT1lLmFsaWduP2MrPWgtdVtnXTpcXFwiY2VudGVyXFxcIj09PWUuYWxpZ24mJihjKz0oaC11W2ddKS8yKSxlLnN0cm9rZSYmZS5zdHJva2VUaGlja25lc3MmJnRoaXMuZHJhd0xldHRlclNwYWNpbmcoc1tnXSxjK2UucGFkZGluZyxkK2UucGFkZGluZywhMCksZS5maWxsJiZ0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKHNbZ10sYytlLnBhZGRpbmcsZCtlLnBhZGRpbmcpO3RoaXMudXBkYXRlVGV4dHVyZSgpfX0sZS5wcm90b3R5cGUuZHJhd0xldHRlclNwYWNpbmc9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM10saT10aGlzLl9zdHlsZSxvPWkubGV0dGVyU3BhY2luZztpZigwPT09bylyZXR1cm4gdm9pZChuP3RoaXMuY29udGV4dC5zdHJva2VUZXh0KHQsZSxyKTp0aGlzLmNvbnRleHQuZmlsbFRleHQodCxlLHIpKTtmb3IodmFyIHM9U3RyaW5nLnByb3RvdHlwZS5zcGxpdC5jYWxsKHQsXFxcIlxcXCIpLGE9ZSx1PTAsaD1cXFwiXFxcIjt1PHQubGVuZ3RoOyloPXNbdSsrXSxuP3RoaXMuY29udGV4dC5zdHJva2VUZXh0KGgsYSxyKTp0aGlzLmNvbnRleHQuZmlsbFRleHQoaCxhLHIpLGErPXRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChoKS53aWR0aCtvfSxlLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jYW52YXM7aWYodGhpcy5fc3R5bGUudHJpbSl7dmFyIGU9KDAsVC5kZWZhdWx0KSh0KTtlLmRhdGEmJih0LndpZHRoPWUud2lkdGgsdC5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YShlLmRhdGEsMCwwKSl9dmFyIHI9dGhpcy5fdGV4dHVyZSxuPXRoaXMuX3N0eWxlLGk9bi50cmltPzA6bi5wYWRkaW5nLG89ci5iYXNlVGV4dHVyZTtvLmhhc0xvYWRlZD0hMCxvLnJlc29sdXRpb249dGhpcy5yZXNvbHV0aW9uLG8ucmVhbFdpZHRoPXQud2lkdGgsby5yZWFsSGVpZ2h0PXQuaGVpZ2h0LG8ud2lkdGg9dC53aWR0aC90aGlzLnJlc29sdXRpb24sby5oZWlnaHQ9dC5oZWlnaHQvdGhpcy5yZXNvbHV0aW9uLHIudHJpbS53aWR0aD1yLl9mcmFtZS53aWR0aD10LndpZHRoL3RoaXMucmVzb2x1dGlvbixyLnRyaW0uaGVpZ2h0PXIuX2ZyYW1lLmhlaWdodD10LmhlaWdodC90aGlzLnJlc29sdXRpb24sci50cmltLng9LWksci50cmltLnk9LWksci5vcmlnLndpZHRoPXIuX2ZyYW1lLndpZHRoLTIqaSxyLm9yaWcuaGVpZ2h0PXIuX2ZyYW1lLmhlaWdodC0yKmksdGhpcy5fb25UZXh0dXJlVXBkYXRlKCksby5lbWl0KFxcXCJ1cGRhdGVcXFwiLG8pLHRoaXMuZGlydHk9ITF9LGUucHJvdG90eXBlLnJlbmRlcldlYkdMPWZ1bmN0aW9uKGUpe3RoaXMucmVzb2x1dGlvbiE9PWUucmVzb2x1dGlvbiYmKHRoaXMucmVzb2x1dGlvbj1lLnJlc29sdXRpb24sdGhpcy5kaXJ0eT0hMCksdGhpcy51cGRhdGVUZXh0KCEwKSx0LnByb3RvdHlwZS5yZW5kZXJXZWJHTC5jYWxsKHRoaXMsZSl9LGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24oZSl7dGhpcy5yZXNvbHV0aW9uIT09ZS5yZXNvbHV0aW9uJiYodGhpcy5yZXNvbHV0aW9uPWUucmVzb2x1dGlvbix0aGlzLmRpcnR5PSEwKSx0aGlzLnVwZGF0ZVRleHQoITApLHQucHJvdG90eXBlLl9yZW5kZXJDYW52YXMuY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGVUZXh0KCEwKSx0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsZSl9LGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHM9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVRleHQoITApLHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKSx0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpfSxlLnByb3RvdHlwZS5fb25TdHlsZUNoYW5nZT1mdW5jdGlvbigpe3RoaXMuZGlydHk9ITB9LGUucHJvdG90eXBlLl9nZW5lcmF0ZUZpbGxTdHlsZT1mdW5jdGlvbih0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQuZmlsbCkpcmV0dXJuIHQuZmlsbDtpZihuYXZpZ2F0b3IuaXNDb2Nvb25KUylyZXR1cm4gdC5maWxsWzBdO3ZhciByPXZvaWQgMCxuPXZvaWQgMCxpPXZvaWQgMCxvPXZvaWQgMCxzPXRoaXMuY2FudmFzLndpZHRoL3RoaXMucmVzb2x1dGlvbixhPXRoaXMuY2FudmFzLmhlaWdodC90aGlzLnJlc29sdXRpb24sdT10LmZpbGwuc2xpY2UoKSxoPXQuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtpZighaC5sZW5ndGgpZm9yKHZhciBsPXUubGVuZ3RoKzEsYz0xO2M8bDsrK2MpaC5wdXNoKGMvbCk7aWYodS51bnNoaWZ0KHQuZmlsbFswXSksaC51bnNoaWZ0KDApLHUucHVzaCh0LmZpbGxbdC5maWxsLmxlbmd0aC0xXSksaC5wdXNoKDEpLHQuZmlsbEdyYWRpZW50VHlwZT09PXAuVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpe3I9dGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHMvMiwwLHMvMixhKSxuPSh1Lmxlbmd0aCsxKSplLmxlbmd0aCxpPTA7Zm9yKHZhciBkPTA7ZDxlLmxlbmd0aDtkKyspe2krPTE7Zm9yKHZhciBmPTA7Zjx1Lmxlbmd0aDtmKyspbz1cXFwibnVtYmVyXFxcIj09dHlwZW9mIGhbZl0/aFtmXS9lLmxlbmd0aCtkL2UubGVuZ3RoOmkvbixyLmFkZENvbG9yU3RvcChvLHVbZl0pLGkrK319ZWxzZXtyPXRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLGEvMixzLGEvMiksbj11Lmxlbmd0aCsxLGk9MTtmb3IodmFyIHY9MDt2PHUubGVuZ3RoO3YrKylvPVxcXCJudW1iZXJcXFwiPT10eXBlb2YgaFt2XT9oW3ZdOmkvbixyLmFkZENvbG9yU3RvcChvLHVbdl0pLGkrK31yZXR1cm4gcn0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihlKXtcXFwiYm9vbGVhblxcXCI9PXR5cGVvZiBlJiYoZT17Y2hpbGRyZW46ZX0pLGU9T2JqZWN0LmFzc2lnbih7fSx3LGUpLHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLGUpLHRoaXMuY29udGV4dD1udWxsLHRoaXMuY2FudmFzPW51bGwsdGhpcy5fc3R5bGU9bnVsbH0sYShlLFt7a2V5OlxcXCJ3aWR0aFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlVGV4dCghMCksTWF0aC5hYnModGhpcy5zY2FsZS54KSp0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGh9LHNldDpmdW5jdGlvbih0KXt0aGlzLnVwZGF0ZVRleHQoITApO3ZhciBlPSgwLGYuc2lnbikodGhpcy5zY2FsZS54KXx8MTt0aGlzLnNjYWxlLng9ZSp0L3RoaXMuX3RleHR1cmUub3JpZy53aWR0aCx0aGlzLl93aWR0aD10fX0se2tleTpcXFwiaGVpZ2h0XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cGRhdGVUZXh0KCEwKSxNYXRoLmFicyh0aGlzLnNjYWxlLnkpKnRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHR9LHNldDpmdW5jdGlvbih0KXt0aGlzLnVwZGF0ZVRleHQoITApO3ZhciBlPSgwLGYuc2lnbikodGhpcy5zY2FsZS55KXx8MTt0aGlzLnNjYWxlLnk9ZSp0L3RoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQsdGhpcy5faGVpZ2h0PXR9fSx7a2V5OlxcXCJzdHlsZVxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0eWxlfSxzZXQ6ZnVuY3Rpb24odCl7dD10fHx7fSx0IGluc3RhbmNlb2YgbS5kZWZhdWx0P3RoaXMuX3N0eWxlPXQ6dGhpcy5fc3R5bGU9bmV3IG0uZGVmYXVsdCh0KSx0aGlzLmxvY2FsU3R5bGVJRD0tMSx0aGlzLmRpcnR5PSEwfX0se2tleTpcXFwidGV4dFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR9LHNldDpmdW5jdGlvbih0KXt0PVN0cmluZyhcXFwiXFxcIj09PXR8fG51bGw9PT10fHx2b2lkIDA9PT10P1xcXCIgXFxcIjp0KSx0aGlzLl90ZXh0IT09dCYmKHRoaXMuX3RleHQ9dCx0aGlzLmRpcnR5PSEwKX19XSksZX0oaC5kZWZhdWx0KTtyLmRlZmF1bHQ9RX0se1xcXCIuLi9jb25zdFxcXCI6NDYsXFxcIi4uL21hdGhcXFwiOjcwLFxcXCIuLi9zZXR0aW5nc1xcXCI6MTAxLFxcXCIuLi9zcHJpdGVzL1Nwcml0ZVxcXCI6MTAyLFxcXCIuLi90ZXh0dXJlcy9UZXh0dXJlXFxcIjoxMTUsXFxcIi4uL3V0aWxzXFxcIjoxMjUsXFxcIi4uL3V0aWxzL3RyaW1DYW52YXNcXFwiOjEzMCxcXFwiLi9UZXh0TWV0cmljc1xcXCI6MTA5LFxcXCIuL1RleHRTdHlsZVxcXCI6MTEwfV0sMTA5OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscixpLG8scyxhLHUsaCxsKXtuKHRoaXMsdCksdGhpcy50ZXh0PWUsdGhpcy5zdHlsZT1yLHRoaXMud2lkdGg9aSx0aGlzLmhlaWdodD1vLHRoaXMubGluZXM9cyx0aGlzLmxpbmVXaWR0aHM9YSx0aGlzLmxpbmVIZWlnaHQ9dSx0aGlzLm1heExpbmVXaWR0aD1oLHRoaXMuZm9udFByb3BlcnRpZXM9bH1yZXR1cm4gdC5tZWFzdXJlVGV4dD1mdW5jdGlvbihlLHIsbil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnQuX2NhbnZhcztuPXZvaWQgMD09PW58fG51bGw9PT1uP3Iud29yZFdyYXA6bjt2YXIgbz1yLnRvRm9udFN0cmluZygpLHM9dC5tZWFzdXJlRm9udChvKSxhPWkuZ2V0Q29udGV4dChcXFwiMmRcXFwiKTthLmZvbnQ9bztmb3IodmFyIHU9bj90LndvcmRXcmFwKGUscixpKTplLGg9dS5zcGxpdCgvKD86XFxcXHJcXFxcbnxcXFxccnxcXFxcbikvKSxsPW5ldyBBcnJheShoLmxlbmd0aCksYz0wLGQ9MDtkPGgubGVuZ3RoO2QrKyl7dmFyIGY9YS5tZWFzdXJlVGV4dChoW2RdKS53aWR0aCsoaFtkXS5sZW5ndGgtMSkqci5sZXR0ZXJTcGFjaW5nO2xbZF09ZixjPU1hdGgubWF4KGMsZil9dmFyIHA9YytyLnN0cm9rZVRoaWNrbmVzcztyLmRyb3BTaGFkb3cmJihwKz1yLmRyb3BTaGFkb3dEaXN0YW5jZSk7dmFyIHY9ci5saW5lSGVpZ2h0fHxzLmZvbnRTaXplK3Iuc3Ryb2tlVGhpY2tuZXNzLGc9TWF0aC5tYXgodixzLmZvbnRTaXplK3Iuc3Ryb2tlVGhpY2tuZXNzKSsoaC5sZW5ndGgtMSkqKHYrci5sZWFkaW5nKTtyZXR1cm4gci5kcm9wU2hhZG93JiYoZys9ci5kcm9wU2hhZG93RGlzdGFuY2UpLG5ldyB0KGUscixwLGcsaCxsLHYrci5sZWFkaW5nLGMscyl9LHQud29yZFdyYXA9ZnVuY3Rpb24oZSxyKXtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnQuX2NhbnZhcyxpPW4uZ2V0Q29udGV4dChcXFwiMmRcXFwiKSxvPTAscz1cXFwiXFxcIixhPVxcXCJcXFwiLHU9e30saD1yLmxldHRlclNwYWNpbmcsbD1yLndoaXRlU3BhY2UsYz10LmNvbGxhcHNlU3BhY2VzKGwpLGQ9dC5jb2xsYXBzZU5ld2xpbmVzKGwpLGY9IWMscD1yLndvcmRXcmFwV2lkdGgraCx2PXQudG9rZW5pemUoZSksZz0wO2c8di5sZW5ndGg7ZysrKXt2YXIgeT12W2ddO2lmKHQuaXNOZXdsaW5lKHkpKXtpZighZCl7YSs9dC5hZGRMaW5lKHMpLGY9IWMscz1cXFwiXFxcIixvPTA7Y29udGludWV9eT1cXFwiIFxcXCJ9aWYoYyl7dmFyIG09dC5pc0JyZWFraW5nU3BhY2UoeSksXz10LmlzQnJlYWtpbmdTcGFjZShzW3MubGVuZ3RoLTFdKTtpZihtJiZfKWNvbnRpbnVlfXZhciBiPXQuZ2V0RnJvbUNhY2hlKHksaCx1LGkpO2lmKGI+cClpZihcXFwiXFxcIiE9PXMmJihhKz10LmFkZExpbmUocykscz1cXFwiXFxcIixvPTApLHQuY2FuQnJlYWtXb3Jkcyh5LHIuYnJlYWtXb3JkcykpZm9yKHZhciB4PXkuc3BsaXQoXFxcIlxcXCIpLFQ9MDtUPHgubGVuZ3RoO1QrKyl7Zm9yKHZhciB3PXhbVF0sRT0xO3hbVCtFXTspe3ZhciBTPXhbVCtFXSxPPXdbdy5sZW5ndGgtMV07aWYodC5jYW5CcmVha0NoYXJzKE8sUyx5LFQsci5icmVha1dvcmRzKSlicmVhazt3Kz1TLEUrK31UKz13Lmxlbmd0aC0xO3ZhciBNPXQuZ2V0RnJvbUNhY2hlKHcsaCx1LGkpO00rbz5wJiYoYSs9dC5hZGRMaW5lKHMpLGY9ITEscz1cXFwiXFxcIixvPTApLHMrPXcsbys9TX1lbHNle3MubGVuZ3RoPjAmJihhKz10LmFkZExpbmUocykscz1cXFwiXFxcIixvPTApO3ZhciBQPWc9PT12Lmxlbmd0aC0xO2ErPXQuYWRkTGluZSh5LCFQKSxmPSExLHM9XFxcIlxcXCIsbz0wfWVsc2UgYitvPnAmJihmPSExLGErPXQuYWRkTGluZShzKSxzPVxcXCJcXFwiLG89MCksKHMubGVuZ3RoPjB8fCF0LmlzQnJlYWtpbmdTcGFjZSh5KXx8ZikmJihzKz15LG8rPWIpfXJldHVybiBhKz10LmFkZExpbmUocywhMSl9LHQuYWRkTGluZT1mdW5jdGlvbihlKXt2YXIgcj0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO3JldHVybiBlPXQudHJpbVJpZ2h0KGUpLGU9cj9lK1xcXCJcXFxcblxcXCI6ZX0sdC5nZXRGcm9tQ2FjaGU9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9clt0XTtpZih2b2lkIDA9PT1pKXt2YXIgbz10Lmxlbmd0aCplO2k9bi5tZWFzdXJlVGV4dCh0KS53aWR0aCtvLHJbdF09aX1yZXR1cm4gaX0sdC5jb2xsYXBzZVNwYWNlcz1mdW5jdGlvbih0KXtyZXR1cm5cXFwibm9ybWFsXFxcIj09PXR8fFxcXCJwcmUtbGluZVxcXCI9PT10fSx0LmNvbGxhcHNlTmV3bGluZXM9ZnVuY3Rpb24odCl7cmV0dXJuXFxcIm5vcm1hbFxcXCI9PT10fSx0LnRyaW1SaWdodD1mdW5jdGlvbihlKXtpZihcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGUpcmV0dXJuXFxcIlxcXCI7Zm9yKHZhciByPWUubGVuZ3RoLTE7cj49MDtyLS0pe3ZhciBuPWVbcl07aWYoIXQuaXNCcmVha2luZ1NwYWNlKG4pKWJyZWFrO2U9ZS5zbGljZSgwLC0xKX1yZXR1cm4gZX0sdC5pc05ld2xpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBlJiZ0Ll9uZXdsaW5lcy5pbmRleE9mKGUuY2hhckNvZGVBdCgwKSk+PTB9LHQuaXNCcmVha2luZ1NwYWNlPWZ1bmN0aW9uKGUpe3JldHVyblxcXCJzdHJpbmdcXFwiPT10eXBlb2YgZSYmdC5fYnJlYWtpbmdTcGFjZXMuaW5kZXhPZihlLmNoYXJDb2RlQXQoMCkpPj0wfSx0LnRva2VuaXplPWZ1bmN0aW9uKGUpe3ZhciByPVtdLG49XFxcIlxcXCI7aWYoXFxcInN0cmluZ1xcXCIhPXR5cGVvZiBlKXJldHVybiByO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO3QuaXNCcmVha2luZ1NwYWNlKG8pfHx0LmlzTmV3bGluZShvKT8oXFxcIlxcXCIhPT1uJiYoci5wdXNoKG4pLG49XFxcIlxcXCIpLHIucHVzaChvKSk6bis9b31yZXR1cm5cXFwiXFxcIiE9PW4mJnIucHVzaChuKSxyfSx0LmNhbkJyZWFrV29yZHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZX0sdC5jYW5CcmVha0NoYXJzPWZ1bmN0aW9uKHQsZSxyLG4saSl7cmV0dXJuITB9LHQubWVhc3VyZUZvbnQ9ZnVuY3Rpb24oZSl7aWYodC5fZm9udHNbZV0pcmV0dXJuIHQuX2ZvbnRzW2VdO3ZhciByPXt9LG49dC5fY2FudmFzLGk9dC5fY29udGV4dDtpLmZvbnQ9ZTt2YXIgbz10Lk1FVFJJQ1NfU1RSSU5HK3QuQkFTRUxJTkVfU1lNQk9MLHM9TWF0aC5jZWlsKGkubWVhc3VyZVRleHQobykud2lkdGgpLGE9TWF0aC5jZWlsKGkubWVhc3VyZVRleHQodC5CQVNFTElORV9TWU1CT0wpLndpZHRoKSx1PTIqYTthPWEqdC5CQVNFTElORV9NVUxUSVBMSUVSfDAsbi53aWR0aD1zLG4uaGVpZ2h0PXUsaS5maWxsU3R5bGU9XFxcIiNmMDBcXFwiLGkuZmlsbFJlY3QoMCwwLHMsdSksaS5mb250PWUsaS50ZXh0QmFzZWxpbmU9XFxcImFscGhhYmV0aWNcXFwiLGkuZmlsbFN0eWxlPVxcXCIjMDAwXFxcIixpLmZpbGxUZXh0KG8sMCxhKTt2YXIgaD1pLmdldEltYWdlRGF0YSgwLDAscyx1KS5kYXRhLGw9aC5sZW5ndGgsYz00KnMsZD0wLGY9MCxwPSExO2ZvcihkPTA7ZDxhOysrZCl7Zm9yKHZhciB2PTA7djxjO3YrPTQpaWYoMjU1IT09aFtmK3ZdKXtwPSEwO2JyZWFrfWlmKHApYnJlYWs7Zis9Y31mb3Ioci5hc2NlbnQ9YS1kLGY9bC1jLHA9ITEsZD11O2Q+YTstLWQpe2Zvcih2YXIgZz0wO2c8YztnKz00KWlmKDI1NSE9PWhbZitnXSl7cD0hMDticmVha31pZihwKWJyZWFrO2YtPWN9cmV0dXJuIHIuZGVzY2VudD1kLWEsci5mb250U2l6ZT1yLmFzY2VudCtyLmRlc2NlbnQsdC5fZm9udHNbZV09cixyfSx0LmNsZWFyTWV0cmljcz1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcXFwiXFxcIjtlP2RlbGV0ZSB0Ll9mb250c1tlXTp0Ll9mb250cz17fX0sdH0oKTtyLmRlZmF1bHQ9aTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJjYW52YXNcXFwiKTtvLndpZHRoPW8uaGVpZ2h0PTEwLGkuX2NhbnZhcz1vLGkuX2NvbnRleHQ9by5nZXRDb250ZXh0KFxcXCIyZFxcXCIpLGkuX2ZvbnRzPXt9LGkuTUVUUklDU19TVFJJTkc9XFxcInzDiXFcXFwiLGkuQkFTRUxJTkVfU1lNQk9MPVxcXCJNXFxcIixpLkJBU0VMSU5FX01VTFRJUExJRVI9MS40LGkuX25ld2xpbmVzPVsxMCwxM10saS5fYnJlYWtpbmdTcGFjZXM9WzksMzIsODE5Miw4MTkzLDgxOTQsODE5NSw4MTk2LDgxOTcsODE5OCw4MjAwLDgyMDEsODIwMiw4Mjg3LDEyMjg4XX0se31dLDExMDpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gaSh0KXtyZXR1cm5cXFwibnVtYmVyXFxcIj09dHlwZW9mIHQ/KDAsbC5oZXgyc3RyaW5nKSh0KTooXFxcInN0cmluZ1xcXCI9PXR5cGVvZiB0JiYwPT09dC5pbmRleE9mKFxcXCIweFxcXCIpJiYodD10LnJlcGxhY2UoXFxcIjB4XFxcIixcXFwiI1xcXCIpKSx0KX1mdW5jdGlvbiBvKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7KytlKXRbZV09aSh0W2VdKTtyZXR1cm4gdH1yZXR1cm4gaSh0KX1mdW5jdGlvbiBzKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCl8fCFBcnJheS5pc0FycmF5KGUpKXJldHVybiExO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3IpaWYodFtyXSE9PWVbcl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gYSh0LGUscil7Zm9yKHZhciBuIGluIHIpQXJyYXkuaXNBcnJheShlW25dKT90W25dPWVbbl0uc2xpY2UoKTp0W25dPWVbbl19ci5fX2VzTW9kdWxlPSEwO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGg9dChcXFwiLi4vY29uc3RcXFwiKSxsPXQoXFxcIi4uL3V0aWxzXFxcIiksYz17YWxpZ246XFxcImxlZnRcXFwiLGJyZWFrV29yZHM6ITEsZHJvcFNoYWRvdzohMSxkcm9wU2hhZG93QWxwaGE6MSxkcm9wU2hhZG93QW5nbGU6TWF0aC5QSS82LGRyb3BTaGFkb3dCbHVyOjAsZHJvcFNoYWRvd0NvbG9yOlxcXCJibGFja1xcXCIsZHJvcFNoYWRvd0Rpc3RhbmNlOjUsZmlsbDpcXFwiYmxhY2tcXFwiLGZpbGxHcmFkaWVudFR5cGU6aC5URVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCxmaWxsR3JhZGllbnRTdG9wczpbXSxmb250RmFtaWx5OlxcXCJBcmlhbFxcXCIsZm9udFNpemU6MjYsZm9udFN0eWxlOlxcXCJub3JtYWxcXFwiLGZvbnRWYXJpYW50OlxcXCJub3JtYWxcXFwiLGZvbnRXZWlnaHQ6XFxcIm5vcm1hbFxcXCIsbGV0dGVyU3BhY2luZzowLGxpbmVIZWlnaHQ6MCxsaW5lSm9pbjpcXFwibWl0ZXJcXFwiLG1pdGVyTGltaXQ6MTAscGFkZGluZzowLHN0cm9rZTpcXFwiYmxhY2tcXFwiLHN0cm9rZVRoaWNrbmVzczowLHRleHRCYXNlbGluZTpcXFwiYWxwaGFiZXRpY1xcXCIsdHJpbTohMSx3aGl0ZVNwYWNlOlxcXCJwcmVcXFwiLHdvcmRXcmFwOiExLHdvcmRXcmFwV2lkdGg6MTAwLGxlYWRpbmc6MH0sZD1bXFxcInNlcmlmXFxcIixcXFwic2Fucy1zZXJpZlxcXCIsXFxcIm1vbm9zcGFjZVxcXCIsXFxcImN1cnNpdmVcXFwiLFxcXCJmYW50YXN5XFxcIixcXFwic3lzdGVtLXVpXFxcIl0sZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7bih0aGlzLHQpLHRoaXMuc3R5bGVJRD0wLHRoaXMucmVzZXQoKSxhKHRoaXMsZSxlKX1yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gYShlLHRoaXMsYyksbmV3IHQoZSl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7YSh0aGlzLGMsYyl9LHQucHJvdG90eXBlLnRvRm9udFN0cmluZz1mdW5jdGlvbigpe3ZhciB0PVxcXCJudW1iZXJcXFwiPT10eXBlb2YgdGhpcy5mb250U2l6ZT90aGlzLmZvbnRTaXplK1xcXCJweFxcXCI6dGhpcy5mb250U2l6ZSxlPXRoaXMuZm9udEZhbWlseTtBcnJheS5pc0FycmF5KHRoaXMuZm9udEZhbWlseSl8fChlPXRoaXMuZm9udEZhbWlseS5zcGxpdChcXFwiLFxcXCIpKTtmb3IodmFyIHI9ZS5sZW5ndGgtMTtyPj0wO3ItLSl7dmFyIG49ZVtyXS50cmltKCk7IS8oW1xcXFxcXFwiXFxcXCddKVteXFxcXCdcXFxcXFxcIl0rXFxcXDEvLnRlc3QobikmJmQuaW5kZXhPZihuKTwwJiYobj0nXFxcIicrbisnXFxcIicpLGVbcl09bn1yZXR1cm4gdGhpcy5mb250U3R5bGUrXFxcIiBcXFwiK3RoaXMuZm9udFZhcmlhbnQrXFxcIiBcXFwiK3RoaXMuZm9udFdlaWdodCtcXFwiIFxcXCIrdCtcXFwiIFxcXCIrZS5qb2luKFxcXCIsXFxcIil9LHUodCxbe2tleTpcXFwiYWxpZ25cXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbGlnbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2FsaWduIT09dCYmKHRoaXMuX2FsaWduPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcXFwiYnJlYWtXb3Jkc1xcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JyZWFrV29yZHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9icmVha1dvcmRzIT09dCYmKHRoaXMuX2JyZWFrV29yZHM9dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlxcXCJkcm9wU2hhZG93XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJvcFNoYWRvd30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Ryb3BTaGFkb3chPT10JiYodGhpcy5fZHJvcFNoYWRvdz10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XFxcImRyb3BTaGFkb3dBbHBoYVxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Ryb3BTaGFkb3dBbHBoYSE9PXQmJih0aGlzLl9kcm9wU2hhZG93QWxwaGE9dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlxcXCJkcm9wU2hhZG93QW5nbGVcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcm9wU2hhZG93QW5nbGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9kcm9wU2hhZG93QW5nbGUhPT10JiYodGhpcy5fZHJvcFNoYWRvd0FuZ2xlPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcXFwiZHJvcFNoYWRvd0JsdXJcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Ryb3BTaGFkb3dCbHVyIT09dCYmKHRoaXMuX2Ryb3BTaGFkb3dCbHVyPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcXFwiZHJvcFNoYWRvd0NvbG9yXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0NvbG9yfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9byh0KTt0aGlzLl9kcm9wU2hhZG93Q29sb3IhPT1lJiYodGhpcy5fZHJvcFNoYWRvd0NvbG9yPWUsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcXFwiZHJvcFNoYWRvd0Rpc3RhbmNlXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlIT09dCYmKHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZT10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XFxcImZpbGxcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxsfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9byh0KTt0aGlzLl9maWxsIT09ZSYmKHRoaXMuX2ZpbGw9ZSx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlxcXCJmaWxsR3JhZGllbnRUeXBlXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50VHlwZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZpbGxHcmFkaWVudFR5cGUhPT10JiYodGhpcy5fZmlsbEdyYWRpZW50VHlwZT10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XFxcImZpbGxHcmFkaWVudFN0b3BzXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50U3RvcHN9LHNldDpmdW5jdGlvbih0KXtzKHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzLHQpfHwodGhpcy5fZmlsbEdyYWRpZW50U3RvcHM9dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlxcXCJmb250RmFtaWx5XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udEZhbWlseX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZm9udEZhbWlseSE9PXQmJih0aGlzLl9mb250RmFtaWx5PXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcXFwiZm9udFNpemVcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb250U2l6ZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvbnRTaXplIT09dCYmKHRoaXMuX2ZvbnRTaXplPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcXFwiZm9udFN0eWxlXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udFN0eWxlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZm9udFN0eWxlIT09dCYmKHRoaXMuX2ZvbnRTdHlsZT10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XFxcImZvbnRWYXJpYW50XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udFZhcmlhbnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mb250VmFyaWFudCE9PXQmJih0aGlzLl9mb250VmFyaWFudD10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XFxcImZvbnRXZWlnaHRcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb250V2VpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZm9udFdlaWdodCE9PXQmJih0aGlzLl9mb250V2VpZ2h0PXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcXFwibGV0dGVyU3BhY2luZ1xcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmd9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sZXR0ZXJTcGFjaW5nIT09dCYmKHRoaXMuX2xldHRlclNwYWNpbmc9dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlxcXCJsaW5lSGVpZ2h0XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGluZUhlaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xpbmVIZWlnaHQhPT10JiYodGhpcy5fbGluZUhlaWdodD10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XFxcImxlYWRpbmdcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZWFkaW5nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbGVhZGluZyE9PXQmJih0aGlzLl9sZWFkaW5nPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcXFwibGluZUpvaW5cXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lSm9pbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xpbmVKb2luIT09dCYmKHRoaXMuX2xpbmVKb2luPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcXFwibWl0ZXJMaW1pdFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pdGVyTGltaXR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9taXRlckxpbWl0IT09dCYmKHRoaXMuX21pdGVyTGltaXQ9dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlxcXCJwYWRkaW5nXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFkZGluZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3BhZGRpbmchPT10JiYodGhpcy5fcGFkZGluZz10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XFxcInN0cm9rZVxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cm9rZX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPW8odCk7dGhpcy5fc3Ryb2tlIT09ZSYmKHRoaXMuX3N0cm9rZT1lLHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XFxcInN0cm9rZVRoaWNrbmVzc1xcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cm9rZVRoaWNrbmVzc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3N0cm9rZVRoaWNrbmVzcyE9PXQmJih0aGlzLl9zdHJva2VUaGlja25lc3M9dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlxcXCJ0ZXh0QmFzZWxpbmVcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0QmFzZWxpbmV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0QmFzZWxpbmUhPT10JiYodGhpcy5fdGV4dEJhc2VsaW5lPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcXFwidHJpbVxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyaW19LHNldDpmdW5jdGlvbih0KXt0aGlzLl90cmltIT09dCYmKHRoaXMuX3RyaW09dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlxcXCJ3aGl0ZVNwYWNlXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2hpdGVTcGFjZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3doaXRlU3BhY2UhPT10JiYodGhpcy5fd2hpdGVTcGFjZT10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XFxcIndvcmRXcmFwXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd29yZFdyYXB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl93b3JkV3JhcCE9PXQmJih0aGlzLl93b3JkV3JhcD10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XFxcIndvcmRXcmFwV2lkdGhcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93b3JkV3JhcFdpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fd29yZFdyYXBXaWR0aCE9PXQmJih0aGlzLl93b3JkV3JhcFdpZHRoPXQsdGhpcy5zdHlsZUlEKyspfX1dKSx0fSgpO3IuZGVmYXVsdD1mfSx7XFxcIi4uL2NvbnN0XFxcIjo0NixcXFwiLi4vdXRpbHNcXFwiOjEyNX1dLDExMTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT10KFxcXCIuL0Jhc2VUZXh0dXJlXFxcIiksdT1uKGEpLGg9dChcXFwiLi4vc2V0dGluZ3NcXFwiKSxsPW4oaCksYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjEwMCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxMDAscz1hcmd1bWVudHNbMl0sYT1hcmd1bWVudHNbM107aSh0aGlzLGUpO3ZhciB1PW8odGhpcyx0LmNhbGwodGhpcyxudWxsLHMpKTtyZXR1cm4gdS5yZXNvbHV0aW9uPWF8fGwuZGVmYXVsdC5SRVNPTFVUSU9OLHUud2lkdGg9TWF0aC5jZWlsKHIpLHUuaGVpZ2h0PU1hdGguY2VpbChuKSx1LnJlYWxXaWR0aD11LndpZHRoKnUucmVzb2x1dGlvbix1LnJlYWxIZWlnaHQ9dS5oZWlnaHQqdS5yZXNvbHV0aW9uLHUuc2NhbGVNb2RlPXZvaWQgMCE9PXM/czpsLmRlZmF1bHQuU0NBTEVfTU9ERSx1Lmhhc0xvYWRlZD0hMCx1Ll9nbFJlbmRlclRhcmdldHM9e30sdS5fY2FudmFzUmVuZGVyVGFyZ2V0PW51bGwsdS52YWxpZD0hMSx1fXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dD1NYXRoLmNlaWwodCksZT1NYXRoLmNlaWwoZSksdD09PXRoaXMud2lkdGgmJmU9PT10aGlzLmhlaWdodHx8KHRoaXMudmFsaWQ9dD4wJiZlPjAsdGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy5yZWFsV2lkdGg9dGhpcy53aWR0aCp0aGlzLnJlc29sdXRpb24sdGhpcy5yZWFsSGVpZ2h0PXRoaXMuaGVpZ2h0KnRoaXMucmVzb2x1dGlvbix0aGlzLnZhbGlkJiZ0aGlzLmVtaXQoXFxcInVwZGF0ZVxcXCIsdGhpcykpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsITApLHRoaXMucmVuZGVyZXI9bnVsbH0sZX0odS5kZWZhdWx0KTtyLmRlZmF1bHQ9Y30se1xcXCIuLi9zZXR0aW5nc1xcXCI6MTAxLFxcXCIuL0Jhc2VUZXh0dXJlXFxcIjoxMTJ9XSwxMTI6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9dChcXFwiLi4vdXRpbHNcXFwiKSx1PXQoXFxcIi4uL3NldHRpbmdzXFxcIiksaD1uKHUpLGw9dChcXFwiZXZlbnRlbWl0dGVyM1xcXCIpLGM9bihsKSxkPXQoXFxcIi4uL3V0aWxzL2RldGVybWluZUNyb3NzT3JpZ2luXFxcIiksZj1uKGQpLHA9dChcXFwiYml0LXR3aWRkbGVcXFwiKSx2PW4ocCksZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbixzKXtpKHRoaXMsZSk7dmFyIHU9byh0aGlzLHQuY2FsbCh0aGlzKSk7cmV0dXJuIHUudWlkPSgwLGEudWlkKSgpLHUudG91Y2hlZD0wLHUucmVzb2x1dGlvbj1zfHxoLmRlZmF1bHQuUkVTT0xVVElPTix1LndpZHRoPTEwMCx1LmhlaWdodD0xMDAsdS5yZWFsV2lkdGg9MTAwLHUucmVhbEhlaWdodD0xMDAsdS5zY2FsZU1vZGU9dm9pZCAwIT09bj9uOmguZGVmYXVsdC5TQ0FMRV9NT0RFLHUuaGFzTG9hZGVkPSExLHUuaXNMb2FkaW5nPSExLHUuc291cmNlPW51bGwsdS5vcmlnU291cmNlPW51bGwsdS5pbWFnZVR5cGU9bnVsbCx1LnNvdXJjZVNjYWxlPTEsdS5wcmVtdWx0aXBsaWVkQWxwaGE9ITAsdS5pbWFnZVVybD1udWxsLHUuaXNQb3dlck9mVHdvPSExLHUubWlwbWFwPWguZGVmYXVsdC5NSVBNQVBfVEVYVFVSRVMsdS53cmFwTW9kZT1oLmRlZmF1bHQuV1JBUF9NT0RFLHUuX2dsVGV4dHVyZXM9e30sdS5fZW5hYmxlZD0wLHUuX3ZpcnRhbEJvdW5kSWQ9LTEsdS5fZGVzdHJveWVkPSExLHUudGV4dHVyZUNhY2hlSWRzPVtdLHImJnUubG9hZFNvdXJjZShyKSx1fXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7XFxcInN2Z1xcXCIhPT10aGlzLmltYWdlVHlwZSYmKHRoaXMucmVhbFdpZHRoPXRoaXMuc291cmNlLm5hdHVyYWxXaWR0aHx8dGhpcy5zb3VyY2UudmlkZW9XaWR0aHx8dGhpcy5zb3VyY2Uud2lkdGgsdGhpcy5yZWFsSGVpZ2h0PXRoaXMuc291cmNlLm5hdHVyYWxIZWlnaHR8fHRoaXMuc291cmNlLnZpZGVvSGVpZ2h0fHx0aGlzLnNvdXJjZS5oZWlnaHQsdGhpcy5fdXBkYXRlRGltZW5zaW9ucygpKSx0aGlzLmVtaXQoXFxcInVwZGF0ZVxcXCIsdGhpcyl9LGUucHJvdG90eXBlLl91cGRhdGVEaW1lbnNpb25zPWZ1bmN0aW9uKCl7dGhpcy53aWR0aD10aGlzLnJlYWxXaWR0aC90aGlzLnJlc29sdXRpb24sdGhpcy5oZWlnaHQ9dGhpcy5yZWFsSGVpZ2h0L3RoaXMucmVzb2x1dGlvbix0aGlzLmlzUG93ZXJPZlR3bz12LmRlZmF1bHQuaXNQb3cyKHRoaXMucmVhbFdpZHRoKSYmdi5kZWZhdWx0LmlzUG93Mih0aGlzLnJlYWxIZWlnaHQpfSxlLnByb3RvdHlwZS5sb2FkU291cmNlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaXNMb2FkaW5nO3RoaXMuaGFzTG9hZGVkPSExLHRoaXMuaXNMb2FkaW5nPSExLGUmJnRoaXMuc291cmNlJiYodGhpcy5zb3VyY2Uub25sb2FkPW51bGwsdGhpcy5zb3VyY2Uub25lcnJvcj1udWxsKTt2YXIgcj0hdGhpcy5zb3VyY2U7aWYodGhpcy5zb3VyY2U9dCwodC5zcmMmJnQuY29tcGxldGV8fHQuZ2V0Q29udGV4dCkmJnQud2lkdGgmJnQuaGVpZ2h0KXRoaXMuX3VwZGF0ZUltYWdlVHlwZSgpLFxcXCJzdmdcXFwiPT09dGhpcy5pbWFnZVR5cGU/dGhpcy5fbG9hZFN2Z1NvdXJjZSgpOnRoaXMuX3NvdXJjZUxvYWRlZCgpLHImJnRoaXMuZW1pdChcXFwibG9hZGVkXFxcIix0aGlzKTtlbHNlIGlmKCF0LmdldENvbnRleHQpe3RoaXMuaXNMb2FkaW5nPSEwO3ZhciBuPXRoaXM7aWYodC5vbmxvYWQ9ZnVuY3Rpb24oKXtpZihuLl91cGRhdGVJbWFnZVR5cGUoKSx0Lm9ubG9hZD1udWxsLHQub25lcnJvcj1udWxsLG4uaXNMb2FkaW5nKXtpZihuLmlzTG9hZGluZz0hMSxuLl9zb3VyY2VMb2FkZWQoKSxcXFwic3ZnXFxcIj09PW4uaW1hZ2VUeXBlKXJldHVybiB2b2lkIG4uX2xvYWRTdmdTb3VyY2UoKTtuLmVtaXQoXFxcImxvYWRlZFxcXCIsbil9fSx0Lm9uZXJyb3I9ZnVuY3Rpb24oKXt0Lm9ubG9hZD1udWxsLHQub25lcnJvcj1udWxsLG4uaXNMb2FkaW5nJiYobi5pc0xvYWRpbmc9ITEsbi5lbWl0KFxcXCJlcnJvclxcXCIsbikpfSx0LmNvbXBsZXRlJiZ0LnNyYyl7aWYodC5vbmxvYWQ9bnVsbCx0Lm9uZXJyb3I9bnVsbCxcXFwic3ZnXFxcIj09PW4uaW1hZ2VUeXBlKXJldHVybiB2b2lkIG4uX2xvYWRTdmdTb3VyY2UoKTt0aGlzLmlzTG9hZGluZz0hMSx0LndpZHRoJiZ0LmhlaWdodD8odGhpcy5fc291cmNlTG9hZGVkKCksZSYmdGhpcy5lbWl0KFxcXCJsb2FkZWRcXFwiLHRoaXMpKTplJiZ0aGlzLmVtaXQoXFxcImVycm9yXFxcIix0aGlzKX19fSxlLnByb3RvdHlwZS5fdXBkYXRlSW1hZ2VUeXBlPWZ1bmN0aW9uKCl7aWYodGhpcy5pbWFnZVVybCl7dmFyIHQ9KDAsYS5kZWNvbXBvc2VEYXRhVXJpKSh0aGlzLmltYWdlVXJsKSxlPXZvaWQgMDtpZih0JiZcXFwiaW1hZ2VcXFwiPT09dC5tZWRpYVR5cGUpe3ZhciByPXQuc3ViVHlwZS5zcGxpdChcXFwiK1xcXCIpWzBdO2lmKCEoZT0oMCxhLmdldFVybEZpbGVFeHRlbnNpb24pKFxcXCIuXFxcIityKSkpdGhyb3cgbmV3IEVycm9yKFxcXCJJbnZhbGlkIGltYWdlIHR5cGUgaW4gZGF0YSBVUkkuXFxcIil9ZWxzZShlPSgwLGEuZ2V0VXJsRmlsZUV4dGVuc2lvbikodGhpcy5pbWFnZVVybCkpfHwoZT1cXFwicG5nXFxcIik7dGhpcy5pbWFnZVR5cGU9ZX19LGUucHJvdG90eXBlLl9sb2FkU3ZnU291cmNlPWZ1bmN0aW9uKCl7aWYoXFxcInN2Z1xcXCI9PT10aGlzLmltYWdlVHlwZSl7dmFyIHQ9KDAsYS5kZWNvbXBvc2VEYXRhVXJpKSh0aGlzLmltYWdlVXJsKTt0P3RoaXMuX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmkodCk6dGhpcy5fbG9hZFN2Z1NvdXJjZVVzaW5nWGhyKCl9fSxlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaT1mdW5jdGlvbih0KXt2YXIgZT12b2lkIDA7aWYoXFxcImJhc2U2NFxcXCI9PT10LmVuY29kaW5nKXtpZighYXRvYil0aHJvdyBuZXcgRXJyb3IoXFxcIllvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgYmFzZTY0IGNvbnZlcnNpb25zLlxcXCIpO2U9YXRvYih0LmRhdGEpfWVsc2UgZT10LmRhdGE7dGhpcy5fbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nKGUpfSxlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZVVzaW5nWGhyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPW5ldyBYTUxIdHRwUmVxdWVzdDtlLm9ubG9hZD1mdW5jdGlvbigpe2lmKGUucmVhZHlTdGF0ZSE9PWUuRE9ORXx8MjAwIT09ZS5zdGF0dXMpdGhyb3cgbmV3IEVycm9yKFxcXCJGYWlsZWQgdG8gbG9hZCBTVkcgdXNpbmcgWEhSLlxcXCIpO3QuX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyhlLnJlc3BvbnNlKX0sZS5vbmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZW1pdChcXFwiZXJyb3JcXFwiLHQpfSxlLm9wZW4oXFxcIkdFVFxcXCIsdGhpcy5pbWFnZVVybCwhMCksZS5zZW5kKCl9LGUucHJvdG90eXBlLl9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIHI9KDAsYS5nZXRTdmdTaXplKSh0KSxuPXIud2lkdGgsaT1yLmhlaWdodDtpZighbnx8IWkpdGhyb3cgbmV3IEVycm9yKFxcXCJUaGUgU1ZHIGltYWdlIG11c3QgaGF2ZSB3aWR0aCBhbmQgaGVpZ2h0IGRlZmluZWQgKGluIHBpeGVscyksIGNhbnZhcyBBUEkgbmVlZHMgdGhlbS5cXFwiKTt0aGlzLnJlYWxXaWR0aD1NYXRoLnJvdW5kKG4qdGhpcy5zb3VyY2VTY2FsZSksdGhpcy5yZWFsSGVpZ2h0PU1hdGgucm91bmQoaSp0aGlzLnNvdXJjZVNjYWxlKSx0aGlzLl91cGRhdGVEaW1lbnNpb25zKCk7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiY2FudmFzXFxcIik7by53aWR0aD10aGlzLnJlYWxXaWR0aCxvLmhlaWdodD10aGlzLnJlYWxIZWlnaHQsby5fcGl4aUlkPVxcXCJjYW52YXNfXFxcIisoMCxhLnVpZCkoKSxvLmdldENvbnRleHQoXFxcIjJkXFxcIikuZHJhd0ltYWdlKHRoaXMuc291cmNlLDAsMCxuLGksMCwwLHRoaXMucmVhbFdpZHRoLHRoaXMucmVhbEhlaWdodCksdGhpcy5vcmlnU291cmNlPXRoaXMuc291cmNlLHRoaXMuc291cmNlPW8sZS5hZGRUb0NhY2hlKHRoaXMsby5fcGl4aUlkKSx0aGlzLmlzTG9hZGluZz0hMSx0aGlzLl9zb3VyY2VMb2FkZWQoKSx0aGlzLmVtaXQoXFxcImxvYWRlZFxcXCIsdGhpcyl9LGUucHJvdG90eXBlLl9zb3VyY2VMb2FkZWQ9ZnVuY3Rpb24oKXt0aGlzLmhhc0xvYWRlZD0hMCx0aGlzLnVwZGF0ZSgpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pbWFnZVVybCYmKGRlbGV0ZSBhLlRleHR1cmVDYWNoZVt0aGlzLmltYWdlVXJsXSx0aGlzLmltYWdlVXJsPW51bGwsbmF2aWdhdG9yLmlzQ29jb29uSlN8fCh0aGlzLnNvdXJjZS5zcmM9XFxcIlxcXCIpKSx0aGlzLnNvdXJjZT1udWxsLHRoaXMuZGlzcG9zZSgpLGUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpLHRoaXMudGV4dHVyZUNhY2hlSWRzPW51bGwsdGhpcy5fZGVzdHJveWVkPSEwfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5lbWl0KFxcXCJkaXNwb3NlXFxcIix0aGlzKX0sZS5wcm90b3R5cGUudXBkYXRlU291cmNlSW1hZ2U9ZnVuY3Rpb24odCl7dGhpcy5zb3VyY2Uuc3JjPXQsdGhpcy5sb2FkU291cmNlKHRoaXMuc291cmNlKX0sZS5mcm9tSW1hZ2U9ZnVuY3Rpb24odCxyLG4saSl7dmFyIG89YS5CYXNlVGV4dHVyZUNhY2hlW3RdO2lmKCFvKXt2YXIgcz1uZXcgSW1hZ2U7dm9pZCAwPT09ciYmMCE9PXQuaW5kZXhPZihcXFwiZGF0YTpcXFwiKT9zLmNyb3NzT3JpZ2luPSgwLGYuZGVmYXVsdCkodCk6ciYmKHMuY3Jvc3NPcmlnaW49XFxcInN0cmluZ1xcXCI9PXR5cGVvZiByP3I6XFxcImFub255bW91c1xcXCIpLG89bmV3IGUocyxuKSxvLmltYWdlVXJsPXQsaSYmKG8uc291cmNlU2NhbGU9aSksby5yZXNvbHV0aW9uPSgwLGEuZ2V0UmVzb2x1dGlvbk9mVXJsKSh0KSxzLnNyYz10LGUuYWRkVG9DYWNoZShvLHQpfXJldHVybiBvfSxlLmZyb21DYW52YXM9ZnVuY3Rpb24odCxyKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06XFxcImNhbnZhc1xcXCI7dC5fcGl4aUlkfHwodC5fcGl4aUlkPW4rXFxcIl9cXFwiKygwLGEudWlkKSgpKTt2YXIgaT1hLkJhc2VUZXh0dXJlQ2FjaGVbdC5fcGl4aUlkXTtyZXR1cm4gaXx8KGk9bmV3IGUodCxyKSxlLmFkZFRvQ2FjaGUoaSx0Ll9waXhpSWQpKSxpfSxlLmZyb209ZnVuY3Rpb24odCxyLG4pe2lmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgdClyZXR1cm4gZS5mcm9tSW1hZ2UodCx2b2lkIDAscixuKTtpZih0IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCl7dmFyIGk9dC5zcmMsbz1hLkJhc2VUZXh0dXJlQ2FjaGVbaV1cXG47cmV0dXJuIG98fChvPW5ldyBlKHQsciksby5pbWFnZVVybD1pLG4mJihvLnNvdXJjZVNjYWxlPW4pLG8ucmVzb2x1dGlvbj0oMCxhLmdldFJlc29sdXRpb25PZlVybCkoaSksZS5hZGRUb0NhY2hlKG8saSkpLG99cmV0dXJuIHQgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudD9lLmZyb21DYW52YXModCxyKTp0fSxlLmFkZFRvQ2FjaGU9ZnVuY3Rpb24odCxlKXtlJiYoLTE9PT10LnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGUpJiZ0LnRleHR1cmVDYWNoZUlkcy5wdXNoKGUpLGEuQmFzZVRleHR1cmVDYWNoZVtlXT10KX0sZS5yZW1vdmVGcm9tQ2FjaGU9ZnVuY3Rpb24odCl7aWYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiB0KXt2YXIgZT1hLkJhc2VUZXh0dXJlQ2FjaGVbdF07aWYoZSl7dmFyIHI9ZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZih0KTtyZXR1cm4gcj4tMSYmZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKHIsMSksZGVsZXRlIGEuQmFzZVRleHR1cmVDYWNoZVt0XSxlfX1lbHNlIGlmKHQmJnQudGV4dHVyZUNhY2hlSWRzKXtmb3IodmFyIG49MDtuPHQudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsrK24pZGVsZXRlIGEuQmFzZVRleHR1cmVDYWNoZVt0LnRleHR1cmVDYWNoZUlkc1tuXV07cmV0dXJuIHQudGV4dHVyZUNhY2hlSWRzLmxlbmd0aD0wLHR9cmV0dXJuIG51bGx9LGV9KGMuZGVmYXVsdCk7ci5kZWZhdWx0PWd9LHtcXFwiLi4vc2V0dGluZ3NcXFwiOjEwMSxcXFwiLi4vdXRpbHNcXFwiOjEyNSxcXFwiLi4vdXRpbHMvZGV0ZXJtaW5lQ3Jvc3NPcmlnaW5cXFwiOjEyNCxcXFwiYml0LXR3aWRkbGVcXFwiOjEsZXZlbnRlbWl0dGVyMzozfV0sMTEzOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXFxcIi4vQmFzZVJlbmRlclRleHR1cmVcXFwiKSx1PW4oYSksaD10KFxcXCIuL1RleHR1cmVcXFwiKSxsPW4oaCksYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbil7aSh0aGlzLGUpO3ZhciBzPW51bGw7aWYoIShyIGluc3RhbmNlb2YgdS5kZWZhdWx0KSl7dmFyIGE9YXJndW1lbnRzWzFdLGg9YXJndW1lbnRzWzJdLGw9YXJndW1lbnRzWzNdLGM9YXJndW1lbnRzWzRdO2NvbnNvbGUud2FybihcXFwiUGxlYXNlIHVzZSBSZW5kZXJUZXh0dXJlLmNyZWF0ZShcXFwiK2ErXFxcIiwgXFxcIitoK1xcXCIpIGluc3RlYWQgb2YgdGhlIGN0b3IgZGlyZWN0bHkuXFxcIikscz1hcmd1bWVudHNbMF0sbj1udWxsLHI9bmV3IHUuZGVmYXVsdChhLGgsbCxjKX12YXIgZD1vKHRoaXMsdC5jYWxsKHRoaXMscixuKSk7cmV0dXJuIGQubGVnYWN5UmVuZGVyZXI9cyxkLnZhbGlkPSEwLGQuX3VwZGF0ZVV2cygpLGR9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlLHIpe3Q9TWF0aC5jZWlsKHQpLGU9TWF0aC5jZWlsKGUpLHRoaXMudmFsaWQ9dD4wJiZlPjAsdGhpcy5fZnJhbWUud2lkdGg9dGhpcy5vcmlnLndpZHRoPXQsdGhpcy5fZnJhbWUuaGVpZ2h0PXRoaXMub3JpZy5oZWlnaHQ9ZSxyfHx0aGlzLmJhc2VUZXh0dXJlLnJlc2l6ZSh0LGUpLHRoaXMuX3VwZGF0ZVV2cygpfSxlLmNyZWF0ZT1mdW5jdGlvbih0LHIsbixpKXtyZXR1cm4gbmV3IGUobmV3IHUuZGVmYXVsdCh0LHIsbixpKSl9LGV9KGwuZGVmYXVsdCk7ci5kZWZhdWx0PWN9LHtcXFwiLi9CYXNlUmVuZGVyVGV4dHVyZVxcXCI6MTExLFxcXCIuL1RleHR1cmVcXFwiOjExNX1dLDExNDpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLG89dChcXFwiLi4vXFxcIikscz10KFxcXCIuLi91dGlsc1xcXCIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm51bGw7bih0aGlzLHQpLHRoaXMuYmFzZVRleHR1cmU9ZSx0aGlzLnRleHR1cmVzPXt9LHRoaXMuYW5pbWF0aW9ucz17fSx0aGlzLmRhdGE9cix0aGlzLnJlc29sdXRpb249dGhpcy5fdXBkYXRlUmVzb2x1dGlvbihpfHx0aGlzLmJhc2VUZXh0dXJlLmltYWdlVXJsKSx0aGlzLl9mcmFtZXM9dGhpcy5kYXRhLmZyYW1lcyx0aGlzLl9mcmFtZUtleXM9T2JqZWN0LmtleXModGhpcy5fZnJhbWVzKSx0aGlzLl9iYXRjaEluZGV4PTAsdGhpcy5fY2FsbGJhY2s9bnVsbH1yZXR1cm4gaSh0LG51bGwsW3trZXk6XFxcIkJBVENIX1NJWkVcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiAxZTN9fV0pLHQucHJvdG90eXBlLl91cGRhdGVSZXNvbHV0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YS5tZXRhLnNjYWxlLHI9KDAscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKHQsbnVsbCk7cmV0dXJuIG51bGw9PT1yJiYocj12b2lkIDAhPT1lP3BhcnNlRmxvYXQoZSk6MSksMSE9PXImJih0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb249cix0aGlzLmJhc2VUZXh0dXJlLnVwZGF0ZSgpKSxyfSx0LnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlKXt0aGlzLl9iYXRjaEluZGV4PTAsdGhpcy5fY2FsbGJhY2s9ZSx0aGlzLl9mcmFtZUtleXMubGVuZ3RoPD10LkJBVENIX1NJWkU/KHRoaXMuX3Byb2Nlc3NGcmFtZXMoMCksdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKSx0aGlzLl9wYXJzZUNvbXBsZXRlKCkpOnRoaXMuX25leHRCYXRjaCgpfSx0LnByb3RvdHlwZS5fcHJvY2Vzc0ZyYW1lcz1mdW5jdGlvbihlKXtmb3IodmFyIHI9ZSxuPXQuQkFUQ0hfU0laRSxpPXRoaXMuYmFzZVRleHR1cmUuc291cmNlU2NhbGU7ci1lPG4mJnI8dGhpcy5fZnJhbWVLZXlzLmxlbmd0aDspe3ZhciBzPXRoaXMuX2ZyYW1lS2V5c1tyXSxhPXRoaXMuX2ZyYW1lc1tzXSx1PWEuZnJhbWU7aWYodSl7dmFyIGg9bnVsbCxsPW51bGwsYz0hMSE9PWEudHJpbW1lZCYmYS5zb3VyY2VTaXplP2Euc291cmNlU2l6ZTphLmZyYW1lLGQ9bmV3IG8uUmVjdGFuZ2xlKDAsMCxNYXRoLmZsb29yKGMudyppKS90aGlzLnJlc29sdXRpb24sTWF0aC5mbG9vcihjLmgqaSkvdGhpcy5yZXNvbHV0aW9uKTtoPWEucm90YXRlZD9uZXcgby5SZWN0YW5nbGUoTWF0aC5mbG9vcih1LngqaSkvdGhpcy5yZXNvbHV0aW9uLE1hdGguZmxvb3IodS55KmkpL3RoaXMucmVzb2x1dGlvbixNYXRoLmZsb29yKHUuaCppKS90aGlzLnJlc29sdXRpb24sTWF0aC5mbG9vcih1LncqaSkvdGhpcy5yZXNvbHV0aW9uKTpuZXcgby5SZWN0YW5nbGUoTWF0aC5mbG9vcih1LngqaSkvdGhpcy5yZXNvbHV0aW9uLE1hdGguZmxvb3IodS55KmkpL3RoaXMucmVzb2x1dGlvbixNYXRoLmZsb29yKHUudyppKS90aGlzLnJlc29sdXRpb24sTWF0aC5mbG9vcih1LmgqaSkvdGhpcy5yZXNvbHV0aW9uKSwhMSE9PWEudHJpbW1lZCYmYS5zcHJpdGVTb3VyY2VTaXplJiYobD1uZXcgby5SZWN0YW5nbGUoTWF0aC5mbG9vcihhLnNwcml0ZVNvdXJjZVNpemUueCppKS90aGlzLnJlc29sdXRpb24sTWF0aC5mbG9vcihhLnNwcml0ZVNvdXJjZVNpemUueSppKS90aGlzLnJlc29sdXRpb24sTWF0aC5mbG9vcih1LncqaSkvdGhpcy5yZXNvbHV0aW9uLE1hdGguZmxvb3IodS5oKmkpL3RoaXMucmVzb2x1dGlvbikpLHRoaXMudGV4dHVyZXNbc109bmV3IG8uVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLGgsZCxsLGEucm90YXRlZD8yOjAsYS5hbmNob3IpLG8uVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbc10scyl9cisrfX0sdC5wcm90b3R5cGUuX3Byb2Nlc3NBbmltYXRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhLmFuaW1hdGlvbnN8fHt9O2Zvcih2YXIgZSBpbiB0KXt0aGlzLmFuaW1hdGlvbnNbZV09W107Zm9yKHZhciByPXRbZV0sbj1BcnJheS5pc0FycmF5KHIpLGk9MCxyPW4/cjpyW1N5bWJvbC5pdGVyYXRvcl0oKTs7KXt2YXIgbztpZihuKXtpZihpPj1yLmxlbmd0aClicmVhaztvPXJbaSsrXX1lbHNle2lmKGk9ci5uZXh0KCksaS5kb25lKWJyZWFrO289aS52YWx1ZX12YXIgcz1vO3RoaXMuYW5pbWF0aW9uc1tlXS5wdXNoKHRoaXMudGV4dHVyZXNbc10pfX19LHQucHJvdG90eXBlLl9wYXJzZUNvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2FsbGJhY2s7dGhpcy5fY2FsbGJhY2s9bnVsbCx0aGlzLl9iYXRjaEluZGV4PTAsdC5jYWxsKHRoaXMsdGhpcy50ZXh0dXJlcyl9LHQucHJvdG90eXBlLl9uZXh0QmF0Y2g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX3Byb2Nlc3NGcmFtZXModGhpcy5fYmF0Y2hJbmRleCp0LkJBVENIX1NJWkUpLHRoaXMuX2JhdGNoSW5kZXgrKyxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fYmF0Y2hJbmRleCp0LkJBVENIX1NJWkU8ZS5fZnJhbWVLZXlzLmxlbmd0aD9lLl9uZXh0QmF0Y2goKTooZS5fcHJvY2Vzc0FuaW1hdGlvbnMoKSxlLl9wYXJzZUNvbXBsZXRlKCkpfSwwKX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07Zm9yKHZhciBlIGluIHRoaXMudGV4dHVyZXMpdGhpcy50ZXh0dXJlc1tlXS5kZXN0cm95KCk7dGhpcy5fZnJhbWVzPW51bGwsdGhpcy5fZnJhbWVLZXlzPW51bGwsdGhpcy5kYXRhPW51bGwsdGhpcy50ZXh0dXJlcz1udWxsLHQmJnRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpLHRoaXMuYmFzZVRleHR1cmU9bnVsbH0sdH0oKTtyLmRlZmF1bHQ9YX0se1xcXCIuLi9cXFwiOjY1LFxcXCIuLi91dGlsc1xcXCI6MTI1fV0sMTE1OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ZnVuY3Rpb24gYSh0KXt0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LHQub249ZnVuY3Rpb24oKXt9LHQub25jZT1mdW5jdGlvbigpe30sdC5lbWl0PWZ1bmN0aW9uKCl7fX1yLl9fZXNNb2R1bGU9ITA7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXFxcInZhbHVlXFxcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksaD10KFxcXCIuL0Jhc2VUZXh0dXJlXFxcIiksbD1uKGgpLGM9dChcXFwiLi9WaWRlb0Jhc2VUZXh0dXJlXFxcIiksZD1uKGMpLGY9dChcXFwiLi9UZXh0dXJlVXZzXFxcIikscD1uKGYpLHY9dChcXFwiZXZlbnRlbWl0dGVyM1xcXCIpLGc9bih2KSx5PXQoXFxcIi4uL21hdGhcXFwiKSxtPXQoXFxcIi4uL3V0aWxzXFxcIiksXz10KFxcXCIuLi9zZXR0aW5nc1xcXCIpLGI9bihfKSx4PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixuLHMsYSx1LGgpe2kodGhpcyxlKTt2YXIgbD1vKHRoaXMsdC5jYWxsKHRoaXMpKTtpZihsLm5vRnJhbWU9ITEsbnx8KGwubm9GcmFtZT0hMCxuPW5ldyB5LlJlY3RhbmdsZSgwLDAsMSwxKSksciBpbnN0YW5jZW9mIGUmJihyPXIuYmFzZVRleHR1cmUpLGwuYmFzZVRleHR1cmU9cixsLl9mcmFtZT1uLGwudHJpbT1hLGwudmFsaWQ9ITEsbC5yZXF1aXJlc1VwZGF0ZT0hMSxsLl91dnM9bnVsbCxsLm9yaWc9c3x8bixsLl9yb3RhdGU9TnVtYmVyKHV8fDApLCEwPT09dSlsLl9yb3RhdGU9MjtlbHNlIGlmKGwuX3JvdGF0ZSUyIT0wKXRocm93IG5ldyBFcnJvcihcXFwiYXR0ZW1wdCB0byB1c2UgZGlhbW9uZC1zaGFwZWQgVVZzLiBJZiB5b3UgYXJlIHN1cmUsIHNldCByb3RhdGlvbiBtYW51YWxseVxcXCIpO3JldHVybiByLmhhc0xvYWRlZD8obC5ub0ZyYW1lJiYobj1uZXcgeS5SZWN0YW5nbGUoMCwwLHIud2lkdGgsci5oZWlnaHQpLHIub24oXFxcInVwZGF0ZVxcXCIsbC5vbkJhc2VUZXh0dXJlVXBkYXRlZCxsKSksbC5mcmFtZT1uKTpyLm9uY2UoXFxcImxvYWRlZFxcXCIsbC5vbkJhc2VUZXh0dXJlTG9hZGVkLGwpLGwuZGVmYXVsdEFuY2hvcj1oP25ldyB5LlBvaW50KGgueCxoLnkpOm5ldyB5LlBvaW50KDAsMCksbC5fdXBkYXRlSUQ9MCxsLnRyYW5zZm9ybT1udWxsLGwudGV4dHVyZUNhY2hlSWRzPVtdLGx9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmJhc2VUZXh0dXJlLnVwZGF0ZSgpfSxlLnByb3RvdHlwZS5vbkJhc2VUZXh0dXJlTG9hZGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZUlEKyssdGhpcy5ub0ZyYW1lP3RoaXMuZnJhbWU9bmV3IHkuUmVjdGFuZ2xlKDAsMCx0LndpZHRoLHQuaGVpZ2h0KTp0aGlzLmZyYW1lPXRoaXMuX2ZyYW1lLHRoaXMuYmFzZVRleHR1cmUub24oXFxcInVwZGF0ZVxcXCIsdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCx0aGlzKSx0aGlzLmVtaXQoXFxcInVwZGF0ZVxcXCIsdGhpcyl9LGUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVVcGRhdGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZUlEKyssdGhpcy5fZnJhbWUud2lkdGg9dC53aWR0aCx0aGlzLl9mcmFtZS5oZWlnaHQ9dC5oZWlnaHQsdGhpcy5lbWl0KFxcXCJ1cGRhdGVcXFwiLHRoaXMpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe3RoaXMuYmFzZVRleHR1cmUmJih0JiYobS5UZXh0dXJlQ2FjaGVbdGhpcy5iYXNlVGV4dHVyZS5pbWFnZVVybF0mJmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuYmFzZVRleHR1cmUuaW1hZ2VVcmwpLHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpKSx0aGlzLmJhc2VUZXh0dXJlLm9mZihcXFwidXBkYXRlXFxcIix0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLHRoaXMpLHRoaXMuYmFzZVRleHR1cmUub2ZmKFxcXCJsb2FkZWRcXFwiLHRoaXMub25CYXNlVGV4dHVyZUxvYWRlZCx0aGlzKSx0aGlzLmJhc2VUZXh0dXJlPW51bGwpLHRoaXMuX2ZyYW1lPW51bGwsdGhpcy5fdXZzPW51bGwsdGhpcy50cmltPW51bGwsdGhpcy5vcmlnPW51bGwsdGhpcy52YWxpZD0hMSxlLnJlbW92ZUZyb21DYWNoZSh0aGlzKSx0aGlzLnRleHR1cmVDYWNoZUlkcz1udWxsfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLmJhc2VUZXh0dXJlLHRoaXMuZnJhbWUsdGhpcy5vcmlnLHRoaXMudHJpbSx0aGlzLnJvdGF0ZSx0aGlzLmRlZmF1bHRBbmNob3IpfSxlLnByb3RvdHlwZS5fdXBkYXRlVXZzPWZ1bmN0aW9uKCl7dGhpcy5fdXZzfHwodGhpcy5fdXZzPW5ldyBwLmRlZmF1bHQpLHRoaXMuX3V2cy5zZXQodGhpcy5fZnJhbWUsdGhpcy5iYXNlVGV4dHVyZSx0aGlzLnJvdGF0ZSksdGhpcy5fdXBkYXRlSUQrK30sZS5mcm9tSW1hZ2U9ZnVuY3Rpb24odCxyLG4saSl7dmFyIG89bS5UZXh0dXJlQ2FjaGVbdF07cmV0dXJuIG98fChvPW5ldyBlKGwuZGVmYXVsdC5mcm9tSW1hZ2UodCxyLG4saSkpLGUuYWRkVG9DYWNoZShvLHQpKSxvfSxlLmZyb21GcmFtZT1mdW5jdGlvbih0KXt2YXIgZT1tLlRleHR1cmVDYWNoZVt0XTtpZighZSl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBmcmFtZUlkIFxcXCInK3QrJ1xcXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHRleHR1cmUgY2FjaGUnKTtyZXR1cm4gZX0sZS5mcm9tQ2FudmFzPWZ1bmN0aW9uKHQscil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlxcXCJjYW52YXNcXFwiO3JldHVybiBuZXcgZShsLmRlZmF1bHQuZnJvbUNhbnZhcyh0LHIsbikpfSxlLmZyb21WaWRlbz1mdW5jdGlvbih0LHIsbixpKXtyZXR1cm5cXFwic3RyaW5nXFxcIj09dHlwZW9mIHQ/ZS5mcm9tVmlkZW9VcmwodCxyLG4saSk6bmV3IGUoZC5kZWZhdWx0LmZyb21WaWRlbyh0LHIsaSkpfSxlLmZyb21WaWRlb1VybD1mdW5jdGlvbih0LHIsbixpKXtyZXR1cm4gbmV3IGUoZC5kZWZhdWx0LmZyb21VcmwodCxyLG4saSkpfSxlLmZyb209ZnVuY3Rpb24odCl7aWYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiB0KXt2YXIgcj1tLlRleHR1cmVDYWNoZVt0XTtpZighcil7cmV0dXJuIG51bGwhPT10Lm1hdGNoKC9cXFxcLihtcDR8d2VibXxvZ2d8aDI2NHxhdml8bW92KSQvKT9lLmZyb21WaWRlb1VybCh0KTplLmZyb21JbWFnZSh0KX1yZXR1cm4gcn1yZXR1cm4gdCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/bmV3IGUobC5kZWZhdWx0LmZyb20odCkpOnQgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudD9lLmZyb21DYW52YXModCxiLmRlZmF1bHQuU0NBTEVfTU9ERSxcXFwiSFRNTENhbnZhc0VsZW1lbnRcXFwiKTp0IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD9lLmZyb21WaWRlbyh0KTp0IGluc3RhbmNlb2YgbC5kZWZhdWx0P25ldyBlKHQpOnR9LGUuZnJvbUxvYWRlcj1mdW5jdGlvbih0LHIsbil7dmFyIGk9bmV3IGwuZGVmYXVsdCh0LHZvaWQgMCwoMCxtLmdldFJlc29sdXRpb25PZlVybCkocikpLG89bmV3IGUoaSk7cmV0dXJuIGkuaW1hZ2VVcmw9cixufHwobj1yKSxsLmRlZmF1bHQuYWRkVG9DYWNoZShvLmJhc2VUZXh0dXJlLG4pLGUuYWRkVG9DYWNoZShvLG4pLG4hPT1yJiYobC5kZWZhdWx0LmFkZFRvQ2FjaGUoby5iYXNlVGV4dHVyZSxyKSxlLmFkZFRvQ2FjaGUobyxyKSksb30sZS5hZGRUb0NhY2hlPWZ1bmN0aW9uKHQsZSl7ZSYmKC0xPT09dC50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihlKSYmdC50ZXh0dXJlQ2FjaGVJZHMucHVzaChlKSxtLlRleHR1cmVDYWNoZVtlXT10KX0sZS5yZW1vdmVGcm9tQ2FjaGU9ZnVuY3Rpb24odCl7aWYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiB0KXt2YXIgZT1tLlRleHR1cmVDYWNoZVt0XTtpZihlKXt2YXIgcj1lLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKHQpO3JldHVybiByPi0xJiZlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UociwxKSxkZWxldGUgbS5UZXh0dXJlQ2FjaGVbdF0sZX19ZWxzZSBpZih0JiZ0LnRleHR1cmVDYWNoZUlkcyl7Zm9yKHZhciBuPTA7bjx0LnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7KytuKW0uVGV4dHVyZUNhY2hlW3QudGV4dHVyZUNhY2hlSWRzW25dXT09PXQmJmRlbGV0ZSBtLlRleHR1cmVDYWNoZVt0LnRleHR1cmVDYWNoZUlkc1tuXV07cmV0dXJuIHQudGV4dHVyZUNhY2hlSWRzLmxlbmd0aD0wLHR9cmV0dXJuIG51bGx9LHUoZSxbe2tleTpcXFwiZnJhbWVcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcmFtZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZyYW1lPXQsdGhpcy5ub0ZyYW1lPSExO3ZhciBlPXQueCxyPXQueSxuPXQud2lkdGgsaT10LmhlaWdodCxvPWUrbj50aGlzLmJhc2VUZXh0dXJlLndpZHRoLHM9citpPnRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O2lmKG98fHMpe3ZhciBhPW8mJnM/XFxcImFuZFxcXCI6XFxcIm9yXFxcIix1PVxcXCJYOiBcXFwiK2UrXFxcIiArIFxcXCIrbitcXFwiID0gXFxcIisoZStuKStcXFwiID4gXFxcIit0aGlzLmJhc2VUZXh0dXJlLndpZHRoLGg9XFxcIlk6IFxcXCIrcitcXFwiICsgXFxcIitpK1xcXCIgPSBcXFwiKyhyK2kpK1xcXCIgPiBcXFwiK3RoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O3Rocm93IG5ldyBFcnJvcihcXFwiVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6IFxcXCIrdStcXFwiIFxcXCIrYStcXFwiIFxcXCIraCl9dGhpcy52YWxpZD1uJiZpJiZ0aGlzLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCx0aGlzLnRyaW18fHRoaXMucm90YXRlfHwodGhpcy5vcmlnPXQpLHRoaXMudmFsaWQmJnRoaXMuX3VwZGF0ZVV2cygpfX0se2tleTpcXFwicm90YXRlXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcm90YXRlPXQsdGhpcy52YWxpZCYmdGhpcy5fdXBkYXRlVXZzKCl9fSx7a2V5OlxcXCJ3aWR0aFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JpZy53aWR0aH19LHtrZXk6XFxcImhlaWdodFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JpZy5oZWlnaHR9fV0pLGV9KGcuZGVmYXVsdCk7ci5kZWZhdWx0PXgseC5FTVBUWT1uZXcgeChuZXcgbC5kZWZhdWx0KSxhKHguRU1QVFkpLGEoeC5FTVBUWS5iYXNlVGV4dHVyZSkseC5XSElURT1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXFxcImNhbnZhc1xcXCIpO3Qud2lkdGg9MTAsdC5oZWlnaHQ9MTA7dmFyIGU9dC5nZXRDb250ZXh0KFxcXCIyZFxcXCIpO3JldHVybiBlLmZpbGxTdHlsZT1cXFwid2hpdGVcXFwiLGUuZmlsbFJlY3QoMCwwLDEwLDEwKSxuZXcgeChuZXcgbC5kZWZhdWx0KHQpKX0oKSxhKHguV0hJVEUpLGEoeC5XSElURS5iYXNlVGV4dHVyZSl9LHtcXFwiLi4vbWF0aFxcXCI6NzAsXFxcIi4uL3NldHRpbmdzXFxcIjoxMDEsXFxcIi4uL3V0aWxzXFxcIjoxMjUsXFxcIi4vQmFzZVRleHR1cmVcXFwiOjExMixcXFwiLi9UZXh0dXJlVXZzXFxcIjoxMTcsXFxcIi4vVmlkZW9CYXNlVGV4dHVyZVxcXCI6MTE4LGV2ZW50ZW1pdHRlcjM6M31dLDExNjpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLG89dChcXFwiLi4vbWF0aC9NYXRyaXhcXFwiKSxzPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0obyksYT1uZXcgcy5kZWZhdWx0LHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscil7bih0aGlzLHQpLHRoaXMuX3RleHR1cmU9ZSx0aGlzLm1hcENvb3JkPW5ldyBzLmRlZmF1bHQsdGhpcy51Q2xhbXBGcmFtZT1uZXcgRmxvYXQzMkFycmF5KDQpLHRoaXMudUNsYW1wT2Zmc2V0PW5ldyBGbG9hdDMyQXJyYXkoMiksdGhpcy5fbGFzdFRleHR1cmVJRD0tMSx0aGlzLmNsYW1wT2Zmc2V0PTAsdGhpcy5jbGFtcE1hcmdpbj12b2lkIDA9PT1yPy41OnJ9cmV0dXJuIHQucHJvdG90eXBlLm11bHRpcGx5VXZzPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9dCk7Zm9yKHZhciByPXRoaXMubWFwQ29vcmQsbj0wO248dC5sZW5ndGg7bis9Mil7dmFyIGk9dFtuXSxvPXRbbisxXTtlW25dPWkqci5hK28qci5jK3IudHgsZVtuKzFdPWkqci5iK28qci5kK3IudHl9cmV0dXJuIGV9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90ZXh0dXJlO2lmKCFlfHwhZS52YWxpZClyZXR1cm4hMTtpZighdCYmdGhpcy5fbGFzdFRleHR1cmVJRD09PWUuX3VwZGF0ZUlEKXJldHVybiExO3RoaXMuX2xhc3RUZXh0dXJlSUQ9ZS5fdXBkYXRlSUQ7dmFyIHI9ZS5fdXZzO3RoaXMubWFwQ29vcmQuc2V0KHIueDEtci54MCxyLnkxLXIueTAsci54My1yLngwLHIueTMtci55MCxyLngwLHIueTApO3ZhciBuPWUub3JpZyxpPWUudHJpbTtpJiYoYS5zZXQobi53aWR0aC9pLndpZHRoLDAsMCxuLmhlaWdodC9pLmhlaWdodCwtaS54L2kud2lkdGgsLWkueS9pLmhlaWdodCksdGhpcy5tYXBDb29yZC5hcHBlbmQoYSkpO3ZhciBvPWUuYmFzZVRleHR1cmUscz10aGlzLnVDbGFtcEZyYW1lLHU9dGhpcy5jbGFtcE1hcmdpbi9vLnJlc29sdXRpb24saD10aGlzLmNsYW1wT2Zmc2V0O3JldHVybiBzWzBdPShlLl9mcmFtZS54K3UraCkvby53aWR0aCxzWzFdPShlLl9mcmFtZS55K3UraCkvby5oZWlnaHQsc1syXT0oZS5fZnJhbWUueCtlLl9mcmFtZS53aWR0aC11K2gpL28ud2lkdGgsc1szXT0oZS5fZnJhbWUueStlLl9mcmFtZS5oZWlnaHQtdStoKS9vLmhlaWdodCx0aGlzLnVDbGFtcE9mZnNldFswXT1oL28ucmVhbFdpZHRoLHRoaXMudUNsYW1wT2Zmc2V0WzFdPWgvby5yZWFsSGVpZ2h0LCEwfSxpKHQsW3trZXk6XFxcInRleHR1cmVcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGV4dHVyZT10LHRoaXMuX2xhc3RUZXh0dXJlSUQ9LTF9fV0pLHR9KCk7ci5kZWZhdWx0PXV9LHtcXFwiLi4vbWF0aC9NYXRyaXhcXFwiOjY3fV0sMTE3OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcXFwiLi4vbWF0aC9Hcm91cEQ4XFxcIiksbz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KGkpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7bih0aGlzLHQpLHRoaXMueDA9MCx0aGlzLnkwPTAsdGhpcy54MT0xLHRoaXMueTE9MCx0aGlzLngyPTEsdGhpcy55Mj0xLHRoaXMueDM9MCx0aGlzLnkzPTEsdGhpcy51dnNVaW50MzI9bmV3IFVpbnQzMkFycmF5KDQpfXJldHVybiB0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWUud2lkdGgsaT1lLmhlaWdodDtpZihyKXt2YXIgcz10LndpZHRoLzIvbixhPXQuaGVpZ2h0LzIvaSx1PXQueC9uK3MsaD10LnkvaSthO3I9by5kZWZhdWx0LmFkZChyLG8uZGVmYXVsdC5OVyksdGhpcy54MD11K3Mqby5kZWZhdWx0LnVYKHIpLHRoaXMueTA9aCthKm8uZGVmYXVsdC51WShyKSxyPW8uZGVmYXVsdC5hZGQociwyKSx0aGlzLngxPXUrcypvLmRlZmF1bHQudVgociksdGhpcy55MT1oK2Eqby5kZWZhdWx0LnVZKHIpLHI9by5kZWZhdWx0LmFkZChyLDIpLHRoaXMueDI9dStzKm8uZGVmYXVsdC51WChyKSx0aGlzLnkyPWgrYSpvLmRlZmF1bHQudVkocikscj1vLmRlZmF1bHQuYWRkKHIsMiksdGhpcy54Mz11K3Mqby5kZWZhdWx0LnVYKHIpLHRoaXMueTM9aCthKm8uZGVmYXVsdC51WShyKX1lbHNlIHRoaXMueDA9dC54L24sdGhpcy55MD10LnkvaSx0aGlzLngxPSh0LngrdC53aWR0aCkvbix0aGlzLnkxPXQueS9pLHRoaXMueDI9KHQueCt0LndpZHRoKS9uLHRoaXMueTI9KHQueSt0LmhlaWdodCkvaSx0aGlzLngzPXQueC9uLHRoaXMueTM9KHQueSt0LmhlaWdodCkvaTt0aGlzLnV2c1VpbnQzMlswXT0oNjU1MzUmTWF0aC5yb3VuZCg2NTUzNSp0aGlzLnkwKSk8PDE2fDY1NTM1Jk1hdGgucm91bmQoNjU1MzUqdGhpcy54MCksdGhpcy51dnNVaW50MzJbMV09KDY1NTM1Jk1hdGgucm91bmQoNjU1MzUqdGhpcy55MSkpPDwxNnw2NTUzNSZNYXRoLnJvdW5kKDY1NTM1KnRoaXMueDEpLHRoaXMudXZzVWludDMyWzJdPSg2NTUzNSZNYXRoLnJvdW5kKDY1NTM1KnRoaXMueTIpKTw8MTZ8NjU1MzUmTWF0aC5yb3VuZCg2NTUzNSp0aGlzLngyKSx0aGlzLnV2c1VpbnQzMlszXT0oNjU1MzUmTWF0aC5yb3VuZCg2NTUzNSp0aGlzLnkzKSk8PDE2fDY1NTM1Jk1hdGgucm91bmQoNjU1MzUqdGhpcy54Myl9LHR9KCk7ci5kZWZhdWx0PXN9LHtcXFwiLi4vbWF0aC9Hcm91cEQ4XFxcIjo2Nn1dLDExODpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWZ1bmN0aW9uIGEodCxlKXtpZighZSl7dmFyIHI9dC5zcGxpdChcXFwiP1xcXCIpLnNoaWZ0KCkudG9Mb3dlckNhc2UoKTtlPVxcXCJ2aWRlby9cXFwiK3Iuc3Vic3RyKHIubGFzdEluZGV4T2YoXFxcIi5cXFwiKSsxKX12YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJzb3VyY2VcXFwiKTtyZXR1cm4gbi5zcmM9dCxuLnR5cGU9ZSxufXIuX19lc01vZHVsZT0hMDt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxoPXQoXFxcIi4vQmFzZVRleHR1cmVcXFwiKSxsPW4oaCksYz10KFxcXCIuLi91dGlsc1xcXCIpLGQ9dChcXFwiLi4vdGlja2VyXFxcIiksZj10KFxcXCIuLi9jb25zdFxcXCIpLHA9dChcXFwiLi4vdXRpbHMvZGV0ZXJtaW5lQ3Jvc3NPcmlnaW5cXFwiKSx2PW4ocCksZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbil7dmFyIHM9IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXTtpZihpKHRoaXMsZSksIXIpdGhyb3cgbmV3IEVycm9yKFxcXCJObyB2aWRlbyBzb3VyY2UgZWxlbWVudCBzcGVjaWZpZWQuXFxcIik7KHIucmVhZHlTdGF0ZT09PXIuSEFWRV9FTk9VR0hfREFUQXx8ci5yZWFkeVN0YXRlPT09ci5IQVZFX0ZVVFVSRV9EQVRBKSYmci53aWR0aCYmci5oZWlnaHQmJihyLmNvbXBsZXRlPSEwKTt2YXIgYT1vKHRoaXMsdC5jYWxsKHRoaXMscixuKSk7cmV0dXJuIGEud2lkdGg9ci52aWRlb1dpZHRoLGEuaGVpZ2h0PXIudmlkZW9IZWlnaHQsYS5fYXV0b1VwZGF0ZT0hMCxhLl9pc0F1dG9VcGRhdGluZz0hMSxhLmF1dG9QbGF5PXMsYS51cGRhdGU9YS51cGRhdGUuYmluZChhKSxhLl9vbkNhblBsYXk9YS5fb25DYW5QbGF5LmJpbmQoYSksci5hZGRFdmVudExpc3RlbmVyKFxcXCJwbGF5XFxcIixhLl9vblBsYXlTdGFydC5iaW5kKGEpKSxyLmFkZEV2ZW50TGlzdGVuZXIoXFxcInBhdXNlXFxcIixhLl9vblBsYXlTdG9wLmJpbmQoYSkpLGEuaGFzTG9hZGVkPSExLGEuX19sb2FkZWQ9ITEsYS5faXNTb3VyY2VSZWFkeSgpP2EuX29uQ2FuUGxheSgpOihyLmFkZEV2ZW50TGlzdGVuZXIoXFxcImNhbnBsYXlcXFwiLGEuX29uQ2FuUGxheSksci5hZGRFdmVudExpc3RlbmVyKFxcXCJjYW5wbGF5dGhyb3VnaFxcXCIsYS5fb25DYW5QbGF5KSksYX1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLl9pc1NvdXJjZVBsYXlpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNvdXJjZTtyZXR1cm4gdC5jdXJyZW50VGltZT4wJiYhMT09PXQucGF1c2VkJiYhMT09PXQuZW5kZWQmJnQucmVhZHlTdGF0ZT4yfSxlLnByb3RvdHlwZS5faXNTb3VyY2VSZWFkeT1mdW5jdGlvbigpe3JldHVybiAzPT09dGhpcy5zb3VyY2UucmVhZHlTdGF0ZXx8ND09PXRoaXMuc291cmNlLnJlYWR5U3RhdGV9LGUucHJvdG90eXBlLl9vblBsYXlTdGFydD1mdW5jdGlvbigpe3RoaXMuaGFzTG9hZGVkfHx0aGlzLl9vbkNhblBsYXkoKSwhdGhpcy5faXNBdXRvVXBkYXRpbmcmJnRoaXMuYXV0b1VwZGF0ZSYmKGQuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSx0aGlzLGYuVVBEQVRFX1BSSU9SSVRZLkhJR0gpLHRoaXMuX2lzQXV0b1VwZGF0aW5nPSEwKX0sZS5wcm90b3R5cGUuX29uUGxheVN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9pc0F1dG9VcGRhdGluZyYmKGQuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSx0aGlzKSx0aGlzLl9pc0F1dG9VcGRhdGluZz0hMSl9LGUucHJvdG90eXBlLl9vbkNhblBsYXk9ZnVuY3Rpb24oKXt0aGlzLmhhc0xvYWRlZD0hMCx0aGlzLnNvdXJjZSYmKHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcImNhbnBsYXlcXFwiLHRoaXMuX29uQ2FuUGxheSksdGhpcy5zb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwiY2FucGxheXRocm91Z2hcXFwiLHRoaXMuX29uQ2FuUGxheSksdGhpcy53aWR0aD10aGlzLnNvdXJjZS52aWRlb1dpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuc291cmNlLnZpZGVvSGVpZ2h0LHRoaXMuX19sb2FkZWR8fCh0aGlzLl9fbG9hZGVkPSEwLHRoaXMuZW1pdChcXFwibG9hZGVkXFxcIix0aGlzKSksdGhpcy5faXNTb3VyY2VQbGF5aW5nKCk/dGhpcy5fb25QbGF5U3RhcnQoKTp0aGlzLmF1dG9QbGF5JiZ0aGlzLnNvdXJjZS5wbGF5KCkpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5faXNBdXRvVXBkYXRpbmcmJmQuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSx0aGlzKSx0aGlzLnNvdXJjZSYmdGhpcy5zb3VyY2UuX3BpeGlJZCYmKGwuZGVmYXVsdC5yZW1vdmVGcm9tQ2FjaGUodGhpcy5zb3VyY2UuX3BpeGlJZCksZGVsZXRlIHRoaXMuc291cmNlLl9waXhpSWQsdGhpcy5zb3VyY2UucGF1c2UoKSx0aGlzLnNvdXJjZS5zcmM9XFxcIlxcXCIsdGhpcy5zb3VyY2UubG9hZCgpKSx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LGUuZnJvbVZpZGVvPWZ1bmN0aW9uKHQscixuKXt0Ll9waXhpSWR8fCh0Ll9waXhpSWQ9XFxcInZpZGVvX1xcXCIrKDAsYy51aWQpKCkpO3ZhciBpPWMuQmFzZVRleHR1cmVDYWNoZVt0Ll9waXhpSWRdO3JldHVybiBpfHwoaT1uZXcgZSh0LHIsbiksbC5kZWZhdWx0LmFkZFRvQ2FjaGUoaSx0Ll9waXhpSWQpKSxpfSxlLmZyb21Vcmw9ZnVuY3Rpb24odCxyLG4saSl7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwidmlkZW9cXFwiKTtvLnNldEF0dHJpYnV0ZShcXFwid2Via2l0LXBsYXlzaW5saW5lXFxcIixcXFwiXFxcIiksby5zZXRBdHRyaWJ1dGUoXFxcInBsYXlzaW5saW5lXFxcIixcXFwiXFxcIik7dmFyIHM9QXJyYXkuaXNBcnJheSh0KT90WzBdLnNyY3x8dFswXTp0LnNyY3x8dDtpZih2b2lkIDA9PT1uJiYwIT09cy5pbmRleE9mKFxcXCJkYXRhOlxcXCIpP28uY3Jvc3NPcmlnaW49KDAsdi5kZWZhdWx0KShzKTpuJiYoby5jcm9zc09yaWdpbj1cXFwic3RyaW5nXFxcIj09dHlwZW9mIG4/bjpcXFwiYW5vbnltb3VzXFxcIiksQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIHU9MDt1PHQubGVuZ3RoOysrdSlvLmFwcGVuZENoaWxkKGEodFt1XS5zcmN8fHRbdV0sdFt1XS5taW1lKSk7ZWxzZSBvLmFwcGVuZENoaWxkKGEocyx0Lm1pbWUpKTtyZXR1cm4gby5sb2FkKCksZS5mcm9tVmlkZW8obyxyLGkpfSx1KGUsW3trZXk6XFxcImF1dG9VcGRhdGVcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdXRvVXBkYXRlfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuX2F1dG9VcGRhdGUmJih0aGlzLl9hdXRvVXBkYXRlPXQsIXRoaXMuX2F1dG9VcGRhdGUmJnRoaXMuX2lzQXV0b1VwZGF0aW5nPyhkLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsdGhpcyksdGhpcy5faXNBdXRvVXBkYXRpbmc9ITEpOnRoaXMuX2F1dG9VcGRhdGUmJiF0aGlzLl9pc0F1dG9VcGRhdGluZyYmKGQuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSx0aGlzLGYuVVBEQVRFX1BSSU9SSVRZLkhJR0gpLHRoaXMuX2lzQXV0b1VwZGF0aW5nPSEwKSl9fV0pLGV9KGwuZGVmYXVsdCk7ci5kZWZhdWx0PWcsZy5mcm9tVXJscz1nLmZyb21Vcmx9LHtcXFwiLi4vY29uc3RcXFwiOjQ2LFxcXCIuLi90aWNrZXJcXFwiOjEyMSxcXFwiLi4vdXRpbHNcXFwiOjEyNSxcXFwiLi4vdXRpbHMvZGV0ZXJtaW5lQ3Jvc3NPcmlnaW5cXFwiOjEyNCxcXFwiLi9CYXNlVGV4dHVyZVxcXCI6MTEyfV0sMTE5OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXFxcInZhbHVlXFxcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCkscz10KFxcXCIuLi9zZXR0aW5nc1xcXCIpLGE9bihzKSx1PXQoXFxcIi4uL2NvbnN0XFxcIiksaD10KFxcXCIuL1RpY2tlckxpc3RlbmVyXFxcIiksbD1uKGgpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9dGhpcztpKHRoaXMsdCksdGhpcy5faGVhZD1uZXcgbC5kZWZhdWx0KG51bGwsbnVsbCwxLzApLHRoaXMuX3JlcXVlc3RJZD1udWxsLHRoaXMuX21heEVsYXBzZWRNUz0xMDAsdGhpcy5hdXRvU3RhcnQ9ITEsdGhpcy5kZWx0YVRpbWU9MSx0aGlzLmVsYXBzZWRNUz0xL2EuZGVmYXVsdC5UQVJHRVRfRlBNUyx0aGlzLmxhc3RUaW1lPS0xLHRoaXMuc3BlZWQ9MSx0aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5fdGljaz1mdW5jdGlvbih0KXtlLl9yZXF1ZXN0SWQ9bnVsbCxlLnN0YXJ0ZWQmJihlLnVwZGF0ZSh0KSxlLnN0YXJ0ZWQmJm51bGw9PT1lLl9yZXF1ZXN0SWQmJmUuX2hlYWQubmV4dCYmKGUuX3JlcXVlc3RJZD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZS5fdGljaykpKX19cmV0dXJuIHQucHJvdG90eXBlLl9yZXF1ZXN0SWZOZWVkZWQ9ZnVuY3Rpb24oKXtudWxsPT09dGhpcy5fcmVxdWVzdElkJiZ0aGlzLl9oZWFkLm5leHQmJih0aGlzLmxhc3RUaW1lPXBlcmZvcm1hbmNlLm5vdygpLHRoaXMuX3JlcXVlc3RJZD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljaykpfSx0LnByb3RvdHlwZS5fY2FuY2VsSWZOZWVkZWQ9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5fcmVxdWVzdElkJiYoY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKSx0aGlzLl9yZXF1ZXN0SWQ9bnVsbCl9LHQucHJvdG90eXBlLl9zdGFydElmUG9zc2libGU9ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0ZWQ/dGhpcy5fcmVxdWVzdElmTmVlZGVkKCk6dGhpcy5hdXRvU3RhcnQmJnRoaXMuc3RhcnQoKX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnUuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDtyZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IGwuZGVmYXVsdCh0LGUscikpfSx0LnByb3RvdHlwZS5hZGRPbmNlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnUuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDtyZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IGwuZGVmYXVsdCh0LGUsciwhMCkpfSx0LnByb3RvdHlwZS5fYWRkTGlzdGVuZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faGVhZC5uZXh0LHI9dGhpcy5faGVhZDtpZihlKXtmb3IoO2U7KXtpZih0LnByaW9yaXR5PmUucHJpb3JpdHkpe3QuY29ubmVjdChyKTticmVha31yPWUsZT1lLm5leHR9dC5wcmV2aW91c3x8dC5jb25uZWN0KHIpfWVsc2UgdC5jb25uZWN0KHIpO3JldHVybiB0aGlzLl9zdGFydElmUG9zc2libGUoKSx0aGlzfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dGhpcy5faGVhZC5uZXh0O3I7KXI9ci5tYXRjaCh0LGUpP3IuZGVzdHJveSgpOnIubmV4dDtyZXR1cm4gdGhpcy5faGVhZC5uZXh0fHx0aGlzLl9jYW5jZWxJZk5lZWRlZCgpLHRoaXN9LHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5zdGFydGVkfHwodGhpcy5zdGFydGVkPSEwLHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpKX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuc3RhcnRlZCYmKHRoaXMuc3RhcnRlZD0hMSx0aGlzLl9jYW5jZWxJZk5lZWRlZCgpKX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc3RvcCgpO2Zvcih2YXIgdD10aGlzLl9oZWFkLm5leHQ7dDspdD10LmRlc3Ryb3koITApO3RoaXMuX2hlYWQuZGVzdHJveSgpLHRoaXMuX2hlYWQ9bnVsbH0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnBlcmZvcm1hbmNlLm5vdygpLGU9dm9pZCAwO2lmKHQ+dGhpcy5sYXN0VGltZSl7ZT10aGlzLmVsYXBzZWRNUz10LXRoaXMubGFzdFRpbWUsZT50aGlzLl9tYXhFbGFwc2VkTVMmJihlPXRoaXMuX21heEVsYXBzZWRNUyksdGhpcy5kZWx0YVRpbWU9ZSphLmRlZmF1bHQuVEFSR0VUX0ZQTVMqdGhpcy5zcGVlZDtmb3IodmFyIHI9dGhpcy5faGVhZCxuPXIubmV4dDtuOyluPW4uZW1pdCh0aGlzLmRlbHRhVGltZSk7ci5uZXh0fHx0aGlzLl9jYW5jZWxJZk5lZWRlZCgpfWVsc2UgdGhpcy5kZWx0YVRpbWU9dGhpcy5lbGFwc2VkTVM9MDt0aGlzLmxhc3RUaW1lPXR9LG8odCxbe2tleTpcXFwiRlBTXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMWUzL3RoaXMuZWxhcHNlZE1TfX0se2tleTpcXFwibWluRlBTXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMWUzL3RoaXMuX21heEVsYXBzZWRNU30sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgubWluKE1hdGgubWF4KDAsdCkvMWUzLGEuZGVmYXVsdC5UQVJHRVRfRlBNUyk7dGhpcy5fbWF4RWxhcHNlZE1TPTEvZX19XSksdH0oKTtyLmRlZmF1bHQ9Y30se1xcXCIuLi9jb25zdFxcXCI6NDYsXFxcIi4uL3NldHRpbmdzXFxcIjoxMDEsXFxcIi4vVGlja2VyTGlzdGVuZXJcXFwiOjEyMH1dLDEyMDpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXTtuKHRoaXMsdCksdGhpcy5mbj1lLHRoaXMuY29udGV4dD1yLHRoaXMucHJpb3JpdHk9aSx0aGlzLm9uY2U9byx0aGlzLm5leHQ9bnVsbCx0aGlzLnByZXZpb3VzPW51bGwsdGhpcy5fZGVzdHJveWVkPSExfXJldHVybiB0LnByb3RvdHlwZS5tYXRjaD1mdW5jdGlvbih0LGUpe3JldHVybiBlPWV8fG51bGwsdGhpcy5mbj09PXQmJnRoaXMuY29udGV4dD09PWV9LHQucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7dGhpcy5mbiYmKHRoaXMuY29udGV4dD90aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LHQpOnRoaXMuZm4odCkpO3ZhciBlPXRoaXMubmV4dDtyZXR1cm4gdGhpcy5vbmNlJiZ0aGlzLmRlc3Ryb3koITApLHRoaXMuX2Rlc3Ryb3llZCYmKHRoaXMubmV4dD1udWxsKSxlfSx0LnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKHQpe3RoaXMucHJldmlvdXM9dCx0Lm5leHQmJih0Lm5leHQucHJldmlvdXM9dGhpcyksdGhpcy5uZXh0PXQubmV4dCx0Lm5leHQ9dGhpc30sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07dGhpcy5fZGVzdHJveWVkPSEwLHRoaXMuZm49bnVsbCx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLnByZXZpb3VzJiYodGhpcy5wcmV2aW91cy5uZXh0PXRoaXMubmV4dCksdGhpcy5uZXh0JiYodGhpcy5uZXh0LnByZXZpb3VzPXRoaXMucHJldmlvdXMpO3ZhciBlPXRoaXMubmV4dDtyZXR1cm4gdGhpcy5uZXh0PXQ/bnVsbDplLHRoaXMucHJldmlvdXM9bnVsbCxlfSx0fSgpO3IuZGVmYXVsdD1pfSx7fV0sMTIxOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO3IuX19lc01vZHVsZT0hMCxyLlRpY2tlcj1yLnNoYXJlZD12b2lkIDA7dmFyIG49dChcXFwiLi9UaWNrZXJcXFwiKSxpPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0obiksbz1uZXcgaS5kZWZhdWx0O28uYXV0b1N0YXJ0PSEwLG8uZGVzdHJveT1mdW5jdGlvbigpe30sci5zaGFyZWQ9byxyLlRpY2tlcj1pLmRlZmF1bHR9LHtcXFwiLi9UaWNrZXJcXFwiOjExOX1dLDEyMjpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKCl7cmV0dXJuISghIW5hdmlnYXRvci5wbGF0Zm9ybSYmL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSl9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1ufSx7fV0sMTIzOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7Zm9yKHZhciBlPTYqdCxyPW5ldyBVaW50MTZBcnJheShlKSxuPTAsaT0wO248ZTtuKz02LGkrPTQpcltuKzBdPWkrMCxyW24rMV09aSsxLHJbbisyXT1pKzIscltuKzNdPWkrMCxyW24rNF09aSsyLHJbbis1XT1pKzM7cmV0dXJuIHJ9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1ufSx7fV0sMTI0OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOndpbmRvdy5sb2NhdGlvbjtpZigwPT09dC5pbmRleE9mKFxcXCJkYXRhOlxcXCIpKXJldHVyblxcXCJcXFwiO2U9ZXx8d2luZG93LmxvY2F0aW9uLHN8fChzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXFxcImFcXFwiKSkscy5ocmVmPXQsdD1vLmRlZmF1bHQucGFyc2Uocy5ocmVmKTt2YXIgcj0hdC5wb3J0JiZcXFwiXFxcIj09PWUucG9ydHx8dC5wb3J0PT09ZS5wb3J0O3JldHVybiB0Lmhvc3RuYW1lPT09ZS5ob3N0bmFtZSYmciYmdC5wcm90b2NvbD09PWUucHJvdG9jb2w/XFxcIlxcXCI6XFxcImFub255bW91c1xcXCJ9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1uO3ZhciBpPXQoXFxcInVybFxcXCIpLG89ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShpKSxzPXZvaWQgMH0se3VybDozOH1dLDEyNTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBpKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBvKCl7cmV0dXJuKytVfWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gZT1lfHxbXSxlWzBdPSh0Pj4xNiYyNTUpLzI1NSxlWzFdPSh0Pj44JjI1NSkvMjU1LGVbMl09KDI1NSZ0KS8yNTUsZX1mdW5jdGlvbiBhKHQpe3JldHVybiB0PXQudG9TdHJpbmcoMTYpLFxcXCIjXFxcIisodD1cXFwiMDAwMDAwXFxcIi5zdWJzdHIoMCw2LXQubGVuZ3RoKSt0KX1mdW5jdGlvbiB1KHQpe3JldHVybigyNTUqdFswXTw8MTYpKygyNTUqdFsxXTw8OCkrKDI1NSp0WzJdfDApfWZ1bmN0aW9uIGgodCxlKXt2YXIgcj1TLmRlZmF1bHQuUkVUSU5BX1BSRUZJWC5leGVjKHQpO3JldHVybiByP3BhcnNlRmxvYXQoclsxXSk6dm9pZCAwIT09ZT9lOjF9ZnVuY3Rpb24gbCh0KXt2YXIgZT13LkRBVEFfVVJJLmV4ZWModCk7aWYoZSlyZXR1cm57bWVkaWFUeXBlOmVbMV0/ZVsxXS50b0xvd2VyQ2FzZSgpOnZvaWQgMCxzdWJUeXBlOmVbMl0/ZVsyXS50b0xvd2VyQ2FzZSgpOnZvaWQgMCxjaGFyc2V0OmVbM10/ZVszXS50b0xvd2VyQ2FzZSgpOnZvaWQgMCxlbmNvZGluZzplWzRdP2VbNF0udG9Mb3dlckNhc2UoKTp2b2lkIDAsZGF0YTplWzVdfX1mdW5jdGlvbiBjKHQpe3ZhciBlPXcuVVJMX0ZJTEVfRVhURU5TSU9OLmV4ZWModCk7aWYoZSlyZXR1cm4gZVsxXS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGQodCl7dmFyIGU9dy5TVkdfU0laRS5leGVjKHQpLHI9e307cmV0dXJuIGUmJihyW2VbMV1dPU1hdGgucm91bmQocGFyc2VGbG9hdChlWzNdKSkscltlWzVdXT1NYXRoLnJvdW5kKHBhcnNlRmxvYXQoZVs3XSkpKSxyfWZ1bmN0aW9uIGYoKXtYPSEwfWZ1bmN0aW9uIHAodCl7aWYoIVgpe2lmKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFxcXCJjaHJvbWVcXFwiKT4tMSl7dmFyIGU9W1xcXCJcXFxcbiAlYyAlYyAlYyBQaXhpSlMgXFxcIit3LlZFUlNJT04rXFxcIiAtIOKcsCBcXFwiK3QrXFxcIiDinLAgICVjICAlYyAgaHR0cDovL3d3dy5waXhpanMuY29tLyAgJWMgJWMg4pmlJWPimaUlY+KZpSBcXFxcblxcXFxuXFxcIixcXFwiYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDtcXFwiLFxcXCJiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwO1xcXCIsXFxcImNvbG9yOiAjZmY2NmE1OyBiYWNrZ3JvdW5kOiAjMDMwMzA3OyBwYWRkaW5nOjVweCAwO1xcXCIsXFxcImJhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7XFxcIixcXFwiYmFja2dyb3VuZDogI2ZmYzNkYzsgcGFkZGluZzo1cHggMDtcXFwiLFxcXCJiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwO1xcXCIsXFxcImNvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwO1xcXCIsXFxcImNvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwO1xcXCIsXFxcImNvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwO1xcXCJdO3dpbmRvdy5jb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGUpfWVsc2Ugd2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZyhcXFwiUGl4aUpTIFxcXCIrdy5WRVJTSU9OK1xcXCIgLSBcXFwiK3QrXFxcIiAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9cXFwiKTtYPSEwfX1mdW5jdGlvbiB2KCl7dmFyIHQ9e3N0ZW5jaWw6ITAsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMH07dHJ5e2lmKCF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0KXJldHVybiExO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXFxcImNhbnZhc1xcXCIpLHI9ZS5nZXRDb250ZXh0KFxcXCJ3ZWJnbFxcXCIsdCl8fGUuZ2V0Q29udGV4dChcXFwiZXhwZXJpbWVudGFsLXdlYmdsXFxcIix0KSxuPSEoIXJ8fCFyLmdldENvbnRleHRBdHRyaWJ1dGVzKCkuc3RlbmNpbCk7aWYocil7dmFyIGk9ci5nZXRFeHRlbnNpb24oXFxcIldFQkdMX2xvc2VfY29udGV4dFxcXCIpO2kmJmkubG9zZUNvbnRleHQoKX1yZXR1cm4gcj1udWxsLG59Y2F0Y2godCl7cmV0dXJuITF9fWZ1bmN0aW9uIGcodCl7cmV0dXJuIDA9PT10PzA6dDwwPy0xOjF9ZnVuY3Rpb24geSgpe3ZhciB0PXZvaWQgMDtmb3IodCBpbiBHKUdbdF0uZGVzdHJveSgpO2Zvcih0IGluIFcpV1t0XS5kZXN0cm95KCl9ZnVuY3Rpb24gbSgpe3ZhciB0PXZvaWQgMDtmb3IodCBpbiBHKWRlbGV0ZSBHW3RdO2Zvcih0IGluIFcpZGVsZXRlIFdbdF19ZnVuY3Rpb24gXyh0LGUpe3JldHVybiBIW2U/MTowXVt0XX1mdW5jdGlvbiBiKHQsZSl7aWYoMT09PWUpcmV0dXJuKDI1NSplPDwyNCkrdDtpZigwPT09ZSlyZXR1cm4gMDt2YXIgcj10Pj4xNiYyNTUsbj10Pj44JjI1NSxpPTI1NSZ0O3JldHVybiByPXIqZSsuNXwwLG49biplKy41fDAsaT1pKmUrLjV8MCwoMjU1KmU8PDI0KSsocjw8MTYpKyhuPDw4KStpfWZ1bmN0aW9uIHgodCxlLHIsbil7cmV0dXJuIHI9cnx8bmV3IEZsb2F0MzJBcnJheSg0KSxufHx2b2lkIDA9PT1uPyhyWzBdPXRbMF0qZSxyWzFdPXRbMV0qZSxyWzJdPXRbMl0qZSk6KHJbMF09dFswXSxyWzFdPXRbMV0sclsyXT10WzJdKSxyWzNdPWUscn1mdW5jdGlvbiBUKHQsZSxyLG4pe3JldHVybiByPXJ8fG5ldyBGbG9hdDMyQXJyYXkoNCksclswXT0odD4+MTYmMjU1KS8yNTUsclsxXT0odD4+OCYyNTUpLzI1NSxyWzJdPSgyNTUmdCkvMjU1LChufHx2b2lkIDA9PT1uKSYmKHJbMF0qPWUsclsxXSo9ZSxyWzJdKj1lKSxyWzNdPWUscn1yLl9fZXNNb2R1bGU9ITAsci5wcmVtdWx0aXBseUJsZW5kTW9kZT1yLkJhc2VUZXh0dXJlQ2FjaGU9ci5UZXh0dXJlQ2FjaGU9ci5lYXJjdXQ9ci5taXhpbnM9ci5wbHVnaW5UYXJnZXQ9ci5FdmVudEVtaXR0ZXI9ci5yZW1vdmVJdGVtcz1yLmlzTW9iaWxlPXZvaWQgMCxyLnVpZD1vLHIuaGV4MnJnYj1zLHIuaGV4MnN0cmluZz1hLHIucmdiMmhleD11LHIuZ2V0UmVzb2x1dGlvbk9mVXJsPWgsci5kZWNvbXBvc2VEYXRhVXJpPWwsci5nZXRVcmxGaWxlRXh0ZW5zaW9uPWMsci5nZXRTdmdTaXplPWQsci5za2lwSGVsbG89ZixyLnNheUhlbGxvPXAsci5pc1dlYkdMU3VwcG9ydGVkPXYsci5zaWduPWcsci5kZXN0cm95VGV4dHVyZUNhY2hlPXksci5jbGVhclRleHR1cmVDYWNoZT1tLHIuY29ycmVjdEJsZW5kTW9kZT1fLHIucHJlbXVsdGlwbHlUaW50PWIsci5wcmVtdWx0aXBseVJnYmE9eCxyLnByZW11bHRpcGx5VGludFRvUmdiYT1UO3ZhciB3PXQoXFxcIi4uL2NvbnN0XFxcIiksRT10KFxcXCIuLi9zZXR0aW5nc1xcXCIpLFM9aShFKSxPPXQoXFxcImV2ZW50ZW1pdHRlcjNcXFwiKSxNPWkoTyksUD10KFxcXCIuL3BsdWdpblRhcmdldFxcXCIpLEM9aShQKSxSPXQoXFxcIi4vbWl4aW5cXFwiKSxBPW4oUiksST10KFxcXCJpc21vYmlsZWpzXFxcIiksRD1uKEkpLEw9dChcXFwicmVtb3ZlLWFycmF5LWl0ZW1zXFxcIiksTj1pKEwpLEI9dChcXFwiLi9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlc1xcXCIpLGs9aShCKSxGPXQoXFxcImVhcmN1dFxcXCIpLGo9aShGKSxVPTAsWD0hMTtyLmlzTW9iaWxlPUQsci5yZW1vdmVJdGVtcz1OLmRlZmF1bHQsci5FdmVudEVtaXR0ZXI9TS5kZWZhdWx0LHIucGx1Z2luVGFyZ2V0PUMuZGVmYXVsdCxyLm1peGlucz1BLHIuZWFyY3V0PWouZGVmYXVsdDt2YXIgRz1yLlRleHR1cmVDYWNoZT1PYmplY3QuY3JlYXRlKG51bGwpLFc9ci5CYXNlVGV4dHVyZUNhY2hlPU9iamVjdC5jcmVhdGUobnVsbCksSD1yLnByZW11bHRpcGx5QmxlbmRNb2RlPSgwLGsuZGVmYXVsdCkoKX0se1xcXCIuLi9jb25zdFxcXCI6NDYsXFxcIi4uL3NldHRpbmdzXFxcIjoxMDEsXFxcIi4vbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXNcXFwiOjEyNixcXFwiLi9taXhpblxcXCI6MTI4LFxcXCIuL3BsdWdpblRhcmdldFxcXCI6MTI5LGVhcmN1dDoyLGV2ZW50ZW1pdHRlcjM6Myxpc21vYmlsZWpzOjQsXFxcInJlbW92ZS1hcnJheS1pdGVtc1xcXCI6MzF9XSwxMjY6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbigpe2Zvcih2YXIgdD1bXSxlPVtdLHI9MDtyPDMyO3IrKyl0W3JdPXIsZVtyXT1yO3RbaS5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXT1pLkJMRU5EX01PREVTLk5PUk1BTCx0W2kuQkxFTkRfTU9ERVMuQUREX05QTV09aS5CTEVORF9NT0RFUy5BREQsdFtpLkJMRU5EX01PREVTLlNDUkVFTl9OUE1dPWkuQkxFTkRfTU9ERVMuU0NSRUVOLGVbaS5CTEVORF9NT0RFUy5OT1JNQUxdPWkuQkxFTkRfTU9ERVMuTk9STUFMX05QTSxlW2kuQkxFTkRfTU9ERVMuQUREXT1pLkJMRU5EX01PREVTLkFERF9OUE0sZVtpLkJMRU5EX01PREVTLlNDUkVFTl09aS5CTEVORF9NT0RFUy5TQ1JFRU5fTlBNO3ZhciBuPVtdO3JldHVybiBuLnB1c2goZSksbi5wdXNoKHQpLG59ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1uO3ZhciBpPXQoXFxcIi4uL2NvbnN0XFxcIil9LHtcXFwiLi4vY29uc3RcXFwiOjQ2fV0sMTI3OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIG8uZGVmYXVsdC50YWJsZXR8fG8uZGVmYXVsdC5waG9uZT80OnR9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1uO3ZhciBpPXQoXFxcImlzbW9iaWxlanNcXFwiKSxvPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0oaSl9LHtpc21vYmlsZWpzOjR9XSwxMjg6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKHQmJmUpZm9yKHZhciByPU9iamVjdC5rZXlzKGUpLG49MDtuPHIubGVuZ3RoOysrbil7dmFyIGk9cltuXTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxpKSl9fWZ1bmN0aW9uIGkodCxlKXtzLnB1c2godCxlKX1mdW5jdGlvbiBvKCl7Zm9yKHZhciB0PTA7dDxzLmxlbmd0aDt0Kz0yKW4oc1t0XSxzW3QrMV0pO3MubGVuZ3RoPTB9ci5fX2VzTW9kdWxlPSEwLHIubWl4aW49bixyLmRlbGF5TWl4aW49aSxyLnBlcmZvcm1NaXhpbnM9bzt2YXIgcz1bXX0se31dLDEyOTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3QuX19wbHVnaW5zPXt9LHQucmVnaXN0ZXJQbHVnaW49ZnVuY3Rpb24oZSxyKXt0Ll9fcGx1Z2luc1tlXT1yfSx0LnByb3RvdHlwZS5pbml0UGx1Z2lucz1mdW5jdGlvbigpe3RoaXMucGx1Z2lucz10aGlzLnBsdWdpbnN8fHt9O2Zvcih2YXIgZSBpbiB0Ll9fcGx1Z2lucyl0aGlzLnBsdWdpbnNbZV09bmV3IHQuX19wbHVnaW5zW2VdKHRoaXMpfSx0LnByb3RvdHlwZS5kZXN0cm95UGx1Z2lucz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnBsdWdpbnMpdGhpcy5wbHVnaW5zW3RdLmRlc3Ryb3koKSx0aGlzLnBsdWdpbnNbdF09bnVsbDt0aGlzLnBsdWdpbnM9bnVsbH19ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD17bWl4aW46ZnVuY3Rpb24odCl7bih0KX19fSx7fV0sMTMwOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7dmFyIGU9dC53aWR0aCxyPXQuaGVpZ2h0LG49dC5nZXRDb250ZXh0KFxcXCIyZFxcXCIpLGk9bi5nZXRJbWFnZURhdGEoMCwwLGUsciksbz1pLmRhdGEscz1vLmxlbmd0aCxhPXt0b3A6bnVsbCxsZWZ0Om51bGwscmlnaHQ6bnVsbCxib3R0b206bnVsbH0sdT1udWxsLGg9dm9pZCAwLGw9dm9pZCAwLGM9dm9pZCAwO2ZvcihoPTA7aDxzO2grPTQpMCE9PW9baCszXSYmKGw9aC80JWUsYz1+fihoLzQvZSksbnVsbD09PWEudG9wJiYoYS50b3A9YyksbnVsbD09PWEubGVmdD9hLmxlZnQ9bDpsPGEubGVmdCYmKGEubGVmdD1sKSxudWxsPT09YS5yaWdodD9hLnJpZ2h0PWwrMTphLnJpZ2h0PGwmJihhLnJpZ2h0PWwrMSksbnVsbD09PWEuYm90dG9tP2EuYm90dG9tPWM6YS5ib3R0b208YyYmKGEuYm90dG9tPWMpKTtyZXR1cm4gbnVsbCE9PWEudG9wJiYoZT1hLnJpZ2h0LWEubGVmdCxyPWEuYm90dG9tLWEudG9wKzEsdT1uLmdldEltYWdlRGF0YShhLmxlZnQsYS50b3AsZSxyKSkse2hlaWdodDpyLHdpZHRoOmUsZGF0YTp1fX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PW59LHt9XSwxMzE6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtpZighb1t0XSl7dmFyIGU9KG5ldyBFcnJvcikuc3RhY2s7dm9pZCAwPT09ZT9jb25zb2xlLndhcm4oXFxcIkRlcHJlY2F0aW9uIFdhcm5pbmc6IFxcXCIsdCk6KGU9ZS5zcGxpdChcXFwiXFxcXG5cXFwiKS5zcGxpY2UoMykuam9pbihcXFwiXFxcXG5cXFwiKSxjb25zb2xlLmdyb3VwQ29sbGFwc2VkPyhjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFxcXCIlY0RlcHJlY2F0aW9uIFdhcm5pbmc6ICVjJXNcXFwiLFxcXCJjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNlxcXCIsXFxcImZvbnQtd2VpZ2h0Om5vcm1hbDtjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNlxcXCIsdCksY29uc29sZS53YXJuKGUpLGNvbnNvbGUuZ3JvdXBFbmQoKSk6KGNvbnNvbGUud2FybihcXFwiRGVwcmVjYXRpb24gV2FybmluZzogXFxcIix0KSxjb25zb2xlLndhcm4oZSkpKSxvW3RdPSEwfX1mdW5jdGlvbiBpKHQpe3ZhciBlPXQubWVzaCxyPXQucGFydGljbGVzLGk9dC5leHRyYXMsbz10LmZpbHRlcnMscz10LnByZXBhcmUsYT10LmxvYWRlcnMsdT10LmludGVyYWN0aW9uO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQse1Nwcml0ZUJhdGNoOntnZXQ6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcIlNwcml0ZUJhdGNoIGRvZXMgbm90IGV4aXN0IGFueSBtb3JlLCBwbGVhc2UgdXNlIHRoZSBuZXcgUGFydGljbGVDb250YWluZXIgaW5zdGVhZC5cXFwiKX19LEFzc2V0TG9hZGVyOntnZXQ6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcIlRoZSBsb2FkZXIgc3lzdGVtIHdhcyBvdmVyaGF1bGVkIGluIFBpeGlKUyB2MywgcGxlYXNlIHNlZSB0aGUgbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIgY2xhc3MuXFxcIil9fSxTdGFnZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcIllvdSBkbyBub3QgbmVlZCB0byB1c2UgYSBQSVhJIFN0YWdlIGFueSBtb3JlLCB5b3UgY2FuIHNpbXBseSByZW5kZXIgYW55IGNvbnRhaW5lci5cXFwiKSx0LkNvbnRhaW5lcn19LERpc3BsYXlPYmplY3RDb250YWluZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJEaXNwbGF5T2JqZWN0Q29udGFpbmVyIGhhcyBiZWVuIHNob3J0ZW5lZCB0byBDb250YWluZXIsIHBsZWFzZSB1c2UgQ29udGFpbmVyIGZyb20gbm93IG9uLlxcXCIpLHQuQ29udGFpbmVyfX0sU3RyaXA6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJUaGUgU3RyaXAgY2xhc3MgaGFzIGJlZW4gcmVuYW1lZCB0byBNZXNoIGFuZCBtb3ZlZCB0byBtZXNoLk1lc2gsIHBsZWFzZSB1c2UgbWVzaC5NZXNoIGZyb20gbm93IG9uLlxcXCIpLGUuTWVzaH19LFJvcGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJUaGUgUm9wZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byBtZXNoLlJvcGUsIHBsZWFzZSB1c2UgbWVzaC5Sb3BlIGZyb20gbm93IG9uLlxcXCIpLGUuUm9wZX19LFBhcnRpY2xlQ29udGFpbmVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIHBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciwgcGxlYXNlIHVzZSBwYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXIgZnJvbSBub3cgb24uXFxcIiksci5QYXJ0aWNsZUNvbnRhaW5lcn19LE1vdmllQ2xpcDp7Z2V0OmZ1bmN0aW9uKCl7XFxucmV0dXJuIG4oXFxcIlRoZSBNb3ZpZUNsaXAgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gZXh0cmFzLkFuaW1hdGVkU3ByaXRlLCBwbGVhc2UgdXNlIGV4dHJhcy5BbmltYXRlZFNwcml0ZS5cXFwiKSxpLkFuaW1hdGVkU3ByaXRlfX0sVGlsaW5nU3ByaXRlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiVGhlIFRpbGluZ1Nwcml0ZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byBleHRyYXMuVGlsaW5nU3ByaXRlLCBwbGVhc2UgdXNlIGV4dHJhcy5UaWxpbmdTcHJpdGUgZnJvbSBub3cgb24uXFxcIiksaS5UaWxpbmdTcHJpdGV9fSxCaXRtYXBUZXh0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiVGhlIEJpdG1hcFRleHQgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gZXh0cmFzLkJpdG1hcFRleHQsIHBsZWFzZSB1c2UgZXh0cmFzLkJpdG1hcFRleHQgZnJvbSBub3cgb24uXFxcIiksaS5CaXRtYXBUZXh0fX0sYmxlbmRNb2Rlczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcIlRoZSBibGVuZE1vZGVzIGhhcyBiZWVuIG1vdmVkIHRvIEJMRU5EX01PREVTLCBwbGVhc2UgdXNlIEJMRU5EX01PREVTIGZyb20gbm93IG9uLlxcXCIpLHQuQkxFTkRfTU9ERVN9fSxzY2FsZU1vZGVzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiVGhlIHNjYWxlTW9kZXMgaGFzIGJlZW4gbW92ZWQgdG8gU0NBTEVfTU9ERVMsIHBsZWFzZSB1c2UgU0NBTEVfTU9ERVMgZnJvbSBub3cgb24uXFxcIiksdC5TQ0FMRV9NT0RFU319LEJhc2VUZXh0dXJlQ2FjaGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJUaGUgQmFzZVRleHR1cmVDYWNoZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byB1dGlscy5CYXNlVGV4dHVyZUNhY2hlLCBwbGVhc2UgdXNlIHV0aWxzLkJhc2VUZXh0dXJlQ2FjaGUgZnJvbSBub3cgb24uXFxcIiksdC51dGlscy5CYXNlVGV4dHVyZUNhY2hlfX0sVGV4dHVyZUNhY2hlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiVGhlIFRleHR1cmVDYWNoZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byB1dGlscy5UZXh0dXJlQ2FjaGUsIHBsZWFzZSB1c2UgdXRpbHMuVGV4dHVyZUNhY2hlIGZyb20gbm93IG9uLlxcXCIpLHQudXRpbHMuVGV4dHVyZUNhY2hlfX0sbWF0aDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcIlRoZSBtYXRoIG5hbWVzcGFjZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgYWNjZXNzIG1lbWJlcnMgYWxyZWFkeSBhY2Nlc3NpYmxlIG9uIFBJWEkuXFxcIiksdH19LEFic3RyYWN0RmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiQXN0cmFjdEZpbHRlciBoYXMgYmVlbiByZW5hbWVkIHRvIEZpbHRlciwgcGxlYXNlIHVzZSBQSVhJLkZpbHRlclxcXCIpLHQuRmlsdGVyfX0sVHJhbnNmb3JtTWFudWFsOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiVHJhbnNmb3JtTWFudWFsIGhhcyBiZWVuIHJlbmFtZWQgdG8gVHJhbnNmb3JtQmFzZSwgcGxlYXNlIHVwZGF0ZSB5b3VyIHBpeGktc3BpbmVcXFwiKSx0LlRyYW5zZm9ybUJhc2V9fSxUQVJHRVRfRlBNUzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcIlBJWEkuVEFSR0VUX0ZQTVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TXFxcIiksdC5zZXR0aW5ncy5UQVJHRVRfRlBNU30sc2V0OmZ1bmN0aW9uKGUpe24oXFxcIlBJWEkuVEFSR0VUX0ZQTVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TXFxcIiksdC5zZXR0aW5ncy5UQVJHRVRfRlBNUz1lfX0sRklMVEVSX1JFU09MVVRJT046e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJQSVhJLkZJTFRFUl9SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTlxcXCIpLHQuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT059LHNldDpmdW5jdGlvbihlKXtuKFxcXCJQSVhJLkZJTFRFUl9SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTlxcXCIpLHQuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT049ZX19LFJFU09MVVRJT046e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJQSVhJLlJFU09MVVRJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlJFU09MVVRJT05cXFwiKSx0LnNldHRpbmdzLlJFU09MVVRJT059LHNldDpmdW5jdGlvbihlKXtuKFxcXCJQSVhJLlJFU09MVVRJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlJFU09MVVRJT05cXFwiKSx0LnNldHRpbmdzLlJFU09MVVRJT049ZX19LE1JUE1BUF9URVhUVVJFUzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcIlBJWEkuTUlQTUFQX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNcXFwiKSx0LnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU30sc2V0OmZ1bmN0aW9uKGUpe24oXFxcIlBJWEkuTUlQTUFQX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNcXFwiKSx0LnNldHRpbmdzLk1JUE1BUF9URVhUVVJFUz1lfX0sU1BSSVRFX0JBVENIX1NJWkU6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJQSVhJLlNQUklURV9CQVRDSF9TSVpFIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRVxcXCIpLHQuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkV9LHNldDpmdW5jdGlvbihlKXtuKFxcXCJQSVhJLlNQUklURV9CQVRDSF9TSVpFIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRVxcXCIpLHQuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkU9ZX19LFNQUklURV9NQVhfVEVYVFVSRVM6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJQSVhJLlNQUklURV9NQVhfVEVYVFVSRVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVNcXFwiKSx0LnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVN9LHNldDpmdW5jdGlvbihlKXtuKFxcXCJQSVhJLlNQUklURV9NQVhfVEVYVFVSRVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVNcXFwiKSx0LnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVM9ZX19LFJFVElOQV9QUkVGSVg6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJQSVhJLlJFVElOQV9QUkVGSVggaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlJFVElOQV9QUkVGSVhcXFwiKSx0LnNldHRpbmdzLlJFVElOQV9QUkVGSVh9LHNldDpmdW5jdGlvbihlKXtuKFxcXCJQSVhJLlJFVElOQV9QUkVGSVggaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlJFVElOQV9QUkVGSVhcXFwiKSx0LnNldHRpbmdzLlJFVElOQV9QUkVGSVg9ZX19LERFRkFVTFRfUkVOREVSX09QVElPTlM6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJQSVhJLkRFRkFVTFRfUkVOREVSX09QVElPTlMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLkRFRkFVTFRfUkVOREVSX09QVElPTlNcXFwiKSx0LnNldHRpbmdzLlJFTkRFUl9PUFRJT05TfX19KTtmb3IodmFyIGg9W3twYXJlbnQ6XFxcIlRSQU5TRk9STV9NT0RFXFxcIix0YXJnZXQ6XFxcIlRSQU5TRk9STV9NT0RFXFxcIn0se3BhcmVudDpcXFwiR0NfTU9ERVNcXFwiLHRhcmdldDpcXFwiR0NfTU9ERVxcXCJ9LHtwYXJlbnQ6XFxcIldSQVBfTU9ERVNcXFwiLHRhcmdldDpcXFwiV1JBUF9NT0RFXFxcIn0se3BhcmVudDpcXFwiU0NBTEVfTU9ERVNcXFwiLHRhcmdldDpcXFwiU0NBTEVfTU9ERVxcXCJ9LHtwYXJlbnQ6XFxcIlBSRUNJU0lPTlxcXCIsdGFyZ2V0OlxcXCJQUkVDSVNJT05fRlJBR01FTlRcXFwifV0sbD0wO2w8aC5sZW5ndGg7bCsrKSFmdW5jdGlvbihlKXt2YXIgcj1oW2VdO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0W3IucGFyZW50XSxcXFwiREVGQVVMVFxcXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJQSVhJLlxcXCIrci5wYXJlbnQrXFxcIi5ERUZBVUxUIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5cXFwiK3IudGFyZ2V0KSx0LnNldHRpbmdzW3IudGFyZ2V0XX0sc2V0OmZ1bmN0aW9uKGUpe24oXFxcIlBJWEkuXFxcIityLnBhcmVudCtcXFwiLkRFRkFVTFQgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlxcXCIrci50YXJnZXQpLHQuc2V0dGluZ3Nbci50YXJnZXRdPWV9fSl9KGwpO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQuc2V0dGluZ3Mse1BSRUNJU0lPTjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcIlBJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlRcXFwiKSx0LnNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVH0sc2V0OmZ1bmN0aW9uKGUpe24oXFxcIlBJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlRcXFwiKSx0LnNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVD1lfX19KSxpLkFuaW1hdGVkU3ByaXRlJiZPYmplY3QuZGVmaW5lUHJvcGVydGllcyhpLHtNb3ZpZUNsaXA6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJUaGUgTW92aWVDbGlwIGNsYXNzIGhhcyBiZWVuIHJlbmFtZWQgdG8gQW5pbWF0ZWRTcHJpdGUsIHBsZWFzZSB1c2UgQW5pbWF0ZWRTcHJpdGUgZnJvbSBub3cgb24uXFxcIiksaS5BbmltYXRlZFNwcml0ZX19fSksaSYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSx7VGV4dHVyZVRyYW5zZm9ybTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcIlRoZSBUZXh0dXJlVHJhbnNmb3JtIGNsYXNzIGhhcyBiZWVuIHJlbmFtZWQgdG8gVGV4dHVyZU1hdHJpeCwgcGxlYXNlIHVzZSBQSVhJLlRleHR1cmVNYXRyaXggZnJvbSBub3cgb24uXFxcIiksdC5UZXh0dXJlTWF0cml4fX19KSx0LkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZT1mdW5jdGlvbih0LGUscil7cmV0dXJuIG4oXFxcImdlbmVyYXRlVGV4dHVyZSBoYXMgbW92ZWQgdG8gdGhlIHJlbmRlcmVyLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZShkaXNwbGF5T2JqZWN0KVxcXCIpLHQuZ2VuZXJhdGVUZXh0dXJlKHRoaXMsZSxyKX0sdC5HcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4oXFxcImdyYXBoaWNzIGdlbmVyYXRlIHRleHR1cmUgaGFzIG1vdmVkIHRvIHRoZSByZW5kZXJlci4gT3IgdG8gcmVuZGVyIGEgZ3JhcGhpY3MgdG8gYSB0ZXh0dXJlIHVzaW5nIGNhbnZhcyBwbGVhc2UgdXNlIGdlbmVyYXRlQ2FudmFzVGV4dHVyZVxcXCIpLHRoaXMuZ2VuZXJhdGVDYW52YXNUZXh0dXJlKHQsZSl9LHQuR3JvdXBEOC5pc1N3YXBXaWR0aEhlaWdodD1mdW5jdGlvbihlKXtyZXR1cm4gbihcXFwiR3JvdXBEOC5pc1N3YXBXaWR0aEhlaWdodCB3YXMgcmVuYW1lZCB0byBHcm91cEQ4LmlzVmVydGljYWxcXFwiKSx0Lkdyb3VwRDguaXNWZXJ0aWNhbChlKX0sdC5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLHIsaSl7dGhpcy5sZWdhY3lSZW5kZXJlci5yZW5kZXIodCx0aGlzLHIsZSwhaSksbihcXFwiUmVuZGVyVGV4dHVyZS5yZW5kZXIgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIucmVuZGVyKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUpXFxcIil9LHQuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0SW1hZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIG4oXFxcIlJlbmRlclRleHR1cmUuZ2V0SW1hZ2UgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh0YXJnZXQpXFxcIiksdGhpcy5sZWdhY3lSZW5kZXJlci5leHRyYWN0LmltYWdlKHQpfSx0LlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldEJhc2U2ND1mdW5jdGlvbih0KXtyZXR1cm4gbihcXFwiUmVuZGVyVGV4dHVyZS5nZXRCYXNlNjQgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5iYXNlNjQodGFyZ2V0KVxcXCIpLHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5iYXNlNjQodCl9LHQuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0Q2FudmFzPWZ1bmN0aW9uKHQpe3JldHVybiBuKFxcXCJSZW5kZXJUZXh0dXJlLmdldENhbnZhcyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5leHRyYWN0LmNhbnZhcyh0YXJnZXQpXFxcIiksdGhpcy5sZWdhY3lSZW5kZXJlci5leHRyYWN0LmNhbnZhcyh0KX0sdC5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5nZXRQaXhlbHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4oXFxcIlJlbmRlclRleHR1cmUuZ2V0UGl4ZWxzIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmV4dHJhY3QucGl4ZWxzKHRhcmdldClcXFwiKSx0aGlzLmxlZ2FjeVJlbmRlcmVyLnBpeGVscyh0KX0sdC5TcHJpdGUucHJvdG90eXBlLnNldFRleHR1cmU9ZnVuY3Rpb24odCl7dGhpcy50ZXh0dXJlPXQsbihcXFwic2V0VGV4dHVyZSBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgdGV4dHVyZSBwcm9wZXJ0eSwgZS5nIDogc3ByaXRlLnRleHR1cmUgPSB0ZXh0dXJlO1xcXCIpfSxpLkJpdG1hcFRleHQmJihpLkJpdG1hcFRleHQucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24odCl7dGhpcy50ZXh0PXQsbihcXFwic2V0VGV4dCBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgdGV4dCBwcm9wZXJ0eSwgZS5nIDogbXlCaXRtYXBUZXh0LnRleHQgPSAnbXkgdGV4dCc7XFxcIil9KSx0LlRleHQucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24odCl7dGhpcy50ZXh0PXQsbihcXFwic2V0VGV4dCBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgdGV4dCBwcm9wZXJ0eSwgZS5nIDogbXlUZXh0LnRleHQgPSAnbXkgdGV4dCc7XFxcIil9LHQuVGV4dC5jYWxjdWxhdGVGb250UHJvcGVydGllcz1mdW5jdGlvbihlKXtyZXR1cm4gbihcXFwiVGV4dC5jYWxjdWxhdGVGb250UHJvcGVydGllcyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcXFwiKSx0LlRleHRNZXRyaWNzLm1lYXN1cmVGb250KGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LlRleHQse2ZvbnRQcm9wZXJ0aWVzQ2FjaGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJUZXh0LmZvbnRQcm9wZXJ0aWVzQ2FjaGUgaXMgZGVwcmVjYXRlZFxcXCIpLHQuVGV4dE1ldHJpY3MuX2ZvbnRzfX0sZm9udFByb3BlcnRpZXNDYW52YXM6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJUZXh0LmZvbnRQcm9wZXJ0aWVzQ2FudmFzIGlzIGRlcHJlY2F0ZWRcXFwiKSx0LlRleHRNZXRyaWNzLl9jYW52YXN9fSxmb250UHJvcGVydGllc0NvbnRleHQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJUZXh0LmZvbnRQcm9wZXJ0aWVzQ29udGV4dCBpcyBkZXByZWNhdGVkXFxcIiksdC5UZXh0TWV0cmljcy5fY29udGV4dH19fSksdC5UZXh0LnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbih0KXt0aGlzLnN0eWxlPXQsbihcXFwic2V0U3R5bGUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHN0eWxlIHByb3BlcnR5LCBlLmcgOiBteVRleHQuc3R5bGUgPSBzdHlsZTtcXFwiKX0sdC5UZXh0LnByb3RvdHlwZS5kZXRlcm1pbmVGb250UHJvcGVydGllcz1mdW5jdGlvbihlKXtyZXR1cm4gbihcXFwiZGV0ZXJtaW5lRm9udFByb3BlcnRpZXMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgbWV0aG9kXFxcIiksdC5UZXh0TWV0cmljcy5tZWFzdXJlRm9udChlKX0sdC5UZXh0LmdldEZvbnRTdHlsZT1mdW5jdGlvbihlKXtyZXR1cm4gbihcXFwiZ2V0Rm9udFN0eWxlIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRleHRTdHlsZS50b0ZvbnRTdHJpbmcoKSBpbnN0ZWFkXFxcIiksZT1lfHx7fSxlIGluc3RhbmNlb2YgdC5UZXh0U3R5bGV8fChlPW5ldyB0LlRleHRTdHlsZShlKSksZS50b0ZvbnRTdHJpbmcoKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXModC5UZXh0U3R5bGUucHJvdG90eXBlLHtmb250OntnZXQ6ZnVuY3Rpb24oKXtuKFxcXCJ0ZXh0IHN0eWxlIHByb3BlcnR5ICdmb250JyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgJ2ZvbnRGYW1pbHknLCAnZm9udFNpemUnLCAnZm9udFN0eWxlJywgJ2ZvbnRWYXJpYW50JyBhbmQgJ2ZvbnRXZWlnaHQnIHByb3BlcnRpZXMgZnJvbSBub3cgb25cXFwiKTt2YXIgdD1cXFwibnVtYmVyXFxcIj09dHlwZW9mIHRoaXMuX2ZvbnRTaXplP3RoaXMuX2ZvbnRTaXplK1xcXCJweFxcXCI6dGhpcy5fZm9udFNpemU7cmV0dXJuIHRoaXMuX2ZvbnRTdHlsZStcXFwiIFxcXCIrdGhpcy5fZm9udFZhcmlhbnQrXFxcIiBcXFwiK3RoaXMuX2ZvbnRXZWlnaHQrXFxcIiBcXFwiK3QrXFxcIiBcXFwiK3RoaXMuX2ZvbnRGYW1pbHl9LHNldDpmdW5jdGlvbih0KXtuKFxcXCJ0ZXh0IHN0eWxlIHByb3BlcnR5ICdmb250JyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgJ2ZvbnRGYW1pbHknLCdmb250U2l6ZScsZm9udFN0eWxlJywnZm9udFZhcmlhbnQnIGFuZCAnZm9udFdlaWdodCcgcHJvcGVydGllcyBmcm9tIG5vdyBvblxcXCIpLHQuaW5kZXhPZihcXFwiaXRhbGljXFxcIik+MT90aGlzLl9mb250U3R5bGU9XFxcIml0YWxpY1xcXCI6dC5pbmRleE9mKFxcXCJvYmxpcXVlXFxcIik+LTE/dGhpcy5fZm9udFN0eWxlPVxcXCJvYmxpcXVlXFxcIjp0aGlzLl9mb250U3R5bGU9XFxcIm5vcm1hbFxcXCIsdC5pbmRleE9mKFxcXCJzbWFsbC1jYXBzXFxcIik+LTE/dGhpcy5fZm9udFZhcmlhbnQ9XFxcInNtYWxsLWNhcHNcXFwiOnRoaXMuX2ZvbnRWYXJpYW50PVxcXCJub3JtYWxcXFwiO3ZhciBlPXQuc3BsaXQoXFxcIiBcXFwiKSxyPS0xO3RoaXMuX2ZvbnRTaXplPTI2O2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7KytpKWlmKGVbaV0ubWF0Y2goLyhweHxwdHxlbXwlKS8pKXtyPWksdGhpcy5fZm9udFNpemU9ZVtpXTticmVha310aGlzLl9mb250V2VpZ2h0PVxcXCJub3JtYWxcXFwiO2Zvcih2YXIgbz0wO288cjsrK28paWYoZVtvXS5tYXRjaCgvKGJvbGR8Ym9sZGVyfGxpZ2h0ZXJ8MTAwfDIwMHwzMDB8NDAwfDUwMHw2MDB8NzAwfDgwMHw5MDApLykpe3RoaXMuX2ZvbnRXZWlnaHQ9ZVtvXTticmVha31pZihyPi0xJiZyPGUubGVuZ3RoLTEpe3RoaXMuX2ZvbnRGYW1pbHk9XFxcIlxcXCI7Zm9yKHZhciBzPXIrMTtzPGUubGVuZ3RoOysrcyl0aGlzLl9mb250RmFtaWx5Kz1lW3NdK1xcXCIgXFxcIjt0aGlzLl9mb250RmFtaWx5PXRoaXMuX2ZvbnRGYW1pbHkuc2xpY2UoMCwtMSl9ZWxzZSB0aGlzLl9mb250RmFtaWx5PVxcXCJBcmlhbFxcXCI7dGhpcy5zdHlsZUlEKyt9fX0pLHQuVGV4dHVyZS5wcm90b3R5cGUuc2V0RnJhbWU9ZnVuY3Rpb24odCl7dGhpcy5mcmFtZT10LG4oXFxcInNldEZyYW1lIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSBmcmFtZSBwcm9wZXJ0eSwgZS5nOiBteVRleHR1cmUuZnJhbWUgPSBmcmFtZTtcXFwiKX0sdC5UZXh0dXJlLmFkZFRleHR1cmVUb0NhY2hlPWZ1bmN0aW9uKGUscil7dC5UZXh0dXJlLmFkZFRvQ2FjaGUoZSxyKSxuKFxcXCJUZXh0dXJlLmFkZFRleHR1cmVUb0NhY2hlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dHVyZS5hZGRUb0NhY2hlIGZyb20gbm93IG9uLlxcXCIpfSx0LlRleHR1cmUucmVtb3ZlVGV4dHVyZUZyb21DYWNoZT1mdW5jdGlvbihlKXtyZXR1cm4gbihcXFwiVGV4dHVyZS5yZW1vdmVUZXh0dXJlRnJvbUNhY2hlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgZnJvbSBub3cgb24uIEJlIGF3YXJlIHRoYXQgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgZG9lcyBub3QgYXV0b21hdGljYWxseSBpdHMgQmFzZVRleHR1cmUgZnJvbSB0aGUgQmFzZVRleHR1cmVDYWNoZS4gRm9yIHRoYXQsIHVzZSBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGVcXFwiKSx0LkJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZShlKSx0LlRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvLHtBYnN0cmFjdEZpbHRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcIkFzdHJhY3RGaWx0ZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBGaWx0ZXIsIHBsZWFzZSB1c2UgUElYSS5GaWx0ZXJcXFwiKSx0LkFic3RyYWN0RmlsdGVyfX0sU3ByaXRlTWFza0ZpbHRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcImZpbHRlcnMuU3ByaXRlTWFza0ZpbHRlciBpcyBhbiB1bmRvY3VtZW50ZWQgYWxpYXMsIHBsZWFzZSB1c2UgU3ByaXRlTWFza0ZpbHRlciBmcm9tIG5vdyBvbi5cXFwiKSx0LlNwcml0ZU1hc2tGaWx0ZXJ9fSxWb2lkRmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiVm9pZEZpbHRlciBoYXMgYmVlbiByZW5hbWVkIHRvIEFscGhhRmlsdGVyLCBwbGVhc2UgdXNlIFBJWEkuZmlsdGVycy5BbHBoYUZpbHRlclxcXCIpLG8uQWxwaGFGaWx0ZXJ9fX0pLHQudXRpbHMudXVpZD1mdW5jdGlvbigpe3JldHVybiBuKFxcXCJ1dGlscy51dWlkKCkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB1dGlscy51aWQoKSBmcm9tIG5vdyBvbi5cXFwiKSx0LnV0aWxzLnVpZCgpfSx0LnV0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwidXRpbHMuY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcygpIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgQ2FudmFzVGludGVyLmNhblVzZU11bHRpcGx5IGZyb20gbm93IG9uXFxcIiksdC5DYW52YXNUaW50ZXIuY2FuVXNlTXVsdGlwbHl9O3ZhciBjPSEwO2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnV0aWxzLFxcXCJfc2FpZEhlbGxvXFxcIix7c2V0OmZ1bmN0aW9uKHQpe3QmJihuKFxcXCJQSVhJLnV0aWxzLl9zYWlkSGVsbG8gaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnV0aWxzLnNraXBIZWxsbygpXFxcIiksdGhpcy5za2lwSGVsbG8oKSksYz10fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY319KSxzLkJhc2VQcmVwYXJlJiYocy5CYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbihcXFwicmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnJlZ2lzdGVyIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5yZWdpc3RlckZpbmRIb29rICYgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnJlZ2lzdGVyVXBsb2FkSG9va1xcXCIpLHQmJnRoaXMucmVnaXN0ZXJGaW5kSG9vayh0KSxlJiZ0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhlKSx0aGlzfSkscy5jYW52YXMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLmNhbnZhcyxcXFwiVVBMT0FEU19QRVJfRlJBTUVcXFwiLHtzZXQ6ZnVuY3Rpb24oKXtuKFxcXCJQSVhJLkNhbnZhc1ByZXBhcmUuVVBMT0FEU19QRVJfRlJBTUUgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHNldCByZW5kZXJlci5wbHVnaW5zLnByZXBhcmUubGltaXRlci5tYXhJdGVtc1BlckZyYW1lIG9uIHlvdXIgcmVuZGVyZXJcXFwiKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcIlBJWEkuQ2FudmFzUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgdXNlIHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyXFxcIiksTmFOfX0pLHMud2ViZ2wmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLndlYmdsLFxcXCJVUExPQURTX1BFUl9GUkFNRVxcXCIse3NldDpmdW5jdGlvbigpe24oXFxcIlBJWEkuV2ViR0xQcmVwYXJlLlVQTE9BRFNfUEVSX0ZSQU1FIGhhcyBiZWVuIHJlbW92ZWQuIFBsZWFzZSBzZXQgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLmxpbWl0ZXIubWF4SXRlbXNQZXJGcmFtZSBvbiB5b3VyIHJlbmRlcmVyXFxcIil9LGdldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJQSVhJLldlYkdMUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgdXNlIHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyXFxcIiksTmFOfX0pLGEuTG9hZGVyKXt2YXIgZD1hLlJlc291cmNlLGY9YS5Mb2FkZXI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZC5wcm90b3R5cGUse2lzSnNvbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcIlRoZSBpc0pzb24gcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5KU09OYC5cXFwiKSx0aGlzLnR5cGU9PT1kLlRZUEUuSlNPTn19LGlzWG1sOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiVGhlIGlzWG1sIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuWE1MYC5cXFwiKSx0aGlzLnR5cGU9PT1kLlRZUEUuWE1MfX0saXNJbWFnZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcIlRoZSBpc0ltYWdlIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0VgLlxcXCIpLHRoaXMudHlwZT09PWQuVFlQRS5JTUFHRX19LGlzQXVkaW86e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJUaGUgaXNBdWRpbyBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLkFVRElPYC5cXFwiKSx0aGlzLnR5cGU9PT1kLlRZUEUuQVVESU99fSxpc1ZpZGVvOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiVGhlIGlzVmlkZW8gcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5WSURFT2AuXFxcIiksdGhpcy50eXBlPT09ZC5UWVBFLlZJREVPfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhmLnByb3RvdHlwZSx7YmVmb3JlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiVGhlIGJlZm9yZSgpIG1ldGhvZCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHByZSgpLlxcXCIpLHRoaXMucHJlfX0sYWZ0ZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBuKFxcXCJUaGUgYWZ0ZXIoKSBtZXRob2QgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB1c2UoKS5cXFwiKSx0aGlzLnVzZX19fSl9dS5pbnRlcmFjdGl2ZVRhcmdldCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHUuaW50ZXJhY3RpdmVUYXJnZXQsXFxcImRlZmF1bHRDdXJzb3JcXFwiLHtzZXQ6ZnVuY3Rpb24odCl7bihcXFwiUHJvcGVydHkgZGVmYXVsdEN1cnNvciBoYXMgYmVlbiByZXBsYWNlZCB3aXRoICdjdXJzb3InLiBcXFwiKSx0aGlzLmN1cnNvcj10fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiUHJvcGVydHkgZGVmYXVsdEN1cnNvciBoYXMgYmVlbiByZXBsYWNlZCB3aXRoICdjdXJzb3InLiBcXFwiKSx0aGlzLmN1cnNvcn19KSx1LkludGVyYWN0aW9uTWFuYWdlciYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LkludGVyYWN0aW9uTWFuYWdlcixcXFwiZGVmYXVsdEN1cnNvclN0eWxlXFxcIix7c2V0OmZ1bmN0aW9uKHQpe24oXFxcIlByb3BlcnR5IGRlZmF1bHRDdXJzb3JTdHlsZSBoYXMgYmVlbiByZXBsYWNlZCB3aXRoICdjdXJzb3JTdHlsZXMuZGVmYXVsdCcuIFxcXCIpLHRoaXMuY3Vyc29yU3R5bGVzLmRlZmF1bHQ9dH0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oXFxcIlByb3BlcnR5IGRlZmF1bHRDdXJzb3JTdHlsZSBoYXMgYmVlbiByZXBsYWNlZCB3aXRoICdjdXJzb3JTdHlsZXMuZGVmYXVsdCcuIFxcXCIpLHRoaXMuY3Vyc29yU3R5bGVzLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHUuSW50ZXJhY3Rpb25NYW5hZ2VyLFxcXCJjdXJyZW50Q3Vyc29yU3R5bGVcXFwiLHtzZXQ6ZnVuY3Rpb24odCl7bihcXFwiUHJvcGVydHkgY3VycmVudEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlbW92ZWQuU2VlIHRoZSBjdXJyZW50Q3Vyc29yTW9kZSBwcm9wZXJ0eSwgd2hpY2ggd29ya3MgZGlmZmVyZW50bHkuXFxcIiksdGhpcy5jdXJyZW50Q3Vyc29yTW9kZT10fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihcXFwiUHJvcGVydHkgY3VycmVudEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlbW92ZWQuU2VlIHRoZSBjdXJyZW50Q3Vyc29yTW9kZSBwcm9wZXJ0eSwgd2hpY2ggd29ya3MgZGlmZmVyZW50bHkuXFxcIiksdGhpcy5jdXJyZW50Q3Vyc29yTW9kZX19KSl9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1pO3ZhciBvPXt9fSx7fV0sMTMyOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcXFwiLi4vLi4vY29yZVxcXCIpLG89ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShpKSxzPW5ldyBvLlJlY3RhbmdsZSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtuKHRoaXMsdCksdGhpcy5yZW5kZXJlcj1lLGUuZXh0cmFjdD10aGlzfXJldHVybiB0LnByb3RvdHlwZS5pbWFnZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgSW1hZ2U7cmV0dXJuIGUuc3JjPXRoaXMuYmFzZTY0KHQpLGV9LHQucHJvdG90eXBlLmJhc2U2ND1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jYW52YXModCkudG9EYXRhVVJMKCl9LHQucHJvdG90eXBlLmNhbnZhcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlbmRlcmVyLHI9dm9pZCAwLG49dm9pZCAwLGk9dm9pZCAwLGE9dm9pZCAwO3QmJihhPXQgaW5zdGFuY2VvZiBvLlJlbmRlclRleHR1cmU/dDplLmdlbmVyYXRlVGV4dHVyZSh0KSksYT8ocj1hLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQuY29udGV4dCxuPWEuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5yZXNvbHV0aW9uLGk9YS5mcmFtZSk6KHI9ZS5yb290Q29udGV4dCxuPWUucmVzb2x1dGlvbixpPXMsaS53aWR0aD10aGlzLnJlbmRlcmVyLndpZHRoLGkuaGVpZ2h0PXRoaXMucmVuZGVyZXIuaGVpZ2h0KTt2YXIgdT1pLndpZHRoKm4saD1pLmhlaWdodCpuLGw9bmV3IG8uQ2FudmFzUmVuZGVyVGFyZ2V0KHUsaCwxKSxjPXIuZ2V0SW1hZ2VEYXRhKGkueCpuLGkueSpuLHUsaCk7cmV0dXJuIGwuY29udGV4dC5wdXRJbWFnZURhdGEoYywwLDApLGwuY2FudmFzfSx0LnByb3RvdHlwZS5waXhlbHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlcixyPXZvaWQgMCxuPXZvaWQgMCxpPXZvaWQgMCxhPXZvaWQgMDtyZXR1cm4gdCYmKGE9dCBpbnN0YW5jZW9mIG8uUmVuZGVyVGV4dHVyZT90OmUuZ2VuZXJhdGVUZXh0dXJlKHQpKSxhPyhyPWEuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jb250ZXh0LG49YS5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LnJlc29sdXRpb24saT1hLmZyYW1lKToocj1lLnJvb3RDb250ZXh0LGk9cyxpLndpZHRoPWUud2lkdGgsaS5oZWlnaHQ9ZS5oZWlnaHQpLHIuZ2V0SW1hZ2VEYXRhKDAsMCxpLndpZHRoKm4saS5oZWlnaHQqbikuZGF0YX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIuZXh0cmFjdD1udWxsLHRoaXMucmVuZGVyZXI9bnVsbH0sdH0oKTtyLmRlZmF1bHQ9YSxvLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKFxcXCJleHRyYWN0XFxcIixhKX0se1xcXCIuLi8uLi9jb3JlXFxcIjo2NX1dLDEzMzpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcXFwiLi93ZWJnbC9XZWJHTEV4dHJhY3RcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwid2ViZ2xcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGkpLmRlZmF1bHR9fSk7dmFyIG89dChcXFwiLi9jYW52YXMvQ2FudmFzRXh0cmFjdFxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJjYW52YXNcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKG8pLmRlZmF1bHR9fSl9LHtcXFwiLi9jYW52YXMvQ2FudmFzRXh0cmFjdFxcXCI6MTMyLFxcXCIuL3dlYmdsL1dlYkdMRXh0cmFjdFxcXCI6MTM0fV0sMTM0OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcXFwiLi4vLi4vY29yZVxcXCIpLG89ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShpKSxzPW5ldyBvLlJlY3RhbmdsZSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtuKHRoaXMsdCksdGhpcy5yZW5kZXJlcj1lLGUuZXh0cmFjdD10aGlzfXJldHVybiB0LnByb3RvdHlwZS5pbWFnZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgSW1hZ2U7cmV0dXJuIGUuc3JjPXRoaXMuYmFzZTY0KHQpLGV9LHQucHJvdG90eXBlLmJhc2U2ND1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jYW52YXModCkudG9EYXRhVVJMKCl9LHQucHJvdG90eXBlLmNhbnZhcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlbmRlcmVyLHI9dm9pZCAwLG49dm9pZCAwLGk9dm9pZCAwLGE9ITEsdT12b2lkIDAsaD0hMTt0JiYodCBpbnN0YW5jZW9mIG8uUmVuZGVyVGV4dHVyZT91PXQ6KHU9dGhpcy5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodCksaD0hMCkpLHU/KHI9dS5iYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdLG49ci5yZXNvbHV0aW9uLGk9dS5mcmFtZSxhPSExKToocj10aGlzLnJlbmRlcmVyLnJvb3RSZW5kZXJUYXJnZXQsbj1yLnJlc29sdXRpb24sYT0hMCxpPXMsaS53aWR0aD1yLnNpemUud2lkdGgsaS5oZWlnaHQ9ci5zaXplLmhlaWdodCk7dmFyIGw9aS53aWR0aCpuLGM9aS5oZWlnaHQqbixkPW5ldyBvLkNhbnZhc1JlbmRlclRhcmdldChsLGMsMSk7aWYocil7ZS5iaW5kUmVuZGVyVGFyZ2V0KHIpO3ZhciBmPW5ldyBVaW50OEFycmF5KDQqbCpjKSxwPWUuZ2w7cC5yZWFkUGl4ZWxzKGkueCpuLGkueSpuLGwsYyxwLlJHQkEscC5VTlNJR05FRF9CWVRFLGYpO3ZhciB2PWQuY29udGV4dC5nZXRJbWFnZURhdGEoMCwwLGwsYyk7di5kYXRhLnNldChmKSxkLmNvbnRleHQucHV0SW1hZ2VEYXRhKHYsMCwwKSxhJiYoZC5jb250ZXh0LnNjYWxlKDEsLTEpLGQuY29udGV4dC5kcmF3SW1hZ2UoZC5jYW52YXMsMCwtYykpfXJldHVybiBoJiZ1LmRlc3Ryb3koITApLGQuY2FudmFzfSx0LnByb3RvdHlwZS5waXhlbHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlcixyPXZvaWQgMCxuPXZvaWQgMCxpPXZvaWQgMCxhPXZvaWQgMCx1PSExO3QmJih0IGluc3RhbmNlb2Ygby5SZW5kZXJUZXh0dXJlP2E9dDooYT10aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0KSx1PSEwKSksYT8ocj1hLmJhc2VUZXh0dXJlLl9nbFJlbmRlclRhcmdldHNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0sbj1yLnJlc29sdXRpb24saT1hLmZyYW1lKToocj10aGlzLnJlbmRlcmVyLnJvb3RSZW5kZXJUYXJnZXQsbj1yLnJlc29sdXRpb24saT1zLGkud2lkdGg9ci5zaXplLndpZHRoLGkuaGVpZ2h0PXIuc2l6ZS5oZWlnaHQpO3ZhciBoPWkud2lkdGgqbixsPWkuaGVpZ2h0Km4sYz1uZXcgVWludDhBcnJheSg0KmgqbCk7aWYocil7ZS5iaW5kUmVuZGVyVGFyZ2V0KHIpO3ZhciBkPWUuZ2w7ZC5yZWFkUGl4ZWxzKGkueCpuLGkueSpuLGgsbCxkLlJHQkEsZC5VTlNJR05FRF9CWVRFLGMpfXJldHVybiB1JiZhLmRlc3Ryb3koITApLGN9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLmV4dHJhY3Q9bnVsbCx0aGlzLnJlbmRlcmVyPW51bGx9LHR9KCk7ci5kZWZhdWx0PWEsby5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKFxcXCJleHRyYWN0XFxcIixhKX0se1xcXCIuLi8uLi9jb3JlXFxcIjo2NX1dLDEzNTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxhPXQoXFxcIi4uL2NvcmVcXFwiKSx1PWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0oYSksaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbyl7bih0aGlzLGUpO3ZhciBzPWkodGhpcyx0LmNhbGwodGhpcyxyWzBdaW5zdGFuY2VvZiB1LlRleHR1cmU/clswXTpyWzBdLnRleHR1cmUpKTtyZXR1cm4gcy5fdGV4dHVyZXM9bnVsbCxzLl9kdXJhdGlvbnM9bnVsbCxzLnRleHR1cmVzPXIscy5fYXV0b1VwZGF0ZT0hMSE9PW8scy5hbmltYXRpb25TcGVlZD0xLHMubG9vcD0hMCxzLnVwZGF0ZUFuY2hvcj0hMSxzLm9uQ29tcGxldGU9bnVsbCxzLm9uRnJhbWVDaGFuZ2U9bnVsbCxzLm9uTG9vcD1udWxsLHMuX2N1cnJlbnRUaW1lPTAscy5wbGF5aW5nPSExLHN9cmV0dXJuIG8oZSx0KSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5wbGF5aW5nJiYodGhpcy5wbGF5aW5nPSExLHRoaXMuX2F1dG9VcGRhdGUmJnUudGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsdGhpcykpfSxlLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7dGhpcy5wbGF5aW5nfHwodGhpcy5wbGF5aW5nPSEwLHRoaXMuX2F1dG9VcGRhdGUmJnUudGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsdGhpcyx1LlVQREFURV9QUklPUklUWS5ISUdIKSl9LGUucHJvdG90eXBlLmdvdG9BbmRTdG9wPWZ1bmN0aW9uKHQpe3RoaXMuc3RvcCgpO3ZhciBlPXRoaXMuY3VycmVudEZyYW1lO3RoaXMuX2N1cnJlbnRUaW1lPXQsZSE9PXRoaXMuY3VycmVudEZyYW1lJiZ0aGlzLnVwZGF0ZVRleHR1cmUoKX0sZS5wcm90b3R5cGUuZ290b0FuZFBsYXk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50RnJhbWU7dGhpcy5fY3VycmVudFRpbWU9dCxlIT09dGhpcy5jdXJyZW50RnJhbWUmJnRoaXMudXBkYXRlVGV4dHVyZSgpLHRoaXMucGxheSgpfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hbmltYXRpb25TcGVlZCp0LHI9dGhpcy5jdXJyZW50RnJhbWU7aWYobnVsbCE9PXRoaXMuX2R1cmF0aW9ucyl7dmFyIG49dGhpcy5fY3VycmVudFRpbWUlMSp0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO2ZvcihuKz1lLzYwKjFlMztuPDA7KXRoaXMuX2N1cnJlbnRUaW1lLS0sbis9dGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTt2YXIgaT1NYXRoLnNpZ24odGhpcy5hbmltYXRpb25TcGVlZCp0KTtmb3IodGhpcy5fY3VycmVudFRpbWU9TWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSk7bj49dGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTspbi09dGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSppLHRoaXMuX2N1cnJlbnRUaW1lKz1pO3RoaXMuX2N1cnJlbnRUaW1lKz1uL3RoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV19ZWxzZSB0aGlzLl9jdXJyZW50VGltZSs9ZTt0aGlzLl9jdXJyZW50VGltZTwwJiYhdGhpcy5sb29wPyh0aGlzLmdvdG9BbmRTdG9wKDApLHRoaXMub25Db21wbGV0ZSYmdGhpcy5vbkNvbXBsZXRlKCkpOnRoaXMuX2N1cnJlbnRUaW1lPj10aGlzLl90ZXh0dXJlcy5sZW5ndGgmJiF0aGlzLmxvb3A/KHRoaXMuZ290b0FuZFN0b3AodGhpcy5fdGV4dHVyZXMubGVuZ3RoLTEpLHRoaXMub25Db21wbGV0ZSYmdGhpcy5vbkNvbXBsZXRlKCkpOnIhPT10aGlzLmN1cnJlbnRGcmFtZSYmKHRoaXMubG9vcCYmdGhpcy5vbkxvb3AmJih0aGlzLmFuaW1hdGlvblNwZWVkPjAmJnRoaXMuY3VycmVudEZyYW1lPHI/dGhpcy5vbkxvb3AoKTp0aGlzLmFuaW1hdGlvblNwZWVkPDAmJnRoaXMuY3VycmVudEZyYW1lPnImJnRoaXMub25Mb29wKCkpLHRoaXMudXBkYXRlVGV4dHVyZSgpKX0sZS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZT1mdW5jdGlvbigpe3RoaXMuX3RleHR1cmU9dGhpcy5fdGV4dHVyZXNbdGhpcy5jdXJyZW50RnJhbWVdLHRoaXMuX3RleHR1cmVJRD0tMSx0aGlzLmNhY2hlZFRpbnQ9MTY3NzcyMTUsdGhpcy51cGRhdGVBbmNob3ImJnRoaXMuX2FuY2hvci5jb3B5KHRoaXMuX3RleHR1cmUuZGVmYXVsdEFuY2hvciksdGhpcy5vbkZyYW1lQ2hhbmdlJiZ0aGlzLm9uRnJhbWVDaGFuZ2UodGhpcy5jdXJyZW50RnJhbWUpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKGUpe3RoaXMuc3RvcCgpLHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLGUpfSxlLmZyb21GcmFtZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciByPVtdLG49MDtuPHQubGVuZ3RoOysrbilyLnB1c2godS5UZXh0dXJlLmZyb21GcmFtZSh0W25dKSk7cmV0dXJuIG5ldyBlKHIpfSxlLmZyb21JbWFnZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciByPVtdLG49MDtuPHQubGVuZ3RoOysrbilyLnB1c2godS5UZXh0dXJlLmZyb21JbWFnZSh0W25dKSk7cmV0dXJuIG5ldyBlKHIpfSxzKGUsW3trZXk6XFxcInRvdGFsRnJhbWVzXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXMubGVuZ3RofX0se2tleTpcXFwidGV4dHVyZXNcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlc30sc2V0OmZ1bmN0aW9uKHQpe2lmKHRbMF1pbnN0YW5jZW9mIHUuVGV4dHVyZSl0aGlzLl90ZXh0dXJlcz10LHRoaXMuX2R1cmF0aW9ucz1udWxsO2Vsc2V7dGhpcy5fdGV4dHVyZXM9W10sdGhpcy5fZHVyYXRpb25zPVtdO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRoaXMuX3RleHR1cmVzLnB1c2godFtlXS50ZXh0dXJlKSx0aGlzLl9kdXJhdGlvbnMucHVzaCh0W2VdLnRpbWUpfXRoaXMuZ290b0FuZFN0b3AoMCksdGhpcy51cGRhdGVUZXh0dXJlKCl9fSx7a2V5OlxcXCJjdXJyZW50RnJhbWVcXFwiLGdldDpmdW5jdGlvbigpe3ZhciB0PU1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpJXRoaXMuX3RleHR1cmVzLmxlbmd0aDtyZXR1cm4gdDwwJiYodCs9dGhpcy5fdGV4dHVyZXMubGVuZ3RoKSx0fX1dKSxlfSh1LlNwcml0ZSk7ci5kZWZhdWx0PWh9LHtcXFwiLi4vY29yZVxcXCI6NjV9XSwxMzY6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXFxcInZhbHVlXFxcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksdT10KFxcXCIuLi9jb3JlXFxcIiksaD1mdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9KHUpLGw9dChcXFwiLi4vY29yZS9tYXRoL09ic2VydmFibGVQb2ludFxcXCIpLGM9bihsKSxkPXQoXFxcIi4uL2NvcmUvdXRpbHNcXFwiKSxmPXQoXFxcIi4uL2NvcmUvc2V0dGluZ3NcXFwiKSxwPW4oZiksdj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpKHRoaXMsZSk7dmFyIHM9byh0aGlzLHQuY2FsbCh0aGlzKSk7cmV0dXJuIHMuX3RleHRXaWR0aD0wLHMuX3RleHRIZWlnaHQ9MCxzLl9nbHlwaHM9W10scy5fZm9udD17dGludDp2b2lkIDAhPT1uLnRpbnQ/bi50aW50OjE2Nzc3MjE1LGFsaWduOm4uYWxpZ258fFxcXCJsZWZ0XFxcIixuYW1lOm51bGwsc2l6ZTowfSxzLmZvbnQ9bi5mb250LHMuX3RleHQ9cixzLl9tYXhXaWR0aD0wLHMuX21heExpbmVIZWlnaHQ9MCxzLl9sZXR0ZXJTcGFjaW5nPTAscy5fYW5jaG9yPW5ldyBjLmRlZmF1bHQoZnVuY3Rpb24oKXtzLmRpcnR5PSEwfSxzLDAsMCkscy5kaXJ0eT0hMSxzLnVwZGF0ZVRleHQoKSxzfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUudXBkYXRlVGV4dD1mdW5jdGlvbigpe2Zvcih2YXIgdD1lLmZvbnRzW3RoaXMuX2ZvbnQubmFtZV0scj10aGlzLl9mb250LnNpemUvdC5zaXplLG49bmV3IGguUG9pbnQsaT1bXSxvPVtdLHM9dGhpcy50ZXh0LnJlcGxhY2UoLyg/OlxcXFxyXFxcXG58XFxcXHIpL2csXFxcIlxcXFxuXFxcIiksYT1zLmxlbmd0aCx1PXRoaXMuX21heFdpZHRoKnQuc2l6ZS90aGlzLl9mb250LnNpemUsbD1udWxsLGM9MCxkPTAsZj0wLHA9LTEsdj0wLGc9MCx5PTAsbT0wO208YTttKyspe3ZhciBfPXMuY2hhckNvZGVBdChtKSxiPXMuY2hhckF0KG0pO2lmKC8oPzpcXFxccykvLnRlc3QoYikmJihwPW0sdj1jKSxcXFwiXFxcXHJcXFwiIT09YiYmXFxcIlxcXFxuXFxcIiE9PWIpe3ZhciB4PXQuY2hhcnNbX107eCYmKGwmJngua2VybmluZ1tsXSYmKG4ueCs9eC5rZXJuaW5nW2xdKSxpLnB1c2goe3RleHR1cmU6eC50ZXh0dXJlLGxpbmU6ZixjaGFyQ29kZTpfLHBvc2l0aW9uOm5ldyBoLlBvaW50KG4ueCt4LnhPZmZzZXQrdGhpcy5fbGV0dGVyU3BhY2luZy8yLG4ueSt4LnlPZmZzZXQpfSksbi54Kz14LnhBZHZhbmNlK3RoaXMuX2xldHRlclNwYWNpbmcsYz1uLngseT1NYXRoLm1heCh5LHgueU9mZnNldCt4LnRleHR1cmUuaGVpZ2h0KSxsPV8sLTEhPT1wJiZ1PjAmJm4ueD51JiYoKytnLGgudXRpbHMucmVtb3ZlSXRlbXMoaSwxK3AtZywxK20tcCksbT1wLHA9LTEsby5wdXNoKHYpLGQ9TWF0aC5tYXgoZCx2KSxmKyssbi54PTAsbi55Kz10LmxpbmVIZWlnaHQsbD1udWxsKSl9ZWxzZSBvLnB1c2goYyksZD1NYXRoLm1heChkLGMpLCsrZiwrK2csbi54PTAsbi55Kz10LmxpbmVIZWlnaHQsbD1udWxsfXZhciBUPXMuY2hhckF0KHMubGVuZ3RoLTEpO1xcXCJcXFxcclxcXCIhPT1UJiZcXFwiXFxcXG5cXFwiIT09VCYmKC8oPzpcXFxccykvLnRlc3QoVCkmJihjPXYpLG8ucHVzaChjKSxkPU1hdGgubWF4KGQsYykpO2Zvcih2YXIgdz1bXSxFPTA7RTw9ZjtFKyspe3ZhciBTPTA7XFxcInJpZ2h0XFxcIj09PXRoaXMuX2ZvbnQuYWxpZ24/Uz1kLW9bRV06XFxcImNlbnRlclxcXCI9PT10aGlzLl9mb250LmFsaWduJiYoUz0oZC1vW0VdKS8yKSx3LnB1c2goUyl9Zm9yKHZhciBPPWkubGVuZ3RoLE09dGhpcy50aW50LFA9MDtQPE87UCsrKXt2YXIgQz10aGlzLl9nbHlwaHNbUF07Qz9DLnRleHR1cmU9aVtQXS50ZXh0dXJlOihDPW5ldyBoLlNwcml0ZShpW1BdLnRleHR1cmUpLHRoaXMuX2dseXBocy5wdXNoKEMpKSxDLnBvc2l0aW9uLng9KGlbUF0ucG9zaXRpb24ueCt3W2lbUF0ubGluZV0pKnIsQy5wb3NpdGlvbi55PWlbUF0ucG9zaXRpb24ueSpyLEMuc2NhbGUueD1DLnNjYWxlLnk9cixDLnRpbnQ9TSxDLnBhcmVudHx8dGhpcy5hZGRDaGlsZChDKX1mb3IodmFyIFI9TztSPHRoaXMuX2dseXBocy5sZW5ndGg7KytSKXRoaXMucmVtb3ZlQ2hpbGQodGhpcy5fZ2x5cGhzW1JdKTtpZih0aGlzLl90ZXh0V2lkdGg9ZCpyLHRoaXMuX3RleHRIZWlnaHQ9KG4ueSt0LmxpbmVIZWlnaHQpKnIsMCE9PXRoaXMuYW5jaG9yLnh8fDAhPT10aGlzLmFuY2hvci55KWZvcih2YXIgQT0wO0E8TztBKyspdGhpcy5fZ2x5cGhzW0FdLngtPXRoaXMuX3RleHRXaWR0aCp0aGlzLmFuY2hvci54LHRoaXMuX2dseXBoc1tBXS55LT10aGlzLl90ZXh0SGVpZ2h0KnRoaXMuYW5jaG9yLnk7dGhpcy5fbWF4TGluZUhlaWdodD15KnJ9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe3RoaXMudmFsaWRhdGUoKSx0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpfSxlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbGlkYXRlKCksdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUudmFsaWRhdGU9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5JiYodGhpcy51cGRhdGVUZXh0KCksdGhpcy5kaXJ0eT0hMSl9LGUucmVnaXN0ZXJGb250PWZ1bmN0aW9uKHQscil7dmFyIG49e30saT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJpbmZvXFxcIilbMF0sbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJjb21tb25cXFwiKVswXSxzPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXFxcInBhZ2VcXFwiKSxhPSgwLGQuZ2V0UmVzb2x1dGlvbk9mVXJsKShzWzBdLmdldEF0dHJpYnV0ZShcXFwiZmlsZVxcXCIpLHAuZGVmYXVsdC5SRVNPTFVUSU9OKSx1PXt9O24uZm9udD1pLmdldEF0dHJpYnV0ZShcXFwiZmFjZVxcXCIpLG4uc2l6ZT1wYXJzZUludChpLmdldEF0dHJpYnV0ZShcXFwic2l6ZVxcXCIpLDEwKSxuLmxpbmVIZWlnaHQ9cGFyc2VJbnQoby5nZXRBdHRyaWJ1dGUoXFxcImxpbmVIZWlnaHRcXFwiKSwxMCkvYSxuLmNoYXJzPXt9LHIgaW5zdGFuY2VvZiBoLlRleHR1cmUmJihyPVtyXSk7Zm9yKHZhciBsPTA7bDxzLmxlbmd0aDtsKyspe3ZhciBjPXNbbF0uZ2V0QXR0cmlidXRlKFxcXCJpZFxcXCIpLGY9c1tsXS5nZXRBdHRyaWJ1dGUoXFxcImZpbGVcXFwiKTt1W2NdPXIgaW5zdGFuY2VvZiBBcnJheT9yW2xdOnJbZl19Zm9yKHZhciB2PXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXFxcImNoYXJcXFwiKSxnPTA7Zzx2Lmxlbmd0aDtnKyspe3ZhciB5PXZbZ10sbT1wYXJzZUludCh5LmdldEF0dHJpYnV0ZShcXFwiaWRcXFwiKSwxMCksXz15LmdldEF0dHJpYnV0ZShcXFwicGFnZVxcXCIpfHwwLGI9bmV3IGguUmVjdGFuZ2xlKHBhcnNlSW50KHkuZ2V0QXR0cmlidXRlKFxcXCJ4XFxcIiksMTApL2ErdVtfXS5mcmFtZS54L2EscGFyc2VJbnQoeS5nZXRBdHRyaWJ1dGUoXFxcInlcXFwiKSwxMCkvYSt1W19dLmZyYW1lLnkvYSxwYXJzZUludCh5LmdldEF0dHJpYnV0ZShcXFwid2lkdGhcXFwiKSwxMCkvYSxwYXJzZUludCh5LmdldEF0dHJpYnV0ZShcXFwiaGVpZ2h0XFxcIiksMTApL2EpO24uY2hhcnNbbV09e3hPZmZzZXQ6cGFyc2VJbnQoeS5nZXRBdHRyaWJ1dGUoXFxcInhvZmZzZXRcXFwiKSwxMCkvYSx5T2Zmc2V0OnBhcnNlSW50KHkuZ2V0QXR0cmlidXRlKFxcXCJ5b2Zmc2V0XFxcIiksMTApL2EseEFkdmFuY2U6cGFyc2VJbnQoeS5nZXRBdHRyaWJ1dGUoXFxcInhhZHZhbmNlXFxcIiksMTApL2Esa2VybmluZzp7fSx0ZXh0dXJlOm5ldyBoLlRleHR1cmUodVtfXS5iYXNlVGV4dHVyZSxiKSxwYWdlOl99fWZvcih2YXIgeD10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJrZXJuaW5nXFxcIiksVD0wO1Q8eC5sZW5ndGg7VCsrKXt2YXIgdz14W1RdLEU9cGFyc2VJbnQody5nZXRBdHRyaWJ1dGUoXFxcImZpcnN0XFxcIiksMTApL2EsUz1wYXJzZUludCh3LmdldEF0dHJpYnV0ZShcXFwic2Vjb25kXFxcIiksMTApL2EsTz1wYXJzZUludCh3LmdldEF0dHJpYnV0ZShcXFwiYW1vdW50XFxcIiksMTApL2E7bi5jaGFyc1tTXSYmKG4uY2hhcnNbU10ua2VybmluZ1tFXT1PKX1yZXR1cm4gZS5mb250c1tuLmZvbnRdPW4sbn0sYShlLFt7a2V5OlxcXCJ0aW50XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udC50aW50fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZm9udC50aW50PVxcXCJudW1iZXJcXFwiPT10eXBlb2YgdCYmdD49MD90OjE2Nzc3MjE1LHRoaXMuZGlydHk9ITB9fSx7a2V5OlxcXCJhbGlnblxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvbnQuYWxpZ259LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mb250LmFsaWduPXR8fFxcXCJsZWZ0XFxcIix0aGlzLmRpcnR5PSEwfX0se2tleTpcXFwiYW5jaG9yXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5jaG9yfSxzZXQ6ZnVuY3Rpb24odCl7XFxcIm51bWJlclxcXCI9PXR5cGVvZiB0P3RoaXMuX2FuY2hvci5zZXQodCk6dGhpcy5fYW5jaG9yLmNvcHkodCl9fSx7a2V5OlxcXCJmb250XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udH0sc2V0OmZ1bmN0aW9uKHQpe3QmJihcXFwic3RyaW5nXFxcIj09dHlwZW9mIHQ/KHQ9dC5zcGxpdChcXFwiIFxcXCIpLHRoaXMuX2ZvbnQubmFtZT0xPT09dC5sZW5ndGg/dFswXTp0LnNsaWNlKDEpLmpvaW4oXFxcIiBcXFwiKSx0aGlzLl9mb250LnNpemU9dC5sZW5ndGg+PTI/cGFyc2VJbnQodFswXSwxMCk6ZS5mb250c1t0aGlzLl9mb250Lm5hbWVdLnNpemUpOih0aGlzLl9mb250Lm5hbWU9dC5uYW1lLHRoaXMuX2ZvbnQuc2l6ZT1cXFwibnVtYmVyXFxcIj09dHlwZW9mIHQuc2l6ZT90LnNpemU6cGFyc2VJbnQodC5zaXplLDEwKSksdGhpcy5kaXJ0eT0hMCl9fSx7a2V5OlxcXCJ0ZXh0XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dH0sc2V0OmZ1bmN0aW9uKHQpe3Q9dC50b1N0cmluZygpfHxcXFwiIFxcXCIsdGhpcy5fdGV4dCE9PXQmJih0aGlzLl90ZXh0PXQsdGhpcy5kaXJ0eT0hMCl9fSx7a2V5OlxcXCJtYXhXaWR0aFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heFdpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbWF4V2lkdGghPT10JiYodGhpcy5fbWF4V2lkdGg9dCx0aGlzLmRpcnR5PSEwKX19LHtrZXk6XFxcIm1heExpbmVIZWlnaHRcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbGlkYXRlKCksdGhpcy5fbWF4TGluZUhlaWdodH19LHtrZXk6XFxcInRleHRXaWR0aFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsaWRhdGUoKSx0aGlzLl90ZXh0V2lkdGh9fSx7a2V5OlxcXCJsZXR0ZXJTcGFjaW5nXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xldHRlclNwYWNpbmchPT10JiYodGhpcy5fbGV0dGVyU3BhY2luZz10LHRoaXMuZGlydHk9ITApfX0se2tleTpcXFwidGV4dEhlaWdodFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsaWRhdGUoKSx0aGlzLl90ZXh0SGVpZ2h0fX1dKSxlfShoLkNvbnRhaW5lcik7ci5kZWZhdWx0PXYsdi5mb250cz17fX0se1xcXCIuLi9jb3JlXFxcIjo2NSxcXFwiLi4vY29yZS9tYXRoL09ic2VydmFibGVQb2ludFxcXCI6NjgsXFxcIi4uL2NvcmUvc2V0dGluZ3NcXFwiOjEwMSxcXFwiLi4vY29yZS91dGlsc1xcXCI6MTI1fV0sMTM3OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGE9dChcXFwiLi4vY29yZVxcXCIpLHU9ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShhKSxoPXQoXFxcIi4uL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyXFxcIiksbD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KGgpLGM9bmV3IHUuUG9pbnQsZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxMDAscz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MTAwO24odGhpcyxlKTt2YXIgYT1pKHRoaXMsdC5jYWxsKHRoaXMscikpO3JldHVybiBhLnRpbGVUcmFuc2Zvcm09bmV3IHUuVHJhbnNmb3JtU3RhdGljLGEuX3dpZHRoPW8sYS5faGVpZ2h0PXMsYS5fY2FudmFzUGF0dGVybj1udWxsLGEudXZUcmFuc2Zvcm09ci50cmFuc2Zvcm18fG5ldyB1LlRleHR1cmVNYXRyaXgociksYS5wbHVnaW5OYW1lPVxcXCJ0aWxpbmdTcHJpdGVcXFwiLGEudXZSZXNwZWN0QW5jaG9yPSExLGF9cmV0dXJuIG8oZSx0KSxlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy51dlRyYW5zZm9ybSYmKHRoaXMudXZUcmFuc2Zvcm0udGV4dHVyZT10aGlzLl90ZXh0dXJlKSx0aGlzLmNhY2hlZFRpbnQ9MTY3NzcyMTV9LGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90ZXh0dXJlO2UmJmUudmFsaWQmJih0aGlzLnRpbGVUcmFuc2Zvcm0udXBkYXRlTG9jYWxUcmFuc2Zvcm0oKSx0aGlzLnV2VHJhbnNmb3JtLnVwZGF0ZSgpLHQuc2V0T2JqZWN0UmVuZGVyZXIodC5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pLHQucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKSl9LGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGV4dHVyZTtpZihlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCl7dmFyIHI9dC5jb250ZXh0LG49dGhpcy53b3JsZFRyYW5zZm9ybSxpPXQucmVzb2x1dGlvbixvPTI9PT1lLnJvdGF0ZSxzPWUuYmFzZVRleHR1cmUsYT1zLnJlc29sdXRpb24saD10aGlzLnRpbGVQb3NpdGlvbi54L3RoaXMudGlsZVNjYWxlLnglZS5vcmlnLndpZHRoKmEsYz10aGlzLnRpbGVQb3NpdGlvbi55L3RoaXMudGlsZVNjYWxlLnklZS5vcmlnLmhlaWdodCphO2lmKHRoaXMuX3RleHR1cmVJRCE9PXRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEfHx0aGlzLmNhY2hlZFRpbnQhPT10aGlzLnRpbnQpe3RoaXMuX3RleHR1cmVJRD10aGlzLl90ZXh0dXJlLl91cGRhdGVJRDt2YXIgZD1uZXcgdS5DYW52YXNSZW5kZXJUYXJnZXQoZS5vcmlnLndpZHRoLGUub3JpZy5oZWlnaHQsYSk7aWYoMTY3NzcyMTUhPT10aGlzLnRpbnQpdGhpcy50aW50ZWRUZXh0dXJlPWwuZGVmYXVsdC5nZXRUaW50ZWRUZXh0dXJlKHRoaXMsdGhpcy50aW50KSxkLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMudGludGVkVGV4dHVyZSwwLDApO2Vsc2V7dmFyIGY9ZS5fZnJhbWUueCphLHA9ZS5fZnJhbWUueSphLHY9ZS5fZnJhbWUud2lkdGgqYSxnPWUuX2ZyYW1lLmhlaWdodCphLHk9KGUudHJpbT9lLnRyaW0ud2lkdGg6ZS5vcmlnLndpZHRoKSphLG09KGUudHJpbT9lLnRyaW0uaGVpZ2h0OmUub3JpZy5oZWlnaHQpKmEsXz0oZS50cmltP2UudHJpbS54OjApKmEsYj0oZS50cmltP2UudHJpbS55OjApKmE7bz8oZC5jb250ZXh0LnJvdGF0ZSgtTWF0aC5QSS8yKSxkLmNvbnRleHQudHJhbnNsYXRlKC1tLDApLGQuY29udGV4dC5kcmF3SW1hZ2Uocy5zb3VyY2UsZixwLHYsZywtYixfLG0seSkpOmQuY29udGV4dC5kcmF3SW1hZ2Uocy5zb3VyY2UsZixwLHYsZyxfLGIseSxtKX10aGlzLmNhY2hlZFRpbnQ9dGhpcy50aW50LHRoaXMuX2NhbnZhc1BhdHRlcm49ZC5jb250ZXh0LmNyZWF0ZVBhdHRlcm4oZC5jYW52YXMsXFxcInJlcGVhdFxcXCIpfXIuZ2xvYmFsQWxwaGE9dGhpcy53b3JsZEFscGhhLHIuc2V0VHJhbnNmb3JtKG4uYSppLG4uYippLG4uYyppLG4uZCppLG4udHgqaSxuLnR5KmkpLHQuc2V0QmxlbmRNb2RlKHRoaXMuYmxlbmRNb2RlKSxyLmZpbGxTdHlsZT10aGlzLl9jYW52YXNQYXR0ZXJuLHIuc2NhbGUodGhpcy50aWxlU2NhbGUueC9hLHRoaXMudGlsZVNjYWxlLnkvYSk7dmFyIHg9dGhpcy5hbmNob3IueCotdGhpcy5fd2lkdGgqYSxUPXRoaXMuYW5jaG9yLnkqLXRoaXMuX2hlaWdodCphO3RoaXMudXZSZXNwZWN0QW5jaG9yPyhyLnRyYW5zbGF0ZShoLGMpLHIuZmlsbFJlY3QoLWgreCwtYytULHRoaXMuX3dpZHRoL3RoaXMudGlsZVNjYWxlLngqYSx0aGlzLl9oZWlnaHQvdGhpcy50aWxlU2NhbGUueSphKSk6KHIudHJhbnNsYXRlKGgreCxjK1QpLHIuZmlsbFJlY3QoLWgsLWMsdGhpcy5fd2lkdGgvdGhpcy50aWxlU2NhbGUueCphLHRoaXMuX2hlaWdodC90aGlzLnRpbGVTY2FsZS55KmEpKX19LGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl93aWR0aCotdGhpcy5fYW5jaG9yLl94LGU9dGhpcy5faGVpZ2h0Ki10aGlzLl9hbmNob3IuX3kscj10aGlzLl93aWR0aCooMS10aGlzLl9hbmNob3IuX3gpLG49dGhpcy5faGVpZ2h0KigxLXRoaXMuX2FuY2hvci5feSk7dGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLHQsZSxyLG4pfSxlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcz1mdW5jdGlvbihlKXtyZXR1cm4gMD09PXRoaXMuY2hpbGRyZW4ubGVuZ3RoPyh0aGlzLl9ib3VuZHMubWluWD10aGlzLl93aWR0aCotdGhpcy5fYW5jaG9yLl94LFxcbnRoaXMuX2JvdW5kcy5taW5ZPXRoaXMuX2hlaWdodCotdGhpcy5fYW5jaG9yLl95LHRoaXMuX2JvdW5kcy5tYXhYPXRoaXMuX3dpZHRoKigxLXRoaXMuX2FuY2hvci5feCksdGhpcy5fYm91bmRzLm1heFk9dGhpcy5faGVpZ2h0KigxLXRoaXMuX2FuY2hvci5feSksZXx8KHRoaXMuX2xvY2FsQm91bmRzUmVjdHx8KHRoaXMuX2xvY2FsQm91bmRzUmVjdD1uZXcgdS5SZWN0YW5nbGUpLGU9dGhpcy5fbG9jYWxCb3VuZHNSZWN0KSx0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKGUpKTp0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsZSl9LGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQ9ZnVuY3Rpb24odCl7dGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UodCxjKTt2YXIgZT10aGlzLl93aWR0aCxyPXRoaXMuX2hlaWdodCxuPS1lKnRoaXMuYW5jaG9yLl94O2lmKGMueD49biYmYy54PG4rZSl7dmFyIGk9LXIqdGhpcy5hbmNob3IuX3k7aWYoYy55Pj1pJiZjLnk8aStyKXJldHVybiEwfXJldHVybiExfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLGUpLHRoaXMudGlsZVRyYW5zZm9ybT1udWxsLHRoaXMudXZUcmFuc2Zvcm09bnVsbH0sZS5mcm9tPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gbmV3IGUodS5UZXh0dXJlLmZyb20odCkscixuKX0sZS5mcm9tRnJhbWU9ZnVuY3Rpb24odCxyLG4pe3ZhciBpPXUudXRpbHMuVGV4dHVyZUNhY2hlW3RdO2lmKCFpKXRocm93IG5ldyBFcnJvcignVGhlIGZyYW1lSWQgXFxcIicrdCsnXFxcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSAnK3RoaXMpO3JldHVybiBuZXcgZShpLHIsbil9LGUuZnJvbUltYWdlPWZ1bmN0aW9uKHQscixuLGksbyl7cmV0dXJuIG5ldyBlKHUuVGV4dHVyZS5mcm9tSW1hZ2UodCxpLG8pLHIsbil9LHMoZSxbe2tleTpcXFwiY2xhbXBNYXJnaW5cXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnV2VHJhbnNmb3JtLmNsYW1wTWFyZ2lufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy51dlRyYW5zZm9ybS5jbGFtcE1hcmdpbj10LHRoaXMudXZUcmFuc2Zvcm0udXBkYXRlKCEwKX19LHtrZXk6XFxcInRpbGVTY2FsZVxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudGlsZVRyYW5zZm9ybS5zY2FsZS5jb3B5KHQpfX0se2tleTpcXFwidGlsZVBvc2l0aW9uXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHkodCl9fSx7a2V5OlxcXCJ3aWR0aFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fd2lkdGg9dH19LHtrZXk6XFxcImhlaWdodFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2hlaWdodD10fX1dKSxlfSh1LlNwcml0ZSk7ci5kZWZhdWx0PWR9LHtcXFwiLi4vY29yZVxcXCI6NjUsXFxcIi4uL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyXFxcIjoxMDR9XSwxMzg6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXZhciBvPXQoXFxcIi4uL2NvcmVcXFwiKSxzPWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0obyksYT10KFxcXCIuLi9jb3JlL3RleHR1cmVzL1RleHR1cmVcXFwiKSx1PW4oYSksaD10KFxcXCIuLi9jb3JlL3RleHR1cmVzL0Jhc2VUZXh0dXJlXFxcIiksbD1uKGgpLGM9dChcXFwiLi4vY29yZS91dGlsc1xcXCIpLGQ9cy5EaXNwbGF5T2JqZWN0LGY9bmV3IHMuTWF0cml4O2QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwPSExLGQucHJvdG90eXBlLl9jYWNoZURhdGE9ITE7dmFyIHA9ZnVuY3Rpb24gdCgpe2kodGhpcyx0KSx0aGlzLnRleHR1cmVDYWNoZUlkPW51bGwsdGhpcy5vcmlnaW5hbFJlbmRlcldlYkdMPW51bGwsdGhpcy5vcmlnaW5hbFJlbmRlckNhbnZhcz1udWxsLHRoaXMub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHM9bnVsbCx0aGlzLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHM9bnVsbCx0aGlzLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtPW51bGwsdGhpcy5vcmlnaW5hbEhpdFRlc3Q9bnVsbCx0aGlzLm9yaWdpbmFsRGVzdHJveT1udWxsLHRoaXMub3JpZ2luYWxNYXNrPW51bGwsdGhpcy5vcmlnaW5hbEZpbHRlckFyZWE9bnVsbCx0aGlzLnNwcml0ZT1udWxsfTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhkLnByb3RvdHlwZSx7Y2FjaGVBc0JpdG1hcDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXB9LHNldDpmdW5jdGlvbih0KXtpZih0aGlzLl9jYWNoZUFzQml0bWFwIT09dCl7dGhpcy5fY2FjaGVBc0JpdG1hcD10O3ZhciBlPXZvaWQgMDt0Pyh0aGlzLl9jYWNoZURhdGF8fCh0aGlzLl9jYWNoZURhdGE9bmV3IHApLGU9dGhpcy5fY2FjaGVEYXRhLGUub3JpZ2luYWxSZW5kZXJXZWJHTD10aGlzLnJlbmRlcldlYkdMLGUub3JpZ2luYWxSZW5kZXJDYW52YXM9dGhpcy5yZW5kZXJDYW52YXMsZS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybT10aGlzLnVwZGF0ZVRyYW5zZm9ybSxlLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzPXRoaXMuY2FsY3VsYXRlQm91bmRzLGUub3JpZ2luYWxHZXRMb2NhbEJvdW5kcz10aGlzLmdldExvY2FsQm91bmRzLGUub3JpZ2luYWxEZXN0cm95PXRoaXMuZGVzdHJveSxlLm9yaWdpbmFsQ29udGFpbnNQb2ludD10aGlzLmNvbnRhaW5zUG9pbnQsZS5vcmlnaW5hbE1hc2s9dGhpcy5fbWFzayxlLm9yaWdpbmFsRmlsdGVyQXJlYT10aGlzLmZpbHRlckFyZWEsdGhpcy5yZW5kZXJXZWJHTD10aGlzLl9yZW5kZXJDYWNoZWRXZWJHTCx0aGlzLnJlbmRlckNhbnZhcz10aGlzLl9yZW5kZXJDYWNoZWRDYW52YXMsdGhpcy5kZXN0cm95PXRoaXMuX2NhY2hlQXNCaXRtYXBEZXN0cm95KTooZT10aGlzLl9jYWNoZURhdGEsZS5zcHJpdGUmJnRoaXMuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCksdGhpcy5yZW5kZXJXZWJHTD1lLm9yaWdpbmFsUmVuZGVyV2ViR0wsdGhpcy5yZW5kZXJDYW52YXM9ZS5vcmlnaW5hbFJlbmRlckNhbnZhcyx0aGlzLmNhbGN1bGF0ZUJvdW5kcz1lLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzLHRoaXMuZ2V0TG9jYWxCb3VuZHM9ZS5vcmlnaW5hbEdldExvY2FsQm91bmRzLHRoaXMuZGVzdHJveT1lLm9yaWdpbmFsRGVzdHJveSx0aGlzLnVwZGF0ZVRyYW5zZm9ybT1lLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtLHRoaXMuY29udGFpbnNQb2ludD1lLm9yaWdpbmFsQ29udGFpbnNQb2ludCx0aGlzLl9tYXNrPWUub3JpZ2luYWxNYXNrLHRoaXMuZmlsdGVyQXJlYT1lLm9yaWdpbmFsRmlsdGVyQXJlYSl9fX19KSxkLnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkV2ViR0w9ZnVuY3Rpb24odCl7IXRoaXMudmlzaWJsZXx8dGhpcy53b3JsZEFscGhhPD0wfHwhdGhpcy5yZW5kZXJhYmxlfHwodGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3QodCksdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS50cmFuc2Zvcm0uX3dvcmxkSUQ9dGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQsdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhPXRoaXMud29ybGRBbHBoYSx0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXJXZWJHTCh0KSl9LGQucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdD1mdW5jdGlvbih0KXtpZighdGhpcy5fY2FjaGVEYXRhfHwhdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSl7dmFyIGU9dGhpcy5hbHBoYTt0aGlzLmFscGhhPTEsdC5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTt2YXIgcj10aGlzLmdldExvY2FsQm91bmRzKCkuY2xvbmUoKTtpZih0aGlzLl9maWx0ZXJzJiZ0aGlzLl9maWx0ZXJzLmxlbmd0aCl7dmFyIG49dGhpcy5fZmlsdGVyc1swXS5wYWRkaW5nO3IucGFkKG4pfXIuY2VpbChzLnNldHRpbmdzLlJFU09MVVRJT04pO3ZhciBpPXQuX2FjdGl2ZVJlbmRlclRhcmdldCxvPXQuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjayxhPXMuUmVuZGVyVGV4dHVyZS5jcmVhdGUoci53aWR0aCxyLmhlaWdodCksaD1cXFwiY2FjaGVBc0JpdG1hcF9cXFwiKygwLGMudWlkKSgpO3RoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZD1oLGwuZGVmYXVsdC5hZGRUb0NhY2hlKGEuYmFzZVRleHR1cmUsaCksdS5kZWZhdWx0LmFkZFRvQ2FjaGUoYSxoKTt2YXIgZD1mO2QudHg9LXIueCxkLnR5PS1yLnksdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uaWRlbnRpdHkoKSx0aGlzLnJlbmRlcldlYkdMPXRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcldlYkdMLHQucmVuZGVyKHRoaXMsYSwhMCxkLCEwKSx0LmJpbmRSZW5kZXJUYXJnZXQoaSksdC5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrPW8sdGhpcy5yZW5kZXJXZWJHTD10aGlzLl9yZW5kZXJDYWNoZWRXZWJHTCx0aGlzLnVwZGF0ZVRyYW5zZm9ybT10aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0sdGhpcy5jYWxjdWxhdGVCb3VuZHM9dGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzLHRoaXMuZ2V0TG9jYWxCb3VuZHM9dGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHMsdGhpcy5fbWFzaz1udWxsLHRoaXMuZmlsdGVyQXJlYT1udWxsO3ZhciBwPW5ldyBzLlNwcml0ZShhKTtwLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybT10aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSxwLmFuY2hvci54PS1yLngvci53aWR0aCxwLmFuY2hvci55PS1yLnkvci5oZWlnaHQscC5hbHBoYT1lLHAuX2JvdW5kcz10aGlzLl9ib3VuZHMsdGhpcy5fY2FjaGVEYXRhLnNwcml0ZT1wLHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRD0tMSx0aGlzLnBhcmVudD90aGlzLnVwZGF0ZVRyYW5zZm9ybSgpOih0aGlzLnBhcmVudD10Ll90ZW1wRGlzcGxheU9iamVjdFBhcmVudCx0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMucGFyZW50PW51bGwpLHRoaXMuY29udGFpbnNQb2ludD1wLmNvbnRhaW5zUG9pbnQuYmluZChwKX19LGQucHJvdG90eXBlLl9yZW5kZXJDYWNoZWRDYW52YXM9ZnVuY3Rpb24odCl7IXRoaXMudmlzaWJsZXx8dGhpcy53b3JsZEFscGhhPD0wfHwhdGhpcy5yZW5kZXJhYmxlfHwodGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXModCksdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhPXRoaXMud29ybGRBbHBoYSx0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXJDYW52YXModCkpfSxkLnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXM9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2NhY2hlRGF0YXx8IXRoaXMuX2NhY2hlRGF0YS5zcHJpdGUpe3ZhciBlPXRoaXMuZ2V0TG9jYWxCb3VuZHMoKSxyPXRoaXMuYWxwaGE7dGhpcy5hbHBoYT0xO3ZhciBuPXQuY29udGV4dDtlLmNlaWwocy5zZXR0aW5ncy5SRVNPTFVUSU9OKTt2YXIgaT1zLlJlbmRlclRleHR1cmUuY3JlYXRlKGUud2lkdGgsZS5oZWlnaHQpLG89XFxcImNhY2hlQXNCaXRtYXBfXFxcIisoMCxjLnVpZCkoKTt0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQ9byxsLmRlZmF1bHQuYWRkVG9DYWNoZShpLmJhc2VUZXh0dXJlLG8pLHUuZGVmYXVsdC5hZGRUb0NhY2hlKGksbyk7dmFyIGE9Zjt0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5KGEpLGEuaW52ZXJ0KCksYS50eC09ZS54LGEudHktPWUueSx0aGlzLnJlbmRlckNhbnZhcz10aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXJDYW52YXMsdC5yZW5kZXIodGhpcyxpLCEwLGEsITEpLHQuY29udGV4dD1uLHRoaXMucmVuZGVyQ2FudmFzPXRoaXMuX3JlbmRlckNhY2hlZENhbnZhcyx0aGlzLnVwZGF0ZVRyYW5zZm9ybT10aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0sdGhpcy5jYWxjdWxhdGVCb3VuZHM9dGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzLHRoaXMuZ2V0TG9jYWxCb3VuZHM9dGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHMsdGhpcy5fbWFzaz1udWxsLHRoaXMuZmlsdGVyQXJlYT1udWxsO3ZhciBoPW5ldyBzLlNwcml0ZShpKTtoLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybT10aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSxoLmFuY2hvci54PS1lLngvZS53aWR0aCxoLmFuY2hvci55PS1lLnkvZS5oZWlnaHQsaC5hbHBoYT1yLGguX2JvdW5kcz10aGlzLl9ib3VuZHMsdGhpcy5fY2FjaGVEYXRhLnNwcml0ZT1oLHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRD0tMSx0aGlzLnBhcmVudD90aGlzLnVwZGF0ZVRyYW5zZm9ybSgpOih0aGlzLnBhcmVudD10Ll90ZW1wRGlzcGxheU9iamVjdFBhcmVudCx0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMucGFyZW50PW51bGwpLHRoaXMuY29udGFpbnNQb2ludD1oLmNvbnRhaW5zUG9pbnQuYmluZChoKX19LGQucHJvdG90eXBlLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM9ZnVuY3Rpb24oKXt0aGlzLl9ib3VuZHMuY2xlYXIoKSx0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRD10aGlzLnRyYW5zZm9ybS5fd29ybGRJRCx0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9jYWxjdWxhdGVCb3VuZHMoKSx0aGlzLl9sYXN0Qm91bmRzSUQ9dGhpcy5fYm91bmRzSUR9LGQucHJvdG90eXBlLl9nZXRDYWNoZWRMb2NhbEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLmdldExvY2FsQm91bmRzKCl9LGQucHJvdG90eXBlLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdD1mdW5jdGlvbigpe3RoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RleHR1cmUuZGVzdHJveSghMCksdGhpcy5fY2FjaGVEYXRhLnNwcml0ZT1udWxsLGwuZGVmYXVsdC5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKSx1LmRlZmF1bHQucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCksdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkPW51bGx9LGQucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwRGVzdHJveT1mdW5jdGlvbih0KXt0aGlzLmNhY2hlQXNCaXRtYXA9ITEsdGhpcy5kZXN0cm95KHQpfX0se1xcXCIuLi9jb3JlXFxcIjo2NSxcXFwiLi4vY29yZS90ZXh0dXJlcy9CYXNlVGV4dHVyZVxcXCI6MTEyLFxcXCIuLi9jb3JlL3RleHR1cmVzL1RleHR1cmVcXFwiOjExNSxcXFwiLi4vY29yZS91dGlsc1xcXCI6MTI1fV0sMTM5OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBuPXQoXFxcIi4uL2NvcmVcXFwiKSxpPWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0obik7aS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5uYW1lPW51bGwsaS5Db250YWluZXIucHJvdG90eXBlLmdldENoaWxkQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKWlmKHRoaXMuY2hpbGRyZW5bZV0ubmFtZT09PXQpcmV0dXJuIHRoaXMuY2hpbGRyZW5bZV07cmV0dXJuIG51bGx9fSx7XFxcIi4uL2NvcmVcXFwiOjY1fV0sMTQwOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBuPXQoXFxcIi4uL2NvcmVcXFwiKSxpPWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0obik7aS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRHbG9iYWxQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpuZXcgaS5Qb2ludCxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50LnRvR2xvYmFsKHRoaXMucG9zaXRpb24sdCxlKToodC54PXRoaXMucG9zaXRpb24ueCx0Lnk9dGhpcy5wb3NpdGlvbi55KSx0fX0se1xcXCIuLi9jb3JlXFxcIjo2NX1dLDE0MTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1yLl9fZXNNb2R1bGU9ITAsci5CaXRtYXBUZXh0PXIuVGlsaW5nU3ByaXRlUmVuZGVyZXI9ci5UaWxpbmdTcHJpdGU9ci5BbmltYXRlZFNwcml0ZT12b2lkIDA7dmFyIGk9dChcXFwiLi9BbmltYXRlZFNwcml0ZVxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJBbmltYXRlZFNwcml0ZVxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oaSkuZGVmYXVsdH19KTt2YXIgbz10KFxcXCIuL1RpbGluZ1Nwcml0ZVxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJUaWxpbmdTcHJpdGVcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKG8pLmRlZmF1bHR9fSk7dmFyIHM9dChcXFwiLi93ZWJnbC9UaWxpbmdTcHJpdGVSZW5kZXJlclxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJUaWxpbmdTcHJpdGVSZW5kZXJlclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ocykuZGVmYXVsdH19KTt2YXIgYT10KFxcXCIuL0JpdG1hcFRleHRcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiQml0bWFwVGV4dFxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oYSkuZGVmYXVsdH19KSx0KFxcXCIuL2NhY2hlQXNCaXRtYXBcXFwiKSx0KFxcXCIuL2dldENoaWxkQnlOYW1lXFxcIiksdChcXFwiLi9nZXRHbG9iYWxQb3NpdGlvblxcXCIpfSx7XFxcIi4vQW5pbWF0ZWRTcHJpdGVcXFwiOjEzNSxcXFwiLi9CaXRtYXBUZXh0XFxcIjoxMzYsXFxcIi4vVGlsaW5nU3ByaXRlXFxcIjoxMzcsXFxcIi4vY2FjaGVBc0JpdG1hcFxcXCI6MTM4LFxcXCIuL2dldENoaWxkQnlOYW1lXFxcIjoxMzksXFxcIi4vZ2V0R2xvYmFsUG9zaXRpb25cXFwiOjE0MCxcXFwiLi93ZWJnbC9UaWxpbmdTcHJpdGVSZW5kZXJlclxcXCI6MTQyfV0sMTQyOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBzPXQoXFxcIi4uLy4uL2NvcmVcXFwiKSxhPWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0ocyksdT10KFxcXCIuLi8uLi9jb3JlL2NvbnN0XFxcIiksaD0odChcXFwicGF0aFxcXCIpLG5ldyBhLk1hdHJpeCksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe24odGhpcyxlKTt2YXIgbz1pKHRoaXMsdC5jYWxsKHRoaXMscikpO3JldHVybiBvLnNoYWRlcj1udWxsLG8uc2ltcGxlU2hhZGVyPW51bGwsby5xdWFkPW51bGwsb31yZXR1cm4gbyhlLHQpLGUucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMucmVuZGVyZXIuZ2w7dGhpcy5zaGFkZXI9bmV3IGEuU2hhZGVyKHQsXFxcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXFxcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxcXG5cXFxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcXFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcXFxudW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm07XFxcXG5cXFxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXFxuXFxcXG52b2lkIG1haW4odm9pZClcXFxcbntcXFxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcXFxuXFxcXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXFxcbn1cXFxcblxcXCIsXFxcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXFxuXFxcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXFxcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxcXG51bmlmb3JtIG1hdDMgdU1hcENvb3JkO1xcXFxudW5pZm9ybSB2ZWM0IHVDbGFtcEZyYW1lO1xcXFxudW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcXFxcblxcXFxudm9pZCBtYWluKHZvaWQpXFxcXG57XFxcXG4gICAgdmVjMiBjb29yZCA9IG1vZCh2VGV4dHVyZUNvb3JkIC0gdUNsYW1wT2Zmc2V0LCB2ZWMyKDEuMCwgMS4wKSkgKyB1Q2xhbXBPZmZzZXQ7XFxcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxcXG4gICAgY29vcmQgPSBjbGFtcChjb29yZCwgdUNsYW1wRnJhbWUueHksIHVDbGFtcEZyYW1lLnp3KTtcXFxcblxcXFxuICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCk7XFxcXG4gICAgZ2xfRnJhZ0NvbG9yID0gc2FtcGxlICogdUNvbG9yO1xcXFxufVxcXFxuXFxcIiksdGhpcy5zaW1wbGVTaGFkZXI9bmV3IGEuU2hhZGVyKHQsXFxcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXFxcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxcXG5cXFxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcXFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcXFxudW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm07XFxcXG5cXFxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXFxuXFxcXG52b2lkIG1haW4odm9pZClcXFxcbntcXFxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcXFxuXFxcXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXFxcbn1cXFxcblxcXCIsXFxcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXFxuXFxcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXFxcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxcXG5cXFxcbnZvaWQgbWFpbih2b2lkKVxcXFxue1xcXFxuICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXFxcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiB1Q29sb3I7XFxcXG59XFxcXG5cXFwiKSx0aGlzLnJlbmRlcmVyLmJpbmRWYW8obnVsbCksdGhpcy5xdWFkPW5ldyBhLlF1YWQodCx0aGlzLnJlbmRlcmVyLnN0YXRlLmF0dHJpYlN0YXRlKSx0aGlzLnF1YWQuaW5pdFZhbyh0aGlzLnNoYWRlcil9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlbmRlcmVyLHI9dGhpcy5xdWFkO2UuYmluZFZhbyhyLnZhbyk7dmFyIG49ci52ZXJ0aWNlcztuWzBdPW5bNl09dC5fd2lkdGgqLXQuYW5jaG9yLngsblsxXT1uWzNdPXQuX2hlaWdodCotdC5hbmNob3IueSxuWzJdPW5bNF09dC5fd2lkdGgqKDEtdC5hbmNob3IueCksbls1XT1uWzddPXQuX2hlaWdodCooMS10LmFuY2hvci55KSx0LnV2UmVzcGVjdEFuY2hvciYmKG49ci51dnMsblswXT1uWzZdPS10LmFuY2hvci54LG5bMV09blszXT0tdC5hbmNob3IueSxuWzJdPW5bNF09MS10LmFuY2hvci54LG5bNV09bls3XT0xLXQuYW5jaG9yLnkpLHIudXBsb2FkKCk7dmFyIGk9dC5fdGV4dHVyZSxvPWkuYmFzZVRleHR1cmUscz10LnRpbGVUcmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0sbD10LnV2VHJhbnNmb3JtLGM9by5pc1Bvd2VyT2ZUd28mJmkuZnJhbWUud2lkdGg9PT1vLndpZHRoJiZpLmZyYW1lLmhlaWdodD09PW8uaGVpZ2h0O2MmJihvLl9nbFRleHR1cmVzW2UuQ09OVEVYVF9VSURdP2M9by53cmFwTW9kZSE9PXUuV1JBUF9NT0RFUy5DTEFNUDpvLndyYXBNb2RlPT09dS5XUkFQX01PREVTLkNMQU1QJiYoby53cmFwTW9kZT11LldSQVBfTU9ERVMuUkVQRUFUKSk7dmFyIGQ9Yz90aGlzLnNpbXBsZVNoYWRlcjp0aGlzLnNoYWRlcjtlLmJpbmRTaGFkZXIoZCk7dmFyIGY9aS53aWR0aCxwPWkuaGVpZ2h0LHY9dC5fd2lkdGgsZz10Ll9oZWlnaHQ7aC5zZXQocy5hKmYvdixzLmIqZi9nLHMuYypwL3Yscy5kKnAvZyxzLnR4L3Yscy50eS9nKSxoLmludmVydCgpLGM/aC5wcmVwZW5kKGwubWFwQ29vcmQpOihkLnVuaWZvcm1zLnVNYXBDb29yZD1sLm1hcENvb3JkLnRvQXJyYXkoITApLGQudW5pZm9ybXMudUNsYW1wRnJhbWU9bC51Q2xhbXBGcmFtZSxkLnVuaWZvcm1zLnVDbGFtcE9mZnNldD1sLnVDbGFtcE9mZnNldCksZC51bmlmb3Jtcy51VHJhbnNmb3JtPWgudG9BcnJheSghMCksZC51bmlmb3Jtcy51Q29sb3I9YS51dGlscy5wcmVtdWx0aXBseVRpbnRUb1JnYmEodC50aW50LHQud29ybGRBbHBoYSxkLnVuaWZvcm1zLnVDb2xvcixvLnByZW11bHRpcGxpZWRBbHBoYSksZC51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeD10LnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KCEwKSxkLnVuaWZvcm1zLnVTYW1wbGVyPWUuYmluZFRleHR1cmUoaSksZS5zZXRCbGVuZE1vZGUoYS51dGlscy5jb3JyZWN0QmxlbmRNb2RlKHQuYmxlbmRNb2RlLG8ucHJlbXVsdGlwbGllZEFscGhhKSksci52YW8uZHJhdyh0aGlzLnJlbmRlcmVyLmdsLlRSSUFOR0xFUyw2LDApfSxlfShhLk9iamVjdFJlbmRlcmVyKTtyLmRlZmF1bHQ9bCxhLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oXFxcInRpbGluZ1Nwcml0ZVxcXCIsbCl9LHtcXFwiLi4vLi4vY29yZVxcXCI6NjUsXFxcIi4uLy4uL2NvcmUvY29uc3RcXFwiOjQ2LHBhdGg6OH1dLDE0MzpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxhPXQoXFxcIi4uLy4uL2NvcmVcXFwiKSx1PWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0oYSksaD0odChcXFwicGF0aFxcXCIpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MTtuKHRoaXMsZSk7dmFyIG89aSh0aGlzLHQuY2FsbCh0aGlzLFxcXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcXFxuXFxcXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXFxcblxcXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxcXG5cXFxcbnZvaWQgbWFpbih2b2lkKVxcXFxue1xcXFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcXFxufVxcXCIsXFxcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXFxuXFxcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXFxcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcXFxuXFxcXG52b2lkIG1haW4odm9pZClcXFxcbntcXFxcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxcXG59XFxcXG5cXFwiKSk7cmV0dXJuIG8uYWxwaGE9cixvLmdsU2hhZGVyS2V5PVxcXCJhbHBoYVxcXCIsb31yZXR1cm4gbyhlLHQpLHMoZSxbe2tleTpcXFwiYWxwaGFcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudW5pZm9ybXMudUFscGhhPXR9fV0pLGV9KHUuRmlsdGVyKSk7ci5kZWZhdWx0PWh9LHtcXFwiLi4vLi4vY29yZVxcXCI6NjUscGF0aDo4fV0sMTQ0OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLHU9dChcXFwiLi4vLi4vY29yZVxcXCIpLGg9ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfSh1KSxsPXQoXFxcIi4vQmx1clhGaWx0ZXJcXFwiKSxjPW4obCksZD10KFxcXCIuL0JsdXJZRmlsdGVyXFxcIiksZj1uKGQpLHA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4scyxhKXtpKHRoaXMsZSk7dmFyIHU9byh0aGlzLHQuY2FsbCh0aGlzKSk7cmV0dXJuIHUuYmx1clhGaWx0ZXI9bmV3IGMuZGVmYXVsdChyLG4scyxhKSx1LmJsdXJZRmlsdGVyPW5ldyBmLmRlZmF1bHQocixuLHMsYSksdS5wYWRkaW5nPTAsdS5yZXNvbHV0aW9uPXN8fGguc2V0dGluZ3MuUkVTT0xVVElPTix1LnF1YWxpdHk9bnx8NCx1LmJsdXI9cnx8OCx1fXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQuZ2V0UmVuZGVyVGFyZ2V0KCEwKTt0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KHQsZSxuLCEwKSx0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KHQsbixyLCExKSx0LnJldHVyblJlbmRlclRhcmdldChuKX0sYShlLFt7a2V5OlxcXCJibHVyXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ibHVyWEZpbHRlci5ibHVyPXRoaXMuYmx1cllGaWx0ZXIuYmx1cj10LHRoaXMucGFkZGluZz0yKk1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKX19LHtrZXk6XFxcInF1YWxpdHlcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHl9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHk9dGhpcy5ibHVyWUZpbHRlci5xdWFsaXR5PXR9fSx7a2V5OlxcXCJibHVyWFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYmx1clhGaWx0ZXIuYmx1cj10LHRoaXMucGFkZGluZz0yKk1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKX19LHtrZXk6XFxcImJsdXJZXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ibHVyWUZpbHRlci5ibHVyPXQsdGhpcy5wYWRkaW5nPTIqTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpfX0se2tleTpcXFwiYmxlbmRNb2RlXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5fYmxlbmRNb2RlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ibHVyWUZpbHRlci5fYmxlbmRNb2RlPXR9fV0pLGV9KGguRmlsdGVyKTtyLmRlZmF1bHQ9cH0se1xcXCIuLi8uLi9jb3JlXFxcIjo2NSxcXFwiLi9CbHVyWEZpbHRlclxcXCI6MTQ1LFxcXCIuL0JsdXJZRmlsdGVyXFxcIjoxNDZ9XSwxNDU6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXFxcInZhbHVlXFxcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksdT10KFxcXCIuLi8uLi9jb3JlXFxcIiksaD1mdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9KHUpLGw9dChcXFwiLi9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlXFxcIiksYz1uKGwpLGQ9dChcXFwiLi9nZW5lcmF0ZUJsdXJGcmFnU291cmNlXFxcIiksZj1uKGQpLHA9dChcXFwiLi9nZXRNYXhCbHVyS2VybmVsU2l6ZVxcXCIpLHY9bihwKSxnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixuLHMsYSl7aSh0aGlzLGUpLGE9YXx8NTt2YXIgdT0oMCxjLmRlZmF1bHQpKGEsITApLGw9KDAsZi5kZWZhdWx0KShhKSxkPW8odGhpcyx0LmNhbGwodGhpcyx1LGwpKTtyZXR1cm4gZC5yZXNvbHV0aW9uPXN8fGguc2V0dGluZ3MuUkVTT0xVVElPTixkLl9xdWFsaXR5PTAsZC5xdWFsaXR5PW58fDQsZC5zdHJlbmd0aD1yfHw4LGQuZmlyc3RSdW49ITAsZH1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQsZSxyLG4pe2lmKHRoaXMuZmlyc3RSdW4pe3ZhciBpPXQucmVuZGVyZXIuZ2wsbz0oMCx2LmRlZmF1bHQpKGkpO3RoaXMudmVydGV4U3JjPSgwLGMuZGVmYXVsdCkobywhMCksdGhpcy5mcmFnbWVudFNyYz0oMCxmLmRlZmF1bHQpKG8pLHRoaXMuZmlyc3RSdW49ITF9aWYodGhpcy51bmlmb3Jtcy5zdHJlbmd0aD0xL3Iuc2l6ZS53aWR0aCooci5zaXplLndpZHRoL2Uuc2l6ZS53aWR0aCksdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCo9dGhpcy5zdHJlbmd0aCx0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoLz10aGlzLnBhc3NlcywxPT09dGhpcy5wYXNzZXMpdC5hcHBseUZpbHRlcih0aGlzLGUscixuKTtlbHNle2Zvcih2YXIgcz10LmdldFJlbmRlclRhcmdldCghMCksYT1lLHU9cyxoPTA7aDx0aGlzLnBhc3Nlcy0xO2grKyl7dC5hcHBseUZpbHRlcih0aGlzLGEsdSwhMCk7dmFyIGw9dTt1PWEsYT1sfXQuYXBwbHlGaWx0ZXIodGhpcyxhLHIsbiksdC5yZXR1cm5SZW5kZXJUYXJnZXQocyl9fSxhKGUsW3trZXk6XFxcImJsdXJcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmVuZ3RofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5wYWRkaW5nPTIqTWF0aC5hYnModCksdGhpcy5zdHJlbmd0aD10fX0se2tleTpcXFwicXVhbGl0eVxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3F1YWxpdHl9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9xdWFsaXR5PXQsdGhpcy5wYXNzZXM9dH19XSksZX0oaC5GaWx0ZXIpO3IuZGVmYXVsdD1nfSx7XFxcIi4uLy4uL2NvcmVcXFwiOjY1LFxcXCIuL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2VcXFwiOjE0NyxcXFwiLi9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlXFxcIjoxNDgsXFxcIi4vZ2V0TWF4Qmx1cktlcm5lbFNpemVcXFwiOjE0OX1dLDE0NjpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSx1PXQoXFxcIi4uLy4uL2NvcmVcXFwiKSxoPWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0odSksbD10KFxcXCIuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2VcXFwiKSxjPW4obCksZD10KFxcXCIuL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2VcXFwiKSxmPW4oZCkscD10KFxcXCIuL2dldE1heEJsdXJLZXJuZWxTaXplXFxcIiksdj1uKHApLGc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4scyxhKXtpKHRoaXMsZSksYT1hfHw1O3ZhciB1PSgwLGMuZGVmYXVsdCkoYSwhMSksbD0oMCxmLmRlZmF1bHQpKGEpLGQ9byh0aGlzLHQuY2FsbCh0aGlzLHUsbCkpO3JldHVybiBkLnJlc29sdXRpb249c3x8aC5zZXR0aW5ncy5SRVNPTFVUSU9OLGQuX3F1YWxpdHk9MCxkLnF1YWxpdHk9bnx8NCxkLnN0cmVuZ3RoPXJ8fDgsZC5maXJzdFJ1bj0hMCxkfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxlLHIsbil7aWYodGhpcy5maXJzdFJ1bil7dmFyIGk9dC5yZW5kZXJlci5nbCxvPSgwLHYuZGVmYXVsdCkoaSk7dGhpcy52ZXJ0ZXhTcmM9KDAsYy5kZWZhdWx0KShvLCExKSx0aGlzLmZyYWdtZW50U3JjPSgwLGYuZGVmYXVsdCkobyksdGhpcy5maXJzdFJ1bj0hMX1pZih0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoPTEvci5zaXplLmhlaWdodCooci5zaXplLmhlaWdodC9lLnNpemUuaGVpZ2h0KSx0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoKj10aGlzLnN0cmVuZ3RoLHRoaXMudW5pZm9ybXMuc3RyZW5ndGgvPXRoaXMucGFzc2VzLDE9PT10aGlzLnBhc3Nlcyl0LmFwcGx5RmlsdGVyKHRoaXMsZSxyLG4pO2Vsc2V7Zm9yKHZhciBzPXQuZ2V0UmVuZGVyVGFyZ2V0KCEwKSxhPWUsdT1zLGg9MDtoPHRoaXMucGFzc2VzLTE7aCsrKXt0LmFwcGx5RmlsdGVyKHRoaXMsYSx1LCEwKTt2YXIgbD11O3U9YSxhPWx9dC5hcHBseUZpbHRlcih0aGlzLGEscixuKSx0LnJldHVyblJlbmRlclRhcmdldChzKX19LGEoZSxbe2tleTpcXFwiYmx1clxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyZW5ndGh9LHNldDpmdW5jdGlvbih0KXt0aGlzLnBhZGRpbmc9MipNYXRoLmFicyh0KSx0aGlzLnN0cmVuZ3RoPXR9fSx7a2V5OlxcXCJxdWFsaXR5XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcXVhbGl0eX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3F1YWxpdHk9dCx0aGlzLnBhc3Nlcz10fX1dKSxlfShoLkZpbHRlcik7ci5kZWZhdWx0PWd9LHtcXFwiLi4vLi4vY29yZVxcXCI6NjUsXFxcIi4vZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZVxcXCI6MTQ3LFxcXCIuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2VcXFwiOjE0OCxcXFwiLi9nZXRNYXhCbHVyS2VybmVsU2l6ZVxcXCI6MTQ5fV0sMTQ3OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7Zm9yKHZhciBlPWlbdF0scj1lLmxlbmd0aCxuPW8scz1cXFwiXFxcIixhPVxcXCJnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2Qmx1clRleENvb3Jkc1slaW5kZXglXSkgKiAldmFsdWUlO1xcXCIsdT12b2lkIDAsaD0wO2g8dDtoKyspe3ZhciBsPWEucmVwbGFjZShcXFwiJWluZGV4JVxcXCIsaCk7dT1oLGg+PXImJih1PXQtaC0xKSxsPWwucmVwbGFjZShcXFwiJXZhbHVlJVxcXCIsZVt1XSkscys9bCxzKz1cXFwiXFxcXG5cXFwifXJldHVybiBuPW4ucmVwbGFjZShcXFwiJWJsdXIlXFxcIixzKSxuPW4ucmVwbGFjZShcXFwiJXNpemUlXFxcIix0KX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PW47dmFyIGk9ezU6Wy4xNTMzODgsLjIyMTQ2MSwuMjUwMzAxXSw3OlsuMDcxMzAzLC4xMzE1MTQsLjE4OTg3OSwuMjE0NjA3XSw5OlsuMDI4NTMyLC4wNjcyMzQsLjEyNDAwOSwuMTc5MDQ0LC4yMDIzNl0sMTE6Wy4wMDkzLC4wMjgwMDIsLjA2NTk4NCwuMTIxNzAzLC4xNzU3MTMsLjE5ODU5Nl0sMTM6Wy4wMDI0MDYsLjAwOTI1NSwuMDI3ODY3LC4wNjU2NjYsLjEyMTExNywuMTc0ODY4LC4xOTc2NDFdLDE1Ols0ODllLTYsLjAwMjQwMywuMDA5MjQ2LC4wMjc4NCwuMDY1NjAyLC4xMjA5OTksLjE3NDY5NywuMTk3NDQ4XX0sbz1bXFxcInZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdO1xcXCIsXFxcInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcXCIsXFxcInZvaWQgbWFpbih2b2lkKVxcXCIsXFxcIntcXFwiLFxcXCIgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApO1xcXCIsXFxcIiAgICAlYmx1ciVcXFwiLFxcXCJ9XFxcIl0uam9pbihcXFwiXFxcXG5cXFwiKX0se31dLDE0ODpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7dmFyIHI9TWF0aC5jZWlsKHQvMiksbj1pLG89XFxcIlxcXCIscz12b2lkIDA7cz1lP1xcXCJ2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9IGFUZXh0dXJlQ29vcmQgKyB2ZWMyKCVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCwgMC4wKTtcXFwiOlxcXCJ2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9IGFUZXh0dXJlQ29vcmQgKyB2ZWMyKDAuMCwgJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoKTtcXFwiO2Zvcih2YXIgYT0wO2E8dDthKyspe3ZhciB1PXMucmVwbGFjZShcXFwiJWluZGV4JVxcXCIsYSk7dT11LnJlcGxhY2UoXFxcIiVzYW1wbGVJbmRleCVcXFwiLGEtKHItMSkrXFxcIi4wXFxcIiksbys9dSxvKz1cXFwiXFxcXG5cXFwifXJldHVybiBuPW4ucmVwbGFjZShcXFwiJWJsdXIlXFxcIixvKSxuPW4ucmVwbGFjZShcXFwiJXNpemUlXFxcIix0KX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PW47dmFyIGk9W1xcXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxcIixcXFwiYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXFwiLFxcXCJ1bmlmb3JtIGZsb2F0IHN0cmVuZ3RoO1xcXCIsXFxcInVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcXCIsXFxcInZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdO1xcXCIsXFxcInZvaWQgbWFpbih2b2lkKVxcXCIsXFxcIntcXFwiLFxcXCJnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKChhVmVydGV4UG9zaXRpb24pLCAxLjApKS54eSwgMC4wLCAxLjApO1xcXCIsXFxcIiVibHVyJVxcXCIsXFxcIn1cXFwiXS5qb2luKFxcXCJcXFxcblxcXCIpfSx7fV0sMTQ5OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7Zm9yKHZhciBlPXQuZ2V0UGFyYW1ldGVyKHQuTUFYX1ZBUllJTkdfVkVDVE9SUykscj0xNTtyPmU7KXItPTI7cmV0dXJuIHJ9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1ufSx7fV0sMTUwOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGE9dChcXFwiLi4vLi4vY29yZVxcXCIpLHU9ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShhKSxoPSh0KFxcXCJwYXRoXFxcIiksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe24odGhpcyxlKTt2YXIgcj1pKHRoaXMsdC5jYWxsKHRoaXMsXFxcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXFxcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxcXG5cXFxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcXFxuXFxcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXFxcblxcXFxudm9pZCBtYWluKHZvaWQpXFxcXG57XFxcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxcXG59XFxcIixcXFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXFxcbnVuaWZvcm0gZmxvYXQgbVsyMF07XFxcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXFxcblxcXFxudm9pZCBtYWluKHZvaWQpXFxcXG57XFxcXG4gICAgdmVjNCBjID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXFxcblxcXFxuICAgIGlmICh1QWxwaGEgPT0gMC4wKSB7XFxcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IGM7XFxcXG4gICAgICAgIHJldHVybjtcXFxcbiAgICB9XFxcXG5cXFxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcXFxuICAgIGlmIChjLmEgPiAwLjApIHtcXFxcbiAgICAgIGMucmdiIC89IGMuYTtcXFxcbiAgICB9XFxcXG5cXFxcbiAgICB2ZWM0IHJlc3VsdDtcXFxcblxcXFxuICAgIHJlc3VsdC5yID0gKG1bMF0gKiBjLnIpO1xcXFxuICAgICAgICByZXN1bHQuciArPSAobVsxXSAqIGMuZyk7XFxcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzJdICogYy5iKTtcXFxcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bM10gKiBjLmEpO1xcXFxuICAgICAgICByZXN1bHQuciArPSBtWzRdO1xcXFxuXFxcXG4gICAgcmVzdWx0LmcgPSAobVs1XSAqIGMucik7XFxcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzZdICogYy5nKTtcXFxcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bN10gKiBjLmIpO1xcXFxuICAgICAgICByZXN1bHQuZyArPSAobVs4XSAqIGMuYSk7XFxcXG4gICAgICAgIHJlc3VsdC5nICs9IG1bOV07XFxcXG5cXFxcbiAgICByZXN1bHQuYiA9IChtWzEwXSAqIGMucik7XFxcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTFdICogYy5nKTtcXFxcbiAgICAgICByZXN1bHQuYiArPSAobVsxMl0gKiBjLmIpO1xcXFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEzXSAqIGMuYSk7XFxcXG4gICAgICAgcmVzdWx0LmIgKz0gbVsxNF07XFxcXG5cXFxcbiAgICByZXN1bHQuYSA9IChtWzE1XSAqIGMucik7XFxcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTZdICogYy5nKTtcXFxcbiAgICAgICByZXN1bHQuYSArPSAobVsxN10gKiBjLmIpO1xcXFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE4XSAqIGMuYSk7XFxcXG4gICAgICAgcmVzdWx0LmEgKz0gbVsxOV07XFxcXG5cXFxcbiAgICB2ZWMzIHJnYiA9IG1peChjLnJnYiwgcmVzdWx0LnJnYiwgdUFscGhhKTtcXFxcblxcXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcXFxuICAgIHJnYiAqPSByZXN1bHQuYTtcXFxcblxcXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQocmdiLCByZXN1bHQuYSk7XFxcXG59XFxcXG5cXFwiKSk7cmV0dXJuIHIudW5pZm9ybXMubT1bMSwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMSwwXSxyLmFscGhhPTEscn1yZXR1cm4gbyhlLHQpLGUucHJvdG90eXBlLl9sb2FkTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0scj10O2UmJih0aGlzLl9tdWx0aXBseShyLHRoaXMudW5pZm9ybXMubSx0KSxyPXRoaXMuX2NvbG9yTWF0cml4KHIpKSx0aGlzLnVuaWZvcm1zLm09cn0sZS5wcm90b3R5cGUuX211bHRpcGx5PWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdKnJbMF0rZVsxXSpyWzVdK2VbMl0qclsxMF0rZVszXSpyWzE1XSx0WzFdPWVbMF0qclsxXStlWzFdKnJbNl0rZVsyXSpyWzExXStlWzNdKnJbMTZdLHRbMl09ZVswXSpyWzJdK2VbMV0qcls3XStlWzJdKnJbMTJdK2VbM10qclsxN10sdFszXT1lWzBdKnJbM10rZVsxXSpyWzhdK2VbMl0qclsxM10rZVszXSpyWzE4XSx0WzRdPWVbMF0qcls0XStlWzFdKnJbOV0rZVsyXSpyWzE0XStlWzNdKnJbMTldK2VbNF0sdFs1XT1lWzVdKnJbMF0rZVs2XSpyWzVdK2VbN10qclsxMF0rZVs4XSpyWzE1XSx0WzZdPWVbNV0qclsxXStlWzZdKnJbNl0rZVs3XSpyWzExXStlWzhdKnJbMTZdLHRbN109ZVs1XSpyWzJdK2VbNl0qcls3XStlWzddKnJbMTJdK2VbOF0qclsxN10sdFs4XT1lWzVdKnJbM10rZVs2XSpyWzhdK2VbN10qclsxM10rZVs4XSpyWzE4XSx0WzldPWVbNV0qcls0XStlWzZdKnJbOV0rZVs3XSpyWzE0XStlWzhdKnJbMTldK2VbOV0sdFsxMF09ZVsxMF0qclswXStlWzExXSpyWzVdK2VbMTJdKnJbMTBdK2VbMTNdKnJbMTVdLHRbMTFdPWVbMTBdKnJbMV0rZVsxMV0qcls2XStlWzEyXSpyWzExXStlWzEzXSpyWzE2XSx0WzEyXT1lWzEwXSpyWzJdK2VbMTFdKnJbN10rZVsxMl0qclsxMl0rZVsxM10qclsxN10sdFsxM109ZVsxMF0qclszXStlWzExXSpyWzhdK2VbMTJdKnJbMTNdK2VbMTNdKnJbMThdLHRbMTRdPWVbMTBdKnJbNF0rZVsxMV0qcls5XStlWzEyXSpyWzE0XStlWzEzXSpyWzE5XStlWzE0XSx0WzE1XT1lWzE1XSpyWzBdK2VbMTZdKnJbNV0rZVsxN10qclsxMF0rZVsxOF0qclsxNV0sdFsxNl09ZVsxNV0qclsxXStlWzE2XSpyWzZdK2VbMTddKnJbMTFdK2VbMThdKnJbMTZdLHRbMTddPWVbMTVdKnJbMl0rZVsxNl0qcls3XStlWzE3XSpyWzEyXStlWzE4XSpyWzE3XSx0WzE4XT1lWzE1XSpyWzNdK2VbMTZdKnJbOF0rZVsxN10qclsxM10rZVsxOF0qclsxOF0sdFsxOV09ZVsxNV0qcls0XStlWzE2XSpyWzldK2VbMTddKnJbMTRdK2VbMThdKnJbMTldK2VbMTldLHR9LGUucHJvdG90eXBlLl9jb2xvck1hdHJpeD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgRmxvYXQzMkFycmF5KHQpO3JldHVybiBlWzRdLz0yNTUsZVs5XS89MjU1LGVbMTRdLz0yNTUsZVsxOV0vPTI1NSxlfSxlLnByb3RvdHlwZS5icmlnaHRuZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIHI9W3QsMCwwLDAsMCwwLHQsMCwwLDAsMCwwLHQsMCwwLDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChyLGUpfSxlLnByb3RvdHlwZS5ncmV5c2NhbGU9ZnVuY3Rpb24odCxlKXt2YXIgcj1bdCx0LHQsMCwwLHQsdCx0LDAsMCx0LHQsdCwwLDAsMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KHIsZSl9LGUucHJvdG90eXBlLmJsYWNrQW5kV2hpdGU9ZnVuY3Rpb24odCl7dmFyIGU9Wy4zLC42LC4xLDAsMCwuMywuNiwuMSwwLDAsLjMsLjYsLjEsMCwwLDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChlLHQpfSxlLnByb3RvdHlwZS5odWU9ZnVuY3Rpb24odCxlKXt0PSh0fHwwKS8xODAqTWF0aC5QSTt2YXIgcj1NYXRoLmNvcyh0KSxuPU1hdGguc2luKHQpLGk9TWF0aC5zcXJ0LG89MS8zLHM9aShvKSxhPXIrKDEtcikqbyx1PW8qKDEtciktcypuLGg9byooMS1yKStzKm4sbD1vKigxLXIpK3MqbixjPXIrbyooMS1yKSxkPW8qKDEtciktcypuLGY9byooMS1yKS1zKm4scD1vKigxLXIpK3Mqbix2PXIrbyooMS1yKSxnPVthLHUsaCwwLDAsbCxjLGQsMCwwLGYscCx2LDAsMCwwLDAsMCwxLDBdO3RoaXMuX2xvYWRNYXRyaXgoZyxlKX0sZS5wcm90b3R5cGUuY29udHJhc3Q9ZnVuY3Rpb24odCxlKXt2YXIgcj0odHx8MCkrMSxuPS0uNSooci0xKSxpPVtyLDAsMCwwLG4sMCxyLDAsMCxuLDAsMCxyLDAsbiwwLDAsMCwxLDBdO3RoaXMuX2xvYWRNYXRyaXgoaSxlKX0sZS5wcm90b3R5cGUuc2F0dXJhdGU9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxlPWFyZ3VtZW50c1sxXSxyPTIqdC8zKzEsbj0tLjUqKHItMSksaT1bcixuLG4sMCwwLG4scixuLDAsMCxuLG4sciwwLDAsMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KGksZSl9LGUucHJvdG90eXBlLmRlc2F0dXJhdGU9ZnVuY3Rpb24oKXt0aGlzLnNhdHVyYXRlKC0xKX0sZS5wcm90b3R5cGUubmVnYXRpdmU9ZnVuY3Rpb24odCl7dmFyIGU9Wy0xLDAsMCwxLDAsMCwtMSwwLDEsMCwwLDAsLTEsMSwwLDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChlLHQpfSxlLnByb3RvdHlwZS5zZXBpYT1mdW5jdGlvbih0KXt2YXIgZT1bLjM5MywuNzY4OTk5OSwuMTg4OTk5OTksMCwwLC4zNDksLjY4NTk5OTksLjE2Nzk5OTk5LDAsMCwuMjcyLC41MzM5OTk5LC4xMzA5OTk5OSwwLDAsMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KGUsdCl9LGUucHJvdG90eXBlLnRlY2huaWNvbG9yPWZ1bmN0aW9uKHQpe3ZhciBlPVsxLjkxMjUyNzc4OTE0NTYwODMsLS44NTQ1MzQ0OTc2OTUxNjQ1LC0uMDkxNTU1MDg0ODI3NTU1ODUsMCwxMS43OTM2MDM0MzQzNzczMzcsLS4zMDg3ODMzMzg1OTI4MDk3LDEuNzY1ODkwODU1NTQ1ODQyOCwtLjEwNjAxNzQzMDc0NzIyMjQ1LDAsLTcwLjM1MjA1MTYxNDYxMzk4LC0uMjMxMTAzMzc3NTQ4NjE2LC0uNzUwMTg5OTE5NzQ0MDIxMiwxLjg0NzU5NzgxNjEwODE4OSwwLDMwLjk1MDk0MDg2OTQ5MTEzOCwwLDAsMCwxLDBdO3RoaXMuX2xvYWRNYXRyaXgoZSx0KX0sZS5wcm90b3R5cGUucG9sYXJvaWQ9ZnVuY3Rpb24odCl7dmFyIGU9WzEuNDM4LC0uMDYyLC0uMDYyLDAsMCwtLjEyMiwxLjM3OCwtLjEyMiwwLDAsLS4wMTYsLS4wMTYsMS40ODMsMCwwLDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChlLHQpfSxlLnByb3RvdHlwZS50b0JHUj1mdW5jdGlvbih0KXt2YXIgZT1bMCwwLDEsMCwwLDAsMSwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KGUsdCl9LGUucHJvdG90eXBlLmtvZGFjaHJvbWU9ZnVuY3Rpb24odCl7dmFyIGU9WzEuMTI4NTU4MjM5NjU5MzUyNSwtLjM5NjczODIyODM2MDEzNDgsLS4wMzk5MjU1OTE3MjkyMTc5MywwLDYzLjcyOTU4NzYyMTk2NTAyLC0uMTY0MDQzMzk5NjIyNDQ2MTYsMS4wODM1MjUxNTY2MjkxMzA0LC0uMDU0OTg4MDUxMTU2MzMxMzIsMCwyNC43MzI0MDc4OTY3MDYyMDMsLS4xNjc4NjAxMDcwNjE1NTc2MywtLjU2MDM0MTYyNzc2OTUyNDgsMS42MDE0ODUwNzYxOTY0OTQzLDAsMzUuNjI5ODI4MDc0NjA5NDYsMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KGUsdCl9LGUucHJvdG90eXBlLmJyb3duaT1mdW5jdGlvbih0KXt2YXIgZT1bLjU5OTcwMjM0OTgxNTk3MTUsLjM0NTUzMjQzMDQ4MzkxMjYzLC0uMjcwODI5ODY3NDUzODA0MiwwLDQ3LjQzMTkyODU1NjAwODczLC0uMDM3NzAzMjQ5ODM3NzgzMTU3LC44NjA5NTc3NTg3OTkyNjQxLC4xNTA1OTU1MjM4ODQ1OTkxMywwLC0zNi45Njg0MTQ5ODMxOTEyNywuMjQxMTM2MzUxMjgxNTMzMzUsLS4wNzQ0MTAzNzkwODQyMjQ5MiwuNDQ5NzIxODIwNjQ4NzcxNTMsMCwtNy41NjIwNzUyNzc1OTEyODMsMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KGUsdCl9LGUucHJvdG90eXBlLnZpbnRhZ2U9ZnVuY3Rpb24odCl7dmFyIGU9Wy42Mjc5MzQ1NjM1NjA1OTk0LC4zMjAyMTgzNDIwODE5MzY3LC0uMDM5NjU0MDgyMTEzMTI0NTMsMCw5LjY1MTI4NTgzNTI5NDEyMywuMDI1NzgzOTc3MDQ4MDg4NjgsLjY0NDExODg2NDQzNzQ3NzEsLjAzMjU5MTI3NjE2MTQ5Mjk0LDAsNy40NjI4MjkxNzY0NzA1OTEsLjA0NjYwNTU1NTY3ODI3MTksLS4wODUxMjMyOTg3MjQ3ODkxLC41MjQxNjQ4MDE4NzAwNDY1LDAsNS4xNTkxOTA1ODgyMzUyOTYsMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KGUsdCl9LGUucHJvdG90eXBlLmNvbG9yVG9uZT1mdW5jdGlvbih0LGUscixuLGkpe3Q9dHx8LjIsZT1lfHwuMTUscj1yfHwxNjc3MDQzMixuPW58fDMzNzUxMDQ7dmFyIG89KHI+PjE2JjI1NSkvMjU1LHM9KHI+PjgmMjU1KS8yNTUsYT0oMjU1JnIpLzI1NSx1PShuPj4xNiYyNTUpLzI1NSxoPShuPj44JjI1NSkvMjU1LGw9KDI1NSZuKS8yNTUsYz1bLjMsLjU5LC4xMSwwLDAsbyxzLGEsdCwwLHUsaCxsLGUsMCxvLXUscy1oLGEtbCwwLDBdO3RoaXMuX2xvYWRNYXRyaXgoYyxpKX0sZS5wcm90b3R5cGUubmlnaHQ9ZnVuY3Rpb24odCxlKXt0PXR8fC4xO3ZhciByPVstMip0LC10LDAsMCwwLC10LDAsdCwwLDAsMCx0LDIqdCwwLDAsMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KHIsZSl9LGUucHJvdG90eXBlLnByZWRhdG9yPWZ1bmN0aW9uKHQsZSl7dmFyIHI9WzExLjIyNDEzMDYzMDQ5MzE2NCp0LC00Ljc5NDQ4Njk5OTUxMTcxOSp0LC0yLjg3NDYxMTg1NDU1MzIyMjcqdCwwKnQsLjQwMzQyNDM4MjIwOTc3NzgzKnQsLTMuNjMzMDY5NzUzNjQ2ODUwNip0LDkuMTkzMTU3MTk2MDQ0OTIyKnQsLTIuOTUxODEwODM2NzkxOTkyKnQsMCp0LC0xLjMxNjEzNTA0ODg2NjI3Mip0LC0zLjIxODQxOTc5MDI2Nzk0NDMqdCwtNC4yMzc1MDMwNTE3NTc4MTI1KnQsNy40NzY0NDgwNTkwODIwMzEqdCwwKnQsLjgwNDQ0NTkyMjM3NDcyNTMqdCwwLDAsMCwxLDBdO3RoaXMuX2xvYWRNYXRyaXgocixlKX0sZS5wcm90b3R5cGUubHNkPWZ1bmN0aW9uKHQpe3ZhciBlPVsyLC0uNCwuNSwwLDAsLS41LDIsLS40LDAsMCwtLjQsLS41LDMsMCwwLDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChlLHQpfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciB0PVsxLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwxLDBdO3RoaXMuX2xvYWRNYXRyaXgodCwhMSl9LHMoZSxbe2tleTpcXFwibWF0cml4XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5tfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy51bmlmb3Jtcy5tPXR9fSx7a2V5OlxcXCJhbHBoYVxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhfSxcXG5zZXQ6ZnVuY3Rpb24odCl7dGhpcy51bmlmb3Jtcy51QWxwaGE9dH19XSksZX0odS5GaWx0ZXIpKTtyLmRlZmF1bHQ9aCxoLnByb3RvdHlwZS5ncmF5c2NhbGU9aC5wcm90b3R5cGUuZ3JleXNjYWxlfSx7XFxcIi4uLy4uL2NvcmVcXFwiOjY1LHBhdGg6OH1dLDE1MTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxhPXQoXFxcIi4uLy4uL2NvcmVcXFwiKSx1PWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0oYSksaD0odChcXFwicGF0aFxcXCIpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixvKXtuKHRoaXMsZSk7dmFyIHM9bmV3IHUuTWF0cml4O3IucmVuZGVyYWJsZT0hMTt2YXIgYT1pKHRoaXMsdC5jYWxsKHRoaXMsXFxcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXFxcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxcXG5cXFxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcXFxudW5pZm9ybSBtYXQzIGZpbHRlck1hdHJpeDtcXFxcblxcXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxcXG52YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcXFxuXFxcXG52b2lkIG1haW4odm9pZClcXFxcbntcXFxcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcXFxuICAgdkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcXFxuICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxcXG59XFxcIixcXFwidmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXFxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXFxuXFxcXG51bmlmb3JtIHZlYzIgc2NhbGU7XFxcXG5cXFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcXFxudW5pZm9ybSBzYW1wbGVyMkQgbWFwU2FtcGxlcjtcXFxcblxcXFxudW5pZm9ybSB2ZWM0IGZpbHRlckFyZWE7XFxcXG51bmlmb3JtIHZlYzQgZmlsdGVyQ2xhbXA7XFxcXG5cXFxcbnZvaWQgbWFpbih2b2lkKVxcXFxue1xcXFxuICB2ZWM0IG1hcCA9ICB0ZXh0dXJlMkQobWFwU2FtcGxlciwgdkZpbHRlckNvb3JkKTtcXFxcblxcXFxuICBtYXAgLT0gMC41O1xcXFxuICBtYXAueHkgKj0gc2NhbGUgLyBmaWx0ZXJBcmVhLnh5O1xcXFxuXFxcXG4gIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY2xhbXAodmVjMih2VGV4dHVyZUNvb3JkLnggKyBtYXAueCwgdlRleHR1cmVDb29yZC55ICsgbWFwLnkpLCBmaWx0ZXJDbGFtcC54eSwgZmlsdGVyQ2xhbXAuencpKTtcXFxcbn1cXFxcblxcXCIpKTtyZXR1cm4gYS5tYXNrU3ByaXRlPXIsYS5tYXNrTWF0cml4PXMsYS51bmlmb3Jtcy5tYXBTYW1wbGVyPXIuX3RleHR1cmUsYS51bmlmb3Jtcy5maWx0ZXJNYXRyaXg9cyxhLnVuaWZvcm1zLnNjYWxlPXt4OjEseToxfSxudWxsIT09byYmdm9pZCAwIT09b3x8KG89MjApLGEuc2NhbGU9bmV3IHUuUG9pbnQobyxvKSxhfXJldHVybiBvKGUsdCksZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxlLHIpe3RoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4PXQuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCx0aGlzLm1hc2tTcHJpdGUpLHRoaXMudW5pZm9ybXMuc2NhbGUueD10aGlzLnNjYWxlLngsdGhpcy51bmlmb3Jtcy5zY2FsZS55PXRoaXMuc2NhbGUueSx0LmFwcGx5RmlsdGVyKHRoaXMsZSxyKX0scyhlLFt7a2V5OlxcXCJtYXBcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXI9dH19XSksZX0odS5GaWx0ZXIpKTtyLmRlZmF1bHQ9aH0se1xcXCIuLi8uLi9jb3JlXFxcIjo2NSxwYXRoOjh9XSwxNTI6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHM9dChcXFwiLi4vLi4vY29yZVxcXCIpLGE9ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShzKSx1PSh0KFxcXCJwYXRoXFxcIiksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBuKHRoaXMsZSksaSh0aGlzLHQuY2FsbCh0aGlzLFxcXCJcXFxcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXFxcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxcXG5cXFxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcXFxuXFxcXG52YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXFxcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcXFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXFxcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxcXG5cXFxcbnVuaWZvcm0gdmVjNCBmaWx0ZXJBcmVhO1xcXFxuXFxcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXFxcblxcXFxudmVjMiBtYXBDb29yZCggdmVjMiBjb29yZCApXFxcXG57XFxcXG4gICAgY29vcmQgKj0gZmlsdGVyQXJlYS54eTtcXFxcbiAgICBjb29yZCArPSBmaWx0ZXJBcmVhLnp3O1xcXFxuXFxcXG4gICAgcmV0dXJuIGNvb3JkO1xcXFxufVxcXFxuXFxcXG52ZWMyIHVubWFwQ29vcmQoIHZlYzIgY29vcmQgKVxcXFxue1xcXFxuICAgIGNvb3JkIC09IGZpbHRlckFyZWEuenc7XFxcXG4gICAgY29vcmQgLz0gZmlsdGVyQXJlYS54eTtcXFxcblxcXFxuICAgIHJldHVybiBjb29yZDtcXFxcbn1cXFxcblxcXFxudm9pZCB0ZXhjb29yZHModmVjMiBmcmFnQ29vcmQsIHZlYzIgcmVzb2x1dGlvbixcXFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTlcsIG91dCB2ZWMyIHZfcmdiTkUsXFxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYlNXLCBvdXQgdmVjMiB2X3JnYlNFLFxcXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JNKSB7XFxcXG4gICAgdmVjMiBpbnZlcnNlVlAgPSAxLjAgLyByZXNvbHV0aW9uLnh5O1xcXFxuICAgIHZfcmdiTlcgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxcXG4gICAgdl9yZ2JORSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcXFxuICAgIHZfcmdiU1cgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXFxcbiAgICB2X3JnYlNFID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXFxcbiAgICB2X3JnYk0gPSB2ZWMyKGZyYWdDb29yZCAqIGludmVyc2VWUCk7XFxcXG59XFxcXG5cXFxcbnZvaWQgbWFpbih2b2lkKSB7XFxcXG5cXFxcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcXFxuXFxcXG4gICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXFxcblxcXFxuICAgdmVjMiBmcmFnQ29vcmQgPSB2VGV4dHVyZUNvb3JkICogZmlsdGVyQXJlYS54eTtcXFxcblxcXFxuICAgdGV4Y29vcmRzKGZyYWdDb29yZCwgZmlsdGVyQXJlYS54eSwgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXFxcbn1cXFwiLCd2YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXFxcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcXFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXFxcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxcXG5cXFxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxcXG51bmlmb3JtIHZlYzQgZmlsdGVyQXJlYTtcXFxcblxcXFxuLyoqXFxcXG4gQmFzaWMgRlhBQSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbSB3aXRoIHRoZVxcXFxuIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXRcXFxcJ3NcXFxcbiB1bnN1cHBvcnRlZCBieSBXZWJHTC5cXFxcbiBcXFxcbiAtLVxcXFxuIFxcXFxuIEZyb206XFxcXG4gaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcXFxcbiBcXFxcbiBDb3B5cmlnaHQgKGMpIDIwMTEgYnkgQXJtaW4gUm9uYWNoZXIuXFxcXG4gXFxcXG4gU29tZSByaWdodHMgcmVzZXJ2ZWQuXFxcXG4gXFxcXG4gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XFxcXG4gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxcXFxuIG1ldDpcXFxcbiBcXFxcbiAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XFxcXG4gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxcXFxuIFxcXFxuICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxcXFxuIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXFxcXG4gZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXFxcXG4gd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxcXFxuIFxcXFxuICogVGhlIG5hbWVzIG9mIHRoZSBjb250cmlidXRvcnMgbWF5IG5vdCBiZSB1c2VkIHRvIGVuZG9yc2Ugb3JcXFxcbiBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWNcXFxcbiBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXFxcXG4gXFxcXG4gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xcXFxuIFxcXCJBUyBJU1xcXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXFxcXG4gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXFxcXG4gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcXFxcbiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcXFxcbiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXFxcXG4gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXFxcXG4gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXFxcXG4gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxcXFxuIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxcXFxuIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXFxcXG4gKi9cXFxcblxcXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NSU5cXFxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTUlOICAgKDEuMC8gMTI4LjApXFxcXG4jZW5kaWZcXFxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTVVMXFxcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01VTCAgICgxLjAgLyA4LjApXFxcXG4jZW5kaWZcXFxcbiNpZm5kZWYgRlhBQV9TUEFOX01BWFxcXFxuI2RlZmluZSBGWEFBX1NQQU5fTUFYICAgICA4LjBcXFxcbiNlbmRpZlxcXFxuXFxcXG4vL29wdGltaXplZCB2ZXJzaW9uIGZvciBtb2JpbGUsIHdoZXJlIGRlcGVuZGVudFxcXFxuLy90ZXh0dXJlIHJlYWRzIGNhbiBiZSBhIGJvdHRsZW5lY2tcXFxcbnZlYzQgZnhhYShzYW1wbGVyMkQgdGV4LCB2ZWMyIGZyYWdDb29yZCwgdmVjMiByZXNvbHV0aW9uLFxcXFxuICAgICAgICAgIHZlYzIgdl9yZ2JOVywgdmVjMiB2X3JnYk5FLFxcXFxuICAgICAgICAgIHZlYzIgdl9yZ2JTVywgdmVjMiB2X3JnYlNFLFxcXFxuICAgICAgICAgIHZlYzIgdl9yZ2JNKSB7XFxcXG4gICAgdmVjNCBjb2xvcjtcXFxcbiAgICBtZWRpdW1wIHZlYzIgaW52ZXJzZVZQID0gdmVjMigxLjAgLyByZXNvbHV0aW9uLngsIDEuMCAvIHJlc29sdXRpb24ueSk7XFxcXG4gICAgdmVjMyByZ2JOVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTlcpLnh5ejtcXFxcbiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JORSkueHl6O1xcXFxuICAgIHZlYzMgcmdiU1cgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNXKS54eXo7XFxcXG4gICAgdmVjMyByZ2JTRSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU0UpLnh5ejtcXFxcbiAgICB2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JNKTtcXFxcbiAgICB2ZWMzIHJnYk0gID0gdGV4Q29sb3IueHl6O1xcXFxuICAgIHZlYzMgbHVtYSA9IHZlYzMoMC4yOTksIDAuNTg3LCAwLjExNCk7XFxcXG4gICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTtcXFxcbiAgICBmbG9hdCBsdW1hTkUgPSBkb3QocmdiTkUsIGx1bWEpO1xcXFxuICAgIGZsb2F0IGx1bWFTVyA9IGRvdChyZ2JTVywgbHVtYSk7XFxcXG4gICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTtcXFxcbiAgICBmbG9hdCBsdW1hTSAgPSBkb3QocmdiTSwgIGx1bWEpO1xcXFxuICAgIGZsb2F0IGx1bWFNaW4gPSBtaW4obHVtYU0sIG1pbihtaW4obHVtYU5XLCBsdW1hTkUpLCBtaW4obHVtYVNXLCBsdW1hU0UpKSk7XFxcXG4gICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTtcXFxcbiAgICBcXFxcbiAgICBtZWRpdW1wIHZlYzIgZGlyO1xcXFxuICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTtcXFxcbiAgICBkaXIueSA9ICAoKGx1bWFOVyArIGx1bWFTVykgLSAobHVtYU5FICsgbHVtYVNFKSk7XFxcXG4gICAgXFxcXG4gICAgZmxvYXQgZGlyUmVkdWNlID0gbWF4KChsdW1hTlcgKyBsdW1hTkUgKyBsdW1hU1cgKyBsdW1hU0UpICpcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKDAuMjUgKiBGWEFBX1JFRFVDRV9NVUwpLCBGWEFBX1JFRFVDRV9NSU4pO1xcXFxuICAgIFxcXFxuICAgIGZsb2F0IHJjcERpck1pbiA9IDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpO1xcXFxuICAgIGRpciA9IG1pbih2ZWMyKEZYQUFfU1BBTl9NQVgsIEZYQUFfU1BBTl9NQVgpLFxcXFxuICAgICAgICAgICAgICBtYXgodmVjMigtRlhBQV9TUEFOX01BWCwgLUZYQUFfU1BBTl9NQVgpLFxcXFxuICAgICAgICAgICAgICAgICAgZGlyICogcmNwRGlyTWluKSkgKiBpbnZlcnNlVlA7XFxcXG4gICAgXFxcXG4gICAgdmVjMyByZ2JBID0gMC41ICogKFxcXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMS4wIC8gMy4wIC0gMC41KSkueHl6ICtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDIuMCAvIDMuMCAtIDAuNSkpLnh5eik7XFxcXG4gICAgdmVjMyByZ2JCID0gcmdiQSAqIDAuNSArIDAuMjUgKiAoXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogLTAuNSkueHl6ICtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAwLjUpLnh5eik7XFxcXG4gICAgXFxcXG4gICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7XFxcXG4gICAgaWYgKChsdW1hQiA8IGx1bWFNaW4pIHx8IChsdW1hQiA+IGx1bWFNYXgpKVxcXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQSwgdGV4Q29sb3IuYSk7XFxcXG4gICAgZWxzZVxcXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQiwgdGV4Q29sb3IuYSk7XFxcXG4gICAgcmV0dXJuIGNvbG9yO1xcXFxufVxcXFxuXFxcXG52b2lkIG1haW4oKSB7XFxcXG5cXFxcbiAgICAgIHZlYzIgZnJhZ0Nvb3JkID0gdlRleHR1cmVDb29yZCAqIGZpbHRlckFyZWEueHk7XFxcXG5cXFxcbiAgICAgIHZlYzQgY29sb3I7XFxcXG5cXFxcbiAgICBjb2xvciA9IGZ4YWEodVNhbXBsZXIsIGZyYWdDb29yZCwgZmlsdGVyQXJlYS54eSwgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXFxcblxcXFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxcXG59XFxcXG4nKSl9cmV0dXJuIG8oZSx0KSxlfShhLkZpbHRlcikpO3IuZGVmYXVsdD11fSx7XFxcIi4uLy4uL2NvcmVcXFwiOjY1LHBhdGg6OH1dLDE1MzpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcXFwiLi9meGFhL0ZYQUFGaWx0ZXJcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiRlhBQUZpbHRlclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oaSkuZGVmYXVsdH19KTt2YXIgbz10KFxcXCIuL25vaXNlL05vaXNlRmlsdGVyXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIk5vaXNlRmlsdGVyXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihvKS5kZWZhdWx0fX0pO3ZhciBzPXQoXFxcIi4vZGlzcGxhY2VtZW50L0Rpc3BsYWNlbWVudEZpbHRlclxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJEaXNwbGFjZW1lbnRGaWx0ZXJcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKHMpLmRlZmF1bHR9fSk7dmFyIGE9dChcXFwiLi9ibHVyL0JsdXJGaWx0ZXJcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiQmx1ckZpbHRlclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oYSkuZGVmYXVsdH19KTt2YXIgdT10KFxcXCIuL2JsdXIvQmx1clhGaWx0ZXJcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiQmx1clhGaWx0ZXJcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKHUpLmRlZmF1bHR9fSk7dmFyIGg9dChcXFwiLi9ibHVyL0JsdXJZRmlsdGVyXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkJsdXJZRmlsdGVyXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihoKS5kZWZhdWx0fX0pO3ZhciBsPXQoXFxcIi4vY29sb3JtYXRyaXgvQ29sb3JNYXRyaXhGaWx0ZXJcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiQ29sb3JNYXRyaXhGaWx0ZXJcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGwpLmRlZmF1bHR9fSk7dmFyIGM9dChcXFwiLi9hbHBoYS9BbHBoYUZpbHRlclxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJBbHBoYUZpbHRlclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oYykuZGVmYXVsdH19KX0se1xcXCIuL2FscGhhL0FscGhhRmlsdGVyXFxcIjoxNDMsXFxcIi4vYmx1ci9CbHVyRmlsdGVyXFxcIjoxNDQsXFxcIi4vYmx1ci9CbHVyWEZpbHRlclxcXCI6MTQ1LFxcXCIuL2JsdXIvQmx1cllGaWx0ZXJcXFwiOjE0NixcXFwiLi9jb2xvcm1hdHJpeC9Db2xvck1hdHJpeEZpbHRlclxcXCI6MTUwLFxcXCIuL2Rpc3BsYWNlbWVudC9EaXNwbGFjZW1lbnRGaWx0ZXJcXFwiOjE1MSxcXFwiLi9meGFhL0ZYQUFGaWx0ZXJcXFwiOjE1MixcXFwiLi9ub2lzZS9Ob2lzZUZpbHRlclxcXCI6MTU0fV0sMTU0OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGE9dChcXFwiLi4vLi4vY29yZVxcXCIpLHU9ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShhKSxoPSh0KFxcXCJwYXRoXFxcIiksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTouNSxvPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpNYXRoLnJhbmRvbSgpO24odGhpcyxlKTt2YXIgcz1pKHRoaXMsdC5jYWxsKHRoaXMsXFxcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXFxcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxcXG5cXFxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcXFxuXFxcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXFxcblxcXFxudm9pZCBtYWluKHZvaWQpXFxcXG57XFxcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxcXG59XFxcIixcXFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcXFxuXFxcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXFxcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxcXG5cXFxcbnVuaWZvcm0gZmxvYXQgdU5vaXNlO1xcXFxudW5pZm9ybSBmbG9hdCB1U2VlZDtcXFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcXFxuXFxcXG5mbG9hdCByYW5kKHZlYzIgY28pXFxcXG57XFxcXG4gICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7XFxcXG59XFxcXG5cXFxcbnZvaWQgbWFpbigpXFxcXG57XFxcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxcXG4gICAgZmxvYXQgcmFuZG9tVmFsdWUgPSByYW5kKGdsX0ZyYWdDb29yZC54eSAqIHVTZWVkKTtcXFxcbiAgICBmbG9hdCBkaWZmID0gKHJhbmRvbVZhbHVlIC0gMC41KSAqIHVOb2lzZTtcXFxcblxcXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxcXG4gICAgaWYgKGNvbG9yLmEgPiAwLjApIHtcXFxcbiAgICAgICAgY29sb3IucmdiIC89IGNvbG9yLmE7XFxcXG4gICAgfVxcXFxuXFxcXG4gICAgY29sb3IuciArPSBkaWZmO1xcXFxuICAgIGNvbG9yLmcgKz0gZGlmZjtcXFxcbiAgICBjb2xvci5iICs9IGRpZmY7XFxcXG5cXFxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXFxcbiAgICBjb2xvci5yZ2IgKj0gY29sb3IuYTtcXFxcblxcXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcXFxufVxcXFxuXFxcIikpO3JldHVybiBzLm5vaXNlPXIscy5zZWVkPW8sc31yZXR1cm4gbyhlLHQpLHMoZSxbe2tleTpcXFwibm9pc2VcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLnVOb2lzZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudW5pZm9ybXMudU5vaXNlPXR9fSx7a2V5OlxcXCJzZWVkXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy51U2VlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudW5pZm9ybXMudVNlZWQ9dH19XSksZX0odS5GaWx0ZXIpKTtyLmRlZmF1bHQ9aH0se1xcXCIuLi8uLi9jb3JlXFxcIjo2NSxwYXRoOjh9XSwxNTU6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxvPXQoXFxcIi4uL2NvcmVcXFwiKSxzPWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0obyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtuKHRoaXMsdCksdGhpcy5nbG9iYWw9bmV3IHMuUG9pbnQsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLm9yaWdpbmFsRXZlbnQ9bnVsbCx0aGlzLmlkZW50aWZpZXI9bnVsbCx0aGlzLmlzUHJpbWFyeT0hMSx0aGlzLmJ1dHRvbj0wLHRoaXMuYnV0dG9ucz0wLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMudGlsdFg9MCx0aGlzLnRpbHRZPTAsdGhpcy5wb2ludGVyVHlwZT1udWxsLHRoaXMucHJlc3N1cmU9MCx0aGlzLnJvdGF0aW9uQW5nbGU9MCx0aGlzLnR3aXN0PTAsdGhpcy50YW5nZW50aWFsUHJlc3N1cmU9MH1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0TG9jYWxQb3NpdGlvbj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHJ8fHRoaXMuZ2xvYmFsLGUpfSx0LnByb3RvdHlwZS5jb3B5RXZlbnQ9ZnVuY3Rpb24odCl7dC5pc1ByaW1hcnkmJih0aGlzLmlzUHJpbWFyeT0hMCksdGhpcy5idXR0b249dC5idXR0b24sdGhpcy5idXR0b25zPU51bWJlci5pc0ludGVnZXIodC5idXR0b25zKT90LmJ1dHRvbnM6dC53aGljaCx0aGlzLndpZHRoPXQud2lkdGgsdGhpcy5oZWlnaHQ9dC5oZWlnaHQsdGhpcy50aWx0WD10LnRpbHRYLHRoaXMudGlsdFk9dC50aWx0WSx0aGlzLnBvaW50ZXJUeXBlPXQucG9pbnRlclR5cGUsdGhpcy5wcmVzc3VyZT10LnByZXNzdXJlLHRoaXMucm90YXRpb25BbmdsZT10LnJvdGF0aW9uQW5nbGUsdGhpcy50d2lzdD10LnR3aXN0fHwwLHRoaXMudGFuZ2VudGlhbFByZXNzdXJlPXQudGFuZ2VudGlhbFByZXNzdXJlfHwwfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuaXNQcmltYXJ5PSExfSxpKHQsW3trZXk6XFxcInBvaW50ZXJJZFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWRlbnRpZmllcn19XSksdH0oKTtyLmRlZmF1bHQ9YX0se1xcXCIuLi9jb3JlXFxcIjo2NX1dLDE1NjpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe24odGhpcyx0KSx0aGlzLnN0b3BwZWQ9ITEsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLmN1cnJlbnRUYXJnZXQ9bnVsbCx0aGlzLnR5cGU9bnVsbCx0aGlzLmRhdGE9bnVsbH1yZXR1cm4gdC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5zdG9wcGVkPSEwfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuc3RvcHBlZD0hMSx0aGlzLmN1cnJlbnRUYXJnZXQ9bnVsbCx0aGlzLnRhcmdldD1udWxsfSx0fSgpO3IuZGVmYXVsdD1pfSx7fV0sMTU3OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBTeW1ib2wmJlxcXCJzeW1ib2xcXFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1xcXCJzeW1ib2xcXFwiOnR5cGVvZiB0fSx1PXQoXFxcIi4uL2NvcmVcXFwiKSxoPWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0odSksbD10KFxcXCIuL0ludGVyYWN0aW9uRGF0YVxcXCIpLGM9bihsKSxkPXQoXFxcIi4vSW50ZXJhY3Rpb25FdmVudFxcXCIpLGY9bihkKSxwPXQoXFxcIi4vSW50ZXJhY3Rpb25UcmFja2luZ0RhdGFcXFwiKSx2PW4ocCksZz10KFxcXCJldmVudGVtaXR0ZXIzXFxcIikseT1uKGcpLG09dChcXFwiLi9pbnRlcmFjdGl2ZVRhcmdldFxcXCIpLF89bihtKTtoLnV0aWxzLm1peGlucy5kZWxheU1peGluKGguRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXy5kZWZhdWx0KTt2YXIgYj0xLHg9e3RhcmdldDpudWxsLGRhdGE6e2dsb2JhbDpudWxsfX0sVD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbil7aSh0aGlzLGUpO3ZhciBzPW8odGhpcyx0LmNhbGwodGhpcykpO3JldHVybiBuPW58fHt9LHMucmVuZGVyZXI9cixzLmF1dG9QcmV2ZW50RGVmYXVsdD12b2lkIDA9PT1uLmF1dG9QcmV2ZW50RGVmYXVsdHx8bi5hdXRvUHJldmVudERlZmF1bHQscy5pbnRlcmFjdGlvbkZyZXF1ZW5jeT1uLmludGVyYWN0aW9uRnJlcXVlbmN5fHwxMCxzLm1vdXNlPW5ldyBjLmRlZmF1bHQscy5tb3VzZS5pZGVudGlmaWVyPWIscy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpLHMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhPXt9LHMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2JdPXMubW91c2Uscy5pbnRlcmFjdGlvbkRhdGFQb29sPVtdLHMuZXZlbnREYXRhPW5ldyBmLmRlZmF1bHQscy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQ9bnVsbCxzLm1vdmVXaGVuSW5zaWRlPSExLHMuZXZlbnRzQWRkZWQ9ITEscy5tb3VzZU92ZXJSZW5kZXJlcj0hMSxzLnN1cHBvcnRzVG91Y2hFdmVudHM9XFxcIm9udG91Y2hzdGFydFxcXCJpbiB3aW5kb3cscy5zdXBwb3J0c1BvaW50ZXJFdmVudHM9ISF3aW5kb3cuUG9pbnRlckV2ZW50LHMub25Qb2ludGVyVXA9cy5vblBvaW50ZXJVcC5iaW5kKHMpLHMucHJvY2Vzc1BvaW50ZXJVcD1zLnByb2Nlc3NQb2ludGVyVXAuYmluZChzKSxzLm9uUG9pbnRlckNhbmNlbD1zLm9uUG9pbnRlckNhbmNlbC5iaW5kKHMpLHMucHJvY2Vzc1BvaW50ZXJDYW5jZWw9cy5wcm9jZXNzUG9pbnRlckNhbmNlbC5iaW5kKHMpLHMub25Qb2ludGVyRG93bj1zLm9uUG9pbnRlckRvd24uYmluZChzKSxzLnByb2Nlc3NQb2ludGVyRG93bj1zLnByb2Nlc3NQb2ludGVyRG93bi5iaW5kKHMpLHMub25Qb2ludGVyTW92ZT1zLm9uUG9pbnRlck1vdmUuYmluZChzKSxzLnByb2Nlc3NQb2ludGVyTW92ZT1zLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKHMpLHMub25Qb2ludGVyT3V0PXMub25Qb2ludGVyT3V0LmJpbmQocykscy5wcm9jZXNzUG9pbnRlck92ZXJPdXQ9cy5wcm9jZXNzUG9pbnRlck92ZXJPdXQuYmluZChzKSxzLm9uUG9pbnRlck92ZXI9cy5vblBvaW50ZXJPdmVyLmJpbmQocykscy5jdXJzb3JTdHlsZXM9e2RlZmF1bHQ6XFxcImluaGVyaXRcXFwiLHBvaW50ZXI6XFxcInBvaW50ZXJcXFwifSxzLmN1cnJlbnRDdXJzb3JNb2RlPW51bGwscy5jdXJzb3I9bnVsbCxzLl90ZW1wUG9pbnQ9bmV3IGguUG9pbnQscy5yZXNvbHV0aW9uPTEscy5zZXRUYXJnZXRFbGVtZW50KHMucmVuZGVyZXIudmlldyxzLnJlbmRlcmVyLnJlc29sdXRpb24pLHN9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5oaXRUZXN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHgudGFyZ2V0PW51bGwseC5kYXRhLmdsb2JhbD10LGV8fChlPXRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCksdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoeCxlLG51bGwsITApLHgudGFyZ2V0fSxlLnByb3RvdHlwZS5zZXRUYXJnZXRFbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxO3RoaXMucmVtb3ZlRXZlbnRzKCksdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQ9dCx0aGlzLnJlc29sdXRpb249ZSx0aGlzLmFkZEV2ZW50cygpfSxlLnByb3RvdHlwZS5hZGRFdmVudHM9ZnVuY3Rpb24oKXt0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCYmKGgudGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsdGhpcyxoLlVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTiksd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkPyh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVtcXFwiLW1zLWNvbnRlbnQtem9vbWluZ1xcXCJdPVxcXCJub25lXFxcIix0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVtcXFwiLW1zLXRvdWNoLWFjdGlvblxcXCJdPVxcXCJub25lXFxcIik6dGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMmJih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVtcXFwidG91Y2gtYWN0aW9uXFxcIl09XFxcIm5vbmVcXFwiKSx0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cz8od2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXFxcInBvaW50ZXJtb3ZlXFxcIix0aGlzLm9uUG9pbnRlck1vdmUsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXFxcInBvaW50ZXJkb3duXFxcIix0aGlzLm9uUG9pbnRlckRvd24sITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXFxcInBvaW50ZXJsZWF2ZVxcXCIsdGhpcy5vblBvaW50ZXJPdXQsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXFxcInBvaW50ZXJvdmVyXFxcIix0aGlzLm9uUG9pbnRlck92ZXIsITApLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxcXCJwb2ludGVyY2FuY2VsXFxcIix0aGlzLm9uUG9pbnRlckNhbmNlbCwhMCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXFxcInBvaW50ZXJ1cFxcXCIsdGhpcy5vblBvaW50ZXJVcCwhMCkpOih3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcXFwibW91c2Vtb3ZlXFxcIix0aGlzLm9uUG9pbnRlck1vdmUsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXFxcIm1vdXNlZG93blxcXCIsdGhpcy5vblBvaW50ZXJEb3duLCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxcXCJtb3VzZW91dFxcXCIsdGhpcy5vblBvaW50ZXJPdXQsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXFxcIm1vdXNlb3ZlclxcXCIsdGhpcy5vblBvaW50ZXJPdmVyLCEwKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcXFwibW91c2V1cFxcXCIsdGhpcy5vblBvaW50ZXJVcCwhMCkpLHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyYmKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXFxcInRvdWNoc3RhcnRcXFwiLHRoaXMub25Qb2ludGVyRG93biwhMCksdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcXFwidG91Y2hjYW5jZWxcXFwiLHRoaXMub25Qb2ludGVyQ2FuY2VsLCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxcXCJ0b3VjaGVuZFxcXCIsdGhpcy5vblBvaW50ZXJVcCwhMCksdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcXFwidG91Y2htb3ZlXFxcIix0aGlzLm9uUG9pbnRlck1vdmUsITApKSx0aGlzLmV2ZW50c0FkZGVkPSEwKX0sZS5wcm90b3R5cGUucmVtb3ZlRXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQmJihoLnRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLHRoaXMpLHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZD8odGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbXFxcIi1tcy1jb250ZW50LXpvb21pbmdcXFwiXT1cXFwiXFxcIix0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVtcXFwiLW1zLXRvdWNoLWFjdGlvblxcXCJdPVxcXCJcXFwiKTp0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyYmKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlW1xcXCJ0b3VjaC1hY3Rpb25cXFwiXT1cXFwiXFxcIiksdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHM/KHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJwb2ludGVybW92ZVxcXCIsdGhpcy5vblBvaW50ZXJNb3ZlLCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJwb2ludGVyZG93blxcXCIsdGhpcy5vblBvaW50ZXJEb3duLCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJwb2ludGVybGVhdmVcXFwiLHRoaXMub25Qb2ludGVyT3V0LCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJwb2ludGVyb3ZlclxcXCIsdGhpcy5vblBvaW50ZXJPdmVyLCEwKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwicG9pbnRlcmNhbmNlbFxcXCIsdGhpcy5vblBvaW50ZXJDYW5jZWwsITApLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJwb2ludGVydXBcXFwiLHRoaXMub25Qb2ludGVyVXAsITApKTood2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcIm1vdXNlbW92ZVxcXCIsdGhpcy5vblBvaW50ZXJNb3ZlLCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJtb3VzZWRvd25cXFwiLHRoaXMub25Qb2ludGVyRG93biwhMCksdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwibW91c2VvdXRcXFwiLHRoaXMub25Qb2ludGVyT3V0LCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJtb3VzZW92ZXJcXFwiLHRoaXMub25Qb2ludGVyT3ZlciwhMCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcIm1vdXNldXBcXFwiLHRoaXMub25Qb2ludGVyVXAsITApKSx0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMmJih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJ0b3VjaHN0YXJ0XFxcIix0aGlzLm9uUG9pbnRlckRvd24sITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcInRvdWNoY2FuY2VsXFxcIix0aGlzLm9uUG9pbnRlckNhbmNlbCwhMCksdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwidG91Y2hlbmRcXFwiLHRoaXMub25Qb2ludGVyVXAsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcInRvdWNobW92ZVxcXCIsdGhpcy5vblBvaW50ZXJNb3ZlLCEwKSksdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQ9bnVsbCx0aGlzLmV2ZW50c0FkZGVkPSExKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2RlbHRhVGltZSs9dCwhKHRoaXMuX2RlbHRhVGltZTx0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5KSYmKHRoaXMuX2RlbHRhVGltZT0wLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSl7aWYodGhpcy5kaWRNb3ZlKXJldHVybiB2b2lkKHRoaXMuZGlkTW92ZT0hMSk7dGhpcy5jdXJzb3I9bnVsbDtmb3IodmFyIGUgaW4gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEpaWYodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEuaGFzT3duUHJvcGVydHkoZSkpe3ZhciByPXRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2VdO2lmKHIub3JpZ2luYWxFdmVudCYmXFxcInRvdWNoXFxcIiE9PXIucG9pbnRlclR5cGUpe3ZhciBuPXRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLHIub3JpZ2luYWxFdmVudCxyKTt0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShuLHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCx0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwhMCl9fXRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcil9fSxlLnByb3RvdHlwZS5zZXRDdXJzb3JNb2RlPWZ1bmN0aW9uKHQpe2lmKHQ9dHx8XFxcImRlZmF1bHRcXFwiLHRoaXMuY3VycmVudEN1cnNvck1vZGUhPT10KXt0aGlzLmN1cnJlbnRDdXJzb3JNb2RlPXQ7dmFyIGU9dGhpcy5jdXJzb3JTdHlsZXNbdF07aWYoZSlzd2l0Y2godm9pZCAwPT09ZT9cXFwidW5kZWZpbmVkXFxcIjphKGUpKXtjYXNlXFxcInN0cmluZ1xcXCI6dGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yPWU7YnJlYWs7Y2FzZVxcXCJmdW5jdGlvblxcXCI6ZSh0KTticmVhaztjYXNlXFxcIm9iamVjdFxcXCI6T2JqZWN0LmFzc2lnbih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZSxlKX1lbHNlXFxcInN0cmluZ1xcXCIhPXR5cGVvZiB0fHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jdXJzb3JTdHlsZXMsdCl8fCh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3I9dCl9fSxlLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKHQsZSxyKXtyLnN0b3BwZWR8fChyLmN1cnJlbnRUYXJnZXQ9dCxyLnR5cGU9ZSx0LmVtaXQoZSxyKSx0W2VdJiZ0W2VdKHIpKX0sZS5wcm90b3R5cGUubWFwUG9zaXRpb25Ub1BvaW50PWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj12b2lkIDA7bj10aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5wYXJlbnRFbGVtZW50P3RoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOnt4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjB9O3ZhciBpPW5hdmlnYXRvci5pc0NvY29vbkpTP3RoaXMucmVzb2x1dGlvbjoxL3RoaXMucmVzb2x1dGlvbjt0Lng9KGUtbi5sZWZ0KSoodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQud2lkdGgvbi53aWR0aCkqaSx0Lnk9KHItbi50b3ApKih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5oZWlnaHQvbi5oZWlnaHQpKml9LGUucHJvdG90eXBlLnByb2Nlc3NJbnRlcmFjdGl2ZT1mdW5jdGlvbih0LGUscixuLGkpe2lmKCFlfHwhZS52aXNpYmxlKXJldHVybiExO3ZhciBvPXQuZGF0YS5nbG9iYWw7aT1lLmludGVyYWN0aXZlfHxpO3ZhciBzPSExLGE9aSx1PSEwO2lmKGUuaGl0QXJlYT8obiYmKGUud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKG8sdGhpcy5fdGVtcFBvaW50KSxlLmhpdEFyZWEuY29udGFpbnModGhpcy5fdGVtcFBvaW50LngsdGhpcy5fdGVtcFBvaW50LnkpP3M9ITA6KG49ITEsdT0hMSkpLGE9ITEpOmUuX21hc2smJm4mJihlLl9tYXNrLmNvbnRhaW5zUG9pbnQobyl8fChuPSExLHU9ITEpKSx1JiZlLmludGVyYWN0aXZlQ2hpbGRyZW4mJmUuY2hpbGRyZW4pZm9yKHZhciBoPWUuY2hpbGRyZW4sbD1oLmxlbmd0aC0xO2w+PTA7bC0tKXt2YXIgYz1oW2xdLGQ9dGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUodCxjLHIsbixhKTtpZihkKXtpZighYy5wYXJlbnQpY29udGludWU7YT0hMSxkJiYodC50YXJnZXQmJihuPSExKSxzPSEwKX19cmV0dXJuIGkmJihuJiYhdC50YXJnZXQmJiFlLmhpdEFyZWEmJmUuY29udGFpbnNQb2ludCYmZS5jb250YWluc1BvaW50KG8pJiYocz0hMCksZS5pbnRlcmFjdGl2ZSYmKHMmJiF0LnRhcmdldCYmKHQudGFyZ2V0PWUpLHImJnIodCxlLCEhcykpKSxzfSxlLnByb3RvdHlwZS5vblBvaW50ZXJEb3duPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHN8fFxcXCJ0b3VjaFxcXCIhPT10LnBvaW50ZXJUeXBlKXt2YXIgZT10aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEodCk7dGhpcy5hdXRvUHJldmVudERlZmF1bHQmJmVbMF0uaXNOb3JtYWxpemVkJiZ0LnByZXZlbnREZWZhdWx0KCk7Zm9yKHZhciByPWUubGVuZ3RoLG49MDtuPHI7bisrKXt2YXIgaT1lW25dLG89dGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoaSkscz10aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSxpLG8pO2lmKHMuZGF0YS5vcmlnaW5hbEV2ZW50PXQsdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUocyx0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsdGhpcy5wcm9jZXNzUG9pbnRlckRvd24sITApLHRoaXMuZW1pdChcXFwicG9pbnRlcmRvd25cXFwiLHMpLFxcXCJ0b3VjaFxcXCI9PT1pLnBvaW50ZXJUeXBlKXRoaXMuZW1pdChcXFwidG91Y2hzdGFydFxcXCIscyk7ZWxzZSBpZihcXFwibW91c2VcXFwiPT09aS5wb2ludGVyVHlwZXx8XFxcInBlblxcXCI9PT1pLnBvaW50ZXJUeXBlKXt2YXIgYT0yPT09aS5idXR0b247dGhpcy5lbWl0KGE/XFxcInJpZ2h0ZG93blxcXCI6XFxcIm1vdXNlZG93blxcXCIsdGhpcy5ldmVudERhdGEpfX19fSxlLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckRvd249ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQuZGF0YSxpPXQuZGF0YS5pZGVudGlmaWVyO2lmKHIpaWYoZS50cmFja2VkUG9pbnRlcnNbaV18fChlLnRyYWNrZWRQb2ludGVyc1tpXT1uZXcgdi5kZWZhdWx0KGkpKSx0aGlzLmRpc3BhdGNoRXZlbnQoZSxcXFwicG9pbnRlcmRvd25cXFwiLHQpLFxcXCJ0b3VjaFxcXCI9PT1uLnBvaW50ZXJUeXBlKXRoaXMuZGlzcGF0Y2hFdmVudChlLFxcXCJ0b3VjaHN0YXJ0XFxcIix0KTtlbHNlIGlmKFxcXCJtb3VzZVxcXCI9PT1uLnBvaW50ZXJUeXBlfHxcXFwicGVuXFxcIj09PW4ucG9pbnRlclR5cGUpe3ZhciBvPTI9PT1uLmJ1dHRvbjtvP2UudHJhY2tlZFBvaW50ZXJzW2ldLnJpZ2h0RG93bj0hMDplLnRyYWNrZWRQb2ludGVyc1tpXS5sZWZ0RG93bj0hMCx0aGlzLmRpc3BhdGNoRXZlbnQoZSxvP1xcXCJyaWdodGRvd25cXFwiOlxcXCJtb3VzZWRvd25cXFwiLHQpfX0sZS5wcm90b3R5cGUub25Qb2ludGVyQ29tcGxldGU9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj10aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEodCksaT1uLmxlbmd0aCxvPXQudGFyZ2V0IT09dGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQ/XFxcIm91dHNpZGVcXFwiOlxcXCJcXFwiLHM9MDtzPGk7cysrKXt2YXIgYT1uW3NdLHU9dGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoYSksaD10aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSxhLHUpO2lmKGguZGF0YS5vcmlnaW5hbEV2ZW50PXQsdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaCx0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQscixlfHwhbyksdGhpcy5lbWl0KGU/XFxcInBvaW50ZXJjYW5jZWxcXFwiOlxcXCJwb2ludGVydXBcXFwiK28saCksXFxcIm1vdXNlXFxcIj09PWEucG9pbnRlclR5cGV8fFxcXCJwZW5cXFwiPT09YS5wb2ludGVyVHlwZSl7dmFyIGw9Mj09PWEuYnV0dG9uO3RoaXMuZW1pdChsP1xcXCJyaWdodHVwXFxcIitvOlxcXCJtb3VzZXVwXFxcIitvLGgpfWVsc2VcXFwidG91Y2hcXFwiPT09YS5wb2ludGVyVHlwZSYmKHRoaXMuZW1pdChlP1xcXCJ0b3VjaGNhbmNlbFxcXCI6XFxcInRvdWNoZW5kXFxcIitvLGgpLHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChhLnBvaW50ZXJJZCx1KSl9fSxlLnByb3RvdHlwZS5vblBvaW50ZXJDYW5jZWw9ZnVuY3Rpb24odCl7dGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzJiZcXFwidG91Y2hcXFwiPT09dC5wb2ludGVyVHlwZXx8dGhpcy5vblBvaW50ZXJDb21wbGV0ZSh0LCEwLHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwpfSxlLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckNhbmNlbD1mdW5jdGlvbih0LGUpe3ZhciByPXQuZGF0YSxuPXQuZGF0YS5pZGVudGlmaWVyO3ZvaWQgMCE9PWUudHJhY2tlZFBvaW50ZXJzW25dJiYoZGVsZXRlIGUudHJhY2tlZFBvaW50ZXJzW25dLHRoaXMuZGlzcGF0Y2hFdmVudChlLFxcXCJwb2ludGVyY2FuY2VsXFxcIix0KSxcXFwidG91Y2hcXFwiPT09ci5wb2ludGVyVHlwZSYmdGhpcy5kaXNwYXRjaEV2ZW50KGUsXFxcInRvdWNoY2FuY2VsXFxcIix0KSl9LGUucHJvdG90eXBlLm9uUG9pbnRlclVwPWZ1bmN0aW9uKHQpe3RoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyYmXFxcInRvdWNoXFxcIj09PXQucG9pbnRlclR5cGV8fHRoaXMub25Qb2ludGVyQ29tcGxldGUodCwhMSx0aGlzLnByb2Nlc3NQb2ludGVyVXApfSxlLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlclVwPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10LmRhdGEsaT10LmRhdGEuaWRlbnRpZmllcixvPWUudHJhY2tlZFBvaW50ZXJzW2ldLHM9XFxcInRvdWNoXFxcIj09PW4ucG9pbnRlclR5cGUsYT1cXFwibW91c2VcXFwiPT09bi5wb2ludGVyVHlwZXx8XFxcInBlblxcXCI9PT1uLnBvaW50ZXJUeXBlLHU9ITE7aWYoYSl7dmFyIGg9Mj09PW4uYnV0dG9uLGw9di5kZWZhdWx0LkZMQUdTLGM9aD9sLlJJR0hUX0RPV046bC5MRUZUX0RPV04sZD12b2lkIDAhPT1vJiZvLmZsYWdzJmM7cj8odGhpcy5kaXNwYXRjaEV2ZW50KGUsaD9cXFwicmlnaHR1cFxcXCI6XFxcIm1vdXNldXBcXFwiLHQpLGQmJih0aGlzLmRpc3BhdGNoRXZlbnQoZSxoP1xcXCJyaWdodGNsaWNrXFxcIjpcXFwiY2xpY2tcXFwiLHQpLHU9ITApKTpkJiZ0aGlzLmRpc3BhdGNoRXZlbnQoZSxoP1xcXCJyaWdodHVwb3V0c2lkZVxcXCI6XFxcIm1vdXNldXBvdXRzaWRlXFxcIix0KSxvJiYoaD9vLnJpZ2h0RG93bj0hMTpvLmxlZnREb3duPSExKX1yPyh0aGlzLmRpc3BhdGNoRXZlbnQoZSxcXFwicG9pbnRlcnVwXFxcIix0KSxzJiZ0aGlzLmRpc3BhdGNoRXZlbnQoZSxcXFwidG91Y2hlbmRcXFwiLHQpLG8mJihhJiYhdXx8dGhpcy5kaXNwYXRjaEV2ZW50KGUsXFxcInBvaW50ZXJ0YXBcXFwiLHQpLHMmJih0aGlzLmRpc3BhdGNoRXZlbnQoZSxcXFwidGFwXFxcIix0KSxvLm92ZXI9ITEpKSk6byYmKHRoaXMuZGlzcGF0Y2hFdmVudChlLFxcXCJwb2ludGVydXBvdXRzaWRlXFxcIix0KSxzJiZ0aGlzLmRpc3BhdGNoRXZlbnQoZSxcXFwidG91Y2hlbmRvdXRzaWRlXFxcIix0KSksbyYmby5ub25lJiZkZWxldGUgZS50cmFja2VkUG9pbnRlcnNbaV19LGUucHJvdG90eXBlLm9uUG9pbnRlck1vdmU9ZnVuY3Rpb24odCl7aWYoIXRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50c3x8XFxcInRvdWNoXFxcIiE9PXQucG9pbnRlclR5cGUpe3ZhciBlPXRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YSh0KTtcXFwibW91c2VcXFwiIT09ZVswXS5wb2ludGVyVHlwZSYmXFxcInBlblxcXCIhPT1lWzBdLnBvaW50ZXJUeXBlfHwodGhpcy5kaWRNb3ZlPSEwLHRoaXMuY3Vyc29yPW51bGwpO2Zvcih2YXIgcj1lLmxlbmd0aCxuPTA7bjxyO24rKyl7dmFyIGk9ZVtuXSxvPXRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGkpLHM9dGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsaSxvKTtzLmRhdGEub3JpZ2luYWxFdmVudD10O3ZhciBhPVxcXCJ0b3VjaFxcXCIhPT1pLnBvaW50ZXJUeXBlfHx0aGlzLm1vdmVXaGVuSW5zaWRlO3RoaXMucHJvY2Vzc0ludGVyYWN0aXZlKHMsdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLGEpLHRoaXMuZW1pdChcXFwicG9pbnRlcm1vdmVcXFwiLHMpLFxcXCJ0b3VjaFxcXCI9PT1pLnBvaW50ZXJUeXBlJiZ0aGlzLmVtaXQoXFxcInRvdWNobW92ZVxcXCIscyksXFxcIm1vdXNlXFxcIiE9PWkucG9pbnRlclR5cGUmJlxcXCJwZW5cXFwiIT09aS5wb2ludGVyVHlwZXx8dGhpcy5lbWl0KFxcXCJtb3VzZW1vdmVcXFwiLHMpfVxcXCJtb3VzZVxcXCI9PT1lWzBdLnBvaW50ZXJUeXBlJiZ0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpfX0sZS5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJNb3ZlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10LmRhdGEsaT1cXFwidG91Y2hcXFwiPT09bi5wb2ludGVyVHlwZSxvPVxcXCJtb3VzZVxcXCI9PT1uLnBvaW50ZXJUeXBlfHxcXFwicGVuXFxcIj09PW4ucG9pbnRlclR5cGU7byYmdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQodCxlLHIpLHRoaXMubW92ZVdoZW5JbnNpZGUmJiFyfHwodGhpcy5kaXNwYXRjaEV2ZW50KGUsXFxcInBvaW50ZXJtb3ZlXFxcIix0KSxpJiZ0aGlzLmRpc3BhdGNoRXZlbnQoZSxcXFwidG91Y2htb3ZlXFxcIix0KSxvJiZ0aGlzLmRpc3BhdGNoRXZlbnQoZSxcXFwibW91c2Vtb3ZlXFxcIix0KSl9LGUucHJvdG90eXBlLm9uUG9pbnRlck91dD1mdW5jdGlvbih0KXtpZighdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzfHxcXFwidG91Y2hcXFwiIT09dC5wb2ludGVyVHlwZSl7dmFyIGU9dGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKHQpLHI9ZVswXTtcXFwibW91c2VcXFwiPT09ci5wb2ludGVyVHlwZSYmKHRoaXMubW91c2VPdmVyUmVuZGVyZXI9ITEsdGhpcy5zZXRDdXJzb3JNb2RlKG51bGwpKTt2YXIgbj10aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChyKSxpPXRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLHIsbik7aS5kYXRhLm9yaWdpbmFsRXZlbnQ9cix0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpLHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCx0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwhMSksdGhpcy5lbWl0KFxcXCJwb2ludGVyb3V0XFxcIixpKSxcXFwibW91c2VcXFwiPT09ci5wb2ludGVyVHlwZXx8XFxcInBlblxcXCI9PT1yLnBvaW50ZXJUeXBlP3RoaXMuZW1pdChcXFwibW91c2VvdXRcXFwiLGkpOnRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChuLmlkZW50aWZpZXIpfX0sZS5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJPdmVyT3V0PWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10LmRhdGEsaT10LmRhdGEuaWRlbnRpZmllcixvPVxcXCJtb3VzZVxcXCI9PT1uLnBvaW50ZXJUeXBlfHxcXFwicGVuXFxcIj09PW4ucG9pbnRlclR5cGUscz1lLnRyYWNrZWRQb2ludGVyc1tpXTtyJiYhcyYmKHM9ZS50cmFja2VkUG9pbnRlcnNbaV09bmV3IHYuZGVmYXVsdChpKSksdm9pZCAwIT09cyYmKHImJnRoaXMubW91c2VPdmVyUmVuZGVyZXI/KHMub3Zlcnx8KHMub3Zlcj0hMCx0aGlzLmRpc3BhdGNoRXZlbnQoZSxcXFwicG9pbnRlcm92ZXJcXFwiLHQpLG8mJnRoaXMuZGlzcGF0Y2hFdmVudChlLFxcXCJtb3VzZW92ZXJcXFwiLHQpKSxvJiZudWxsPT09dGhpcy5jdXJzb3ImJih0aGlzLmN1cnNvcj1lLmN1cnNvcikpOnMub3ZlciYmKHMub3Zlcj0hMSx0aGlzLmRpc3BhdGNoRXZlbnQoZSxcXFwicG9pbnRlcm91dFxcXCIsdGhpcy5ldmVudERhdGEpLG8mJnRoaXMuZGlzcGF0Y2hFdmVudChlLFxcXCJtb3VzZW91dFxcXCIsdCkscy5ub25lJiZkZWxldGUgZS50cmFja2VkUG9pbnRlcnNbaV0pKX0sZS5wcm90b3R5cGUub25Qb2ludGVyT3Zlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEodCkscj1lWzBdLG49dGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQociksaT10aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSxyLG4pO2kuZGF0YS5vcmlnaW5hbEV2ZW50PXIsXFxcIm1vdXNlXFxcIj09PXIucG9pbnRlclR5cGUmJih0aGlzLm1vdXNlT3ZlclJlbmRlcmVyPSEwKSx0aGlzLmVtaXQoXFxcInBvaW50ZXJvdmVyXFxcIixpKSxcXFwibW91c2VcXFwiIT09ci5wb2ludGVyVHlwZSYmXFxcInBlblxcXCIhPT1yLnBvaW50ZXJUeXBlfHx0aGlzLmVtaXQoXFxcIm1vdXNlb3ZlclxcXCIsaSl9LGUucHJvdG90eXBlLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZD1mdW5jdGlvbih0KXt2YXIgZT10LnBvaW50ZXJJZCxyPXZvaWQgMDtyZXR1cm4gZT09PWJ8fFxcXCJtb3VzZVxcXCI9PT10LnBvaW50ZXJUeXBlP3I9dGhpcy5tb3VzZTp0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtlXT9yPXRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2VdOihyPXRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wb3AoKXx8bmV3IGMuZGVmYXVsdCxyLmlkZW50aWZpZXI9ZSx0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtlXT1yKSxyLmNvcHlFdmVudCh0KSxyfSxlLnByb3RvdHlwZS5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3RdO2UmJihkZWxldGUgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbdF0sZS5yZXNldCgpLHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wdXNoKGUpKX0sZS5wcm90b3R5cGUuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50PWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdC5kYXRhPXIsdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoci5nbG9iYWwsZS5jbGllbnRYLGUuY2xpZW50WSksbmF2aWdhdG9yLmlzQ29jb29uSlMmJlxcXCJ0b3VjaFxcXCI9PT1lLnBvaW50ZXJUeXBlJiYoci5nbG9iYWwueD1yLmdsb2JhbC54L3RoaXMucmVzb2x1dGlvbixyLmdsb2JhbC55PXIuZ2xvYmFsLnkvdGhpcy5yZXNvbHV0aW9uKSxcXFwidG91Y2hcXFwiPT09ZS5wb2ludGVyVHlwZSYmKGUuZ2xvYmFsWD1yLmdsb2JhbC54LGUuZ2xvYmFsWT1yLmdsb2JhbC55KSxyLm9yaWdpbmFsRXZlbnQ9ZSx0LnJlc2V0KCksdH0sZS5wcm90b3R5cGUubm9ybWFsaXplVG9Qb2ludGVyRGF0YT1mdW5jdGlvbih0KXt2YXIgZT1bXTtpZih0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMmJnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KWZvcih2YXIgcj0wLG49dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7cjxuO3IrKyl7dmFyIGk9dC5jaGFuZ2VkVG91Y2hlc1tyXTt2b2lkIDA9PT1pLmJ1dHRvbiYmKGkuYnV0dG9uPXQudG91Y2hlcy5sZW5ndGg/MTowKSx2b2lkIDA9PT1pLmJ1dHRvbnMmJihpLmJ1dHRvbnM9dC50b3VjaGVzLmxlbmd0aD8xOjApLHZvaWQgMD09PWkuaXNQcmltYXJ5JiYoaS5pc1ByaW1hcnk9MT09PXQudG91Y2hlcy5sZW5ndGgmJlxcXCJ0b3VjaHN0YXJ0XFxcIj09PXQudHlwZSksdm9pZCAwPT09aS53aWR0aCYmKGkud2lkdGg9aS5yYWRpdXNYfHwxKSx2b2lkIDA9PT1pLmhlaWdodCYmKGkuaGVpZ2h0PWkucmFkaXVzWXx8MSksdm9pZCAwPT09aS50aWx0WCYmKGkudGlsdFg9MCksdm9pZCAwPT09aS50aWx0WSYmKGkudGlsdFk9MCksdm9pZCAwPT09aS5wb2ludGVyVHlwZSYmKGkucG9pbnRlclR5cGU9XFxcInRvdWNoXFxcIiksdm9pZCAwPT09aS5wb2ludGVySWQmJihpLnBvaW50ZXJJZD1pLmlkZW50aWZpZXJ8fDApLHZvaWQgMD09PWkucHJlc3N1cmUmJihpLnByZXNzdXJlPWkuZm9yY2V8fC41KSx2b2lkIDA9PT1pLnR3aXN0JiYoaS50d2lzdD0wKSx2b2lkIDA9PT1pLnRhbmdlbnRpYWxQcmVzc3VyZSYmKGkudGFuZ2VudGlhbFByZXNzdXJlPTApLHZvaWQgMD09PWkubGF5ZXJYJiYoaS5sYXllclg9aS5vZmZzZXRYPWkuY2xpZW50WCksdm9pZCAwPT09aS5sYXllclkmJihpLmxheWVyWT1pLm9mZnNldFk9aS5jbGllbnRZKSxpLmlzTm9ybWFsaXplZD0hMCxlLnB1c2goaSl9ZWxzZSEodCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpfHx0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyYmdCBpbnN0YW5jZW9mIHdpbmRvdy5Qb2ludGVyRXZlbnQ/ZS5wdXNoKHQpOih2b2lkIDA9PT10LmlzUHJpbWFyeSYmKHQuaXNQcmltYXJ5PSEwKSx2b2lkIDA9PT10LndpZHRoJiYodC53aWR0aD0xKSx2b2lkIDA9PT10LmhlaWdodCYmKHQuaGVpZ2h0PTEpLHZvaWQgMD09PXQudGlsdFgmJih0LnRpbHRYPTApLHZvaWQgMD09PXQudGlsdFkmJih0LnRpbHRZPTApLHZvaWQgMD09PXQucG9pbnRlclR5cGUmJih0LnBvaW50ZXJUeXBlPVxcXCJtb3VzZVxcXCIpLHZvaWQgMD09PXQucG9pbnRlcklkJiYodC5wb2ludGVySWQ9Yiksdm9pZCAwPT09dC5wcmVzc3VyZSYmKHQucHJlc3N1cmU9LjUpLHZvaWQgMD09PXQudHdpc3QmJih0LnR3aXN0PTApLHZvaWQgMD09PXQudGFuZ2VudGlhbFByZXNzdXJlJiYodC50YW5nZW50aWFsUHJlc3N1cmU9MCksdC5pc05vcm1hbGl6ZWQ9ITAsZS5wdXNoKHQpKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRzKCksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnJlbmRlcmVyPW51bGwsdGhpcy5tb3VzZT1udWxsLHRoaXMuZXZlbnREYXRhPW51bGwsdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQ9bnVsbCx0aGlzLm9uUG9pbnRlckRvd249bnVsbCx0aGlzLnByb2Nlc3NQb2ludGVyRG93bj1udWxsLHRoaXMub25Qb2ludGVyVXA9bnVsbCx0aGlzLnByb2Nlc3NQb2ludGVyVXA9bnVsbCx0aGlzLm9uUG9pbnRlckNhbmNlbD1udWxsLHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWw9bnVsbCx0aGlzLm9uUG9pbnRlck1vdmU9bnVsbCx0aGlzLnByb2Nlc3NQb2ludGVyTW92ZT1udWxsLFxcbnRoaXMub25Qb2ludGVyT3V0PW51bGwsdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQ9bnVsbCx0aGlzLm9uUG9pbnRlck92ZXI9bnVsbCx0aGlzLl90ZW1wUG9pbnQ9bnVsbH0sZX0oeS5kZWZhdWx0KTtyLmRlZmF1bHQ9VCxoLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oXFxcImludGVyYWN0aW9uXFxcIixUKSxoLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKFxcXCJpbnRlcmFjdGlvblxcXCIsVCl9LHtcXFwiLi4vY29yZVxcXCI6NjUsXFxcIi4vSW50ZXJhY3Rpb25EYXRhXFxcIjoxNTUsXFxcIi4vSW50ZXJhY3Rpb25FdmVudFxcXCI6MTU2LFxcXCIuL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhXFxcIjoxNTgsXFxcIi4vaW50ZXJhY3RpdmVUYXJnZXRcXFwiOjE2MCxldmVudGVtaXR0ZXIzOjN9XSwxNTg6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcXFwidmFsdWVcXFwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtuKHRoaXMsdCksdGhpcy5fcG9pbnRlcklkPWUsdGhpcy5fZmxhZ3M9dC5GTEFHUy5OT05FfXJldHVybiB0LnByb3RvdHlwZS5fZG9TZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9mbGFncz1lP3RoaXMuX2ZsYWdzfHQ6dGhpcy5fZmxhZ3MmfnR9LGkodCxbe2tleTpcXFwicG9pbnRlcklkXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9pbnRlcklkfX0se2tleTpcXFwiZmxhZ3NcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mbGFnc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZsYWdzPXR9fSx7a2V5OlxcXCJub25lXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmxhZ3M9PT10aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk5PTkV9fSx7a2V5OlxcXCJvdmVyXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMCE9KHRoaXMuX2ZsYWdzJnRoaXMuY29uc3RydWN0b3IuRkxBR1MuT1ZFUil9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIsdCl9fSx7a2V5OlxcXCJyaWdodERvd25cXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiAwIT0odGhpcy5fZmxhZ3MmdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5SSUdIVF9ET1dOKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuUklHSFRfRE9XTix0KX19LHtrZXk6XFxcImxlZnREb3duXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMCE9KHRoaXMuX2ZsYWdzJnRoaXMuY29uc3RydWN0b3IuRkxBR1MuTEVGVF9ET1dOKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTEVGVF9ET1dOLHQpfX1dKSx0fSgpO3IuZGVmYXVsdD1vLG8uRkxBR1M9T2JqZWN0LmZyZWV6ZSh7Tk9ORTowLE9WRVI6MSxMRUZUX0RPV046MixSSUdIVF9ET1dOOjR9KX0se31dLDE1OTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcXFwiLi9JbnRlcmFjdGlvbkRhdGFcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiSW50ZXJhY3Rpb25EYXRhXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihpKS5kZWZhdWx0fX0pO3ZhciBvPXQoXFxcIi4vSW50ZXJhY3Rpb25NYW5hZ2VyXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkludGVyYWN0aW9uTWFuYWdlclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4obykuZGVmYXVsdH19KTt2YXIgcz10KFxcXCIuL2ludGVyYWN0aXZlVGFyZ2V0XFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcImludGVyYWN0aXZlVGFyZ2V0XFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihzKS5kZWZhdWx0fX0pO3ZhciBhPXQoXFxcIi4vSW50ZXJhY3Rpb25UcmFja2luZ0RhdGFcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiSW50ZXJhY3Rpb25UcmFja2luZ0RhdGFcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGEpLmRlZmF1bHR9fSk7dmFyIHU9dChcXFwiLi9JbnRlcmFjdGlvbkV2ZW50XFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkludGVyYWN0aW9uRXZlbnRcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKHUpLmRlZmF1bHR9fSl9LHtcXFwiLi9JbnRlcmFjdGlvbkRhdGFcXFwiOjE1NSxcXFwiLi9JbnRlcmFjdGlvbkV2ZW50XFxcIjoxNTYsXFxcIi4vSW50ZXJhY3Rpb25NYW5hZ2VyXFxcIjoxNTcsXFxcIi4vSW50ZXJhY3Rpb25UcmFja2luZ0RhdGFcXFwiOjE1OCxcXFwiLi9pbnRlcmFjdGl2ZVRhcmdldFxcXCI6MTYwfV0sMTYwOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO3IuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9e2ludGVyYWN0aXZlOiExLGludGVyYWN0aXZlQ2hpbGRyZW46ITAsaGl0QXJlYTpudWxsLGdldCBidXR0b25Nb2RlKCl7cmV0dXJuXFxcInBvaW50ZXJcXFwiPT09dGhpcy5jdXJzb3J9LHNldCBidXR0b25Nb2RlKHQpe3Q/dGhpcy5jdXJzb3I9XFxcInBvaW50ZXJcXFwiOlxcXCJwb2ludGVyXFxcIj09PXRoaXMuY3Vyc29yJiYodGhpcy5jdXJzb3I9bnVsbCl9LGN1cnNvcjpudWxsLGdldCB0cmFja2VkUG9pbnRlcnMoKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fdHJhY2tlZFBvaW50ZXJzJiYodGhpcy5fdHJhY2tlZFBvaW50ZXJzPXt9KSx0aGlzLl90cmFja2VkUG9pbnRlcnN9LF90cmFja2VkUG9pbnRlcnM6dm9pZCAwfX0se31dLDE2MTpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7dC5iaXRtYXBGb250PWEuQml0bWFwVGV4dC5yZWdpc3RlckZvbnQodC5kYXRhLGUpfXIuX19lc01vZHVsZT0hMCxyLnBhcnNlPW4sci5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoIXQuZGF0YXx8dC50eXBlIT09cy5SZXNvdXJjZS5UWVBFLlhNTClyZXR1cm4gdm9pZCBlKCk7aWYoMD09PXQuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwicGFnZVxcXCIpLmxlbmd0aHx8MD09PXQuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwiaW5mb1xcXCIpLmxlbmd0aHx8bnVsbD09PXQuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwiaW5mb1xcXCIpWzBdLmdldEF0dHJpYnV0ZShcXFwiZmFjZVxcXCIpKXJldHVybiB2b2lkIGUoKTt2YXIgcj10LmlzRGF0YVVybD9cXFwiXFxcIjpvLmRpcm5hbWUodC51cmwpO3QuaXNEYXRhVXJsJiYoXFxcIi5cXFwiPT09ciYmKHI9XFxcIlxcXCIpLHRoaXMuYmFzZVVybCYmciYmXFxcIi9cXFwiPT09dGhpcy5iYXNlVXJsLmNoYXJBdCh0aGlzLmJhc2VVcmwubGVuZ3RoLTEpJiYocis9XFxcIi9cXFwiKSksKHI9ci5yZXBsYWNlKHRoaXMuYmFzZVVybCxcXFwiXFxcIikpJiZcXFwiL1xcXCIhPT1yLmNoYXJBdChyLmxlbmd0aC0xKSYmKHIrPVxcXCIvXFxcIik7Zm9yKHZhciBpPXQuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwicGFnZVxcXCIpLGE9e30sdT1mdW5jdGlvbihyKXthW3IubWV0YWRhdGEucGFnZUZpbGVdPXIudGV4dHVyZSxPYmplY3Qua2V5cyhhKS5sZW5ndGg9PT1pLmxlbmd0aCYmKG4odCxhKSxlKCkpfSxoPTA7aDxpLmxlbmd0aDsrK2gpe3ZhciBsPWlbaF0uZ2V0QXR0cmlidXRlKFxcXCJmaWxlXFxcIiksYz1yK2wsZD0hMTtmb3IodmFyIGYgaW4gdGhpcy5yZXNvdXJjZXMpe3ZhciBwPXRoaXMucmVzb3VyY2VzW2ZdO2lmKHAudXJsPT09Yyl7cC5tZXRhZGF0YS5wYWdlRmlsZT1sLHAudGV4dHVyZT91KHApOnAub25BZnRlck1pZGRsZXdhcmUuYWRkKHUpLGQ9ITA7YnJlYWt9fWlmKCFkKXt2YXIgdj17Y3Jvc3NPcmlnaW46dC5jcm9zc09yaWdpbixsb2FkVHlwZTpzLlJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxtZXRhZGF0YTpPYmplY3QuYXNzaWduKHtwYWdlRmlsZTpsfSx0Lm1ldGFkYXRhLmltYWdlTWV0YWRhdGEpLHBhcmVudFJlc291cmNlOnR9O3RoaXMuYWRkKGMsdix1KX19fX07dmFyIGk9dChcXFwicGF0aFxcXCIpLG89ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShpKSxzPXQoXFxcInJlc291cmNlLWxvYWRlclxcXCIpLGE9dChcXFwiLi4vZXh0cmFzXFxcIil9LHtcXFwiLi4vZXh0cmFzXFxcIjoxNDEscGF0aDo4LFxcXCJyZXNvdXJjZS1sb2FkZXJcXFwiOjM2fV0sMTYyOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXIuX19lc01vZHVsZT0hMCxyLnNoYXJlZD1yLlJlc291cmNlPXIudGV4dHVyZVBhcnNlcj1yLmdldFJlc291cmNlUGF0aD1yLnNwcml0ZXNoZWV0UGFyc2VyPXIucGFyc2VCaXRtYXBGb250RGF0YT1yLmJpdG1hcEZvbnRQYXJzZXI9ci5Mb2FkZXI9dm9pZCAwO3ZhciBpPXQoXFxcIi4vYml0bWFwRm9udFBhcnNlclxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJiaXRtYXBGb250UGFyc2VyXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihpKS5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJwYXJzZUJpdG1hcEZvbnREYXRhXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5wYXJzZX19KTt2YXIgbz10KFxcXCIuL3Nwcml0ZXNoZWV0UGFyc2VyXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcInNwcml0ZXNoZWV0UGFyc2VyXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihvKS5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJnZXRSZXNvdXJjZVBhdGhcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLmdldFJlc291cmNlUGF0aH19KTt2YXIgcz10KFxcXCIuL3RleHR1cmVQYXJzZXJcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwidGV4dHVyZVBhcnNlclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ocykuZGVmYXVsdH19KTt2YXIgYT10KFxcXCJyZXNvdXJjZS1sb2FkZXJcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiUmVzb3VyY2VcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLlJlc291cmNlfX0pO3ZhciB1PXQoXFxcIi4uL2NvcmUvQXBwbGljYXRpb25cXFwiKSxoPW4odSksbD10KFxcXCIuL2xvYWRlclxcXCIpLGM9bihsKTtyLkxvYWRlcj1jLmRlZmF1bHQ7dmFyIGQ9bmV3IGMuZGVmYXVsdDtkLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LHIuc2hhcmVkPWQ7dmFyIGY9aC5kZWZhdWx0LnByb3RvdHlwZTtmLl9sb2FkZXI9bnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkoZixcXFwibG9hZGVyXFxcIix7Z2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2xvYWRlcil7dmFyIHQ9dGhpcy5fb3B0aW9ucy5zaGFyZWRMb2FkZXI7dGhpcy5fbG9hZGVyPXQ/ZDpuZXcgYy5kZWZhdWx0fXJldHVybiB0aGlzLl9sb2FkZXJ9fSksZi5fcGFyZW50RGVzdHJveT1mLmRlc3Ryb3ksZi5kZXN0cm95PWZ1bmN0aW9uKHQsZSl7dGhpcy5fbG9hZGVyJiYodGhpcy5fbG9hZGVyLmRlc3Ryb3koKSx0aGlzLl9sb2FkZXI9bnVsbCksdGhpcy5fcGFyZW50RGVzdHJveSh0LGUpfX0se1xcXCIuLi9jb3JlL0FwcGxpY2F0aW9uXFxcIjo0MyxcXFwiLi9iaXRtYXBGb250UGFyc2VyXFxcIjoxNjEsXFxcIi4vbG9hZGVyXFxcIjoxNjMsXFxcIi4vc3ByaXRlc2hlZXRQYXJzZXJcXFwiOjE2NCxcXFwiLi90ZXh0dXJlUGFyc2VyXFxcIjoxNjUsXFxcInJlc291cmNlLWxvYWRlclxcXCI6MzZ9XSwxNjM6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9dChcXFwicmVzb3VyY2UtbG9hZGVyXFxcIiksdT1uKGEpLGg9dChcXFwicmVzb3VyY2UtbG9hZGVyL2xpYi9taWRkbGV3YXJlcy9wYXJzaW5nL2Jsb2JcXFwiKSxsPXQoXFxcImV2ZW50ZW1pdHRlcjNcXFwiKSxjPW4obCksZD10KFxcXCIuL3RleHR1cmVQYXJzZXJcXFwiKSxmPW4oZCkscD10KFxcXCIuL3Nwcml0ZXNoZWV0UGFyc2VyXFxcIiksdj1uKHApLGc9dChcXFwiLi9iaXRtYXBGb250UGFyc2VyXFxcIikseT1uKGcpLG09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4pe2kodGhpcyxlKTt2YXIgcz1vKHRoaXMsdC5jYWxsKHRoaXMscixuKSk7Yy5kZWZhdWx0LmNhbGwocyk7Zm9yKHZhciBhPTA7YTxlLl9waXhpTWlkZGxld2FyZS5sZW5ndGg7KythKXMudXNlKGUuX3BpeGlNaWRkbGV3YXJlW2FdKCkpO3JldHVybiBzLm9uU3RhcnQuYWRkKGZ1bmN0aW9uKHQpe3JldHVybiBzLmVtaXQoXFxcInN0YXJ0XFxcIix0KX0pLHMub25Qcm9ncmVzcy5hZGQoZnVuY3Rpb24odCxlKXtyZXR1cm4gcy5lbWl0KFxcXCJwcm9ncmVzc1xcXCIsdCxlKX0pLHMub25FcnJvci5hZGQoZnVuY3Rpb24odCxlLHIpe3JldHVybiBzLmVtaXQoXFxcImVycm9yXFxcIix0LGUscil9KSxzLm9uTG9hZC5hZGQoZnVuY3Rpb24odCxlKXtyZXR1cm4gcy5lbWl0KFxcXCJsb2FkXFxcIix0LGUpfSkscy5vbkNvbXBsZXRlLmFkZChmdW5jdGlvbih0LGUpe3JldHVybiBzLmVtaXQoXFxcImNvbXBsZXRlXFxcIix0LGUpfSksc31yZXR1cm4gcyhlLHQpLGUuYWRkUGl4aU1pZGRsZXdhcmU9ZnVuY3Rpb24odCl7ZS5fcGl4aU1pZGRsZXdhcmUucHVzaCh0KX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5yZXNldCgpfSxlfSh1LmRlZmF1bHQpO3IuZGVmYXVsdD1tO2Zvcih2YXIgXyBpbiBjLmRlZmF1bHQucHJvdG90eXBlKW0ucHJvdG90eXBlW19dPWMuZGVmYXVsdC5wcm90b3R5cGVbX107bS5fcGl4aU1pZGRsZXdhcmU9W2guYmxvYk1pZGRsZXdhcmVGYWN0b3J5LGYuZGVmYXVsdCx2LmRlZmF1bHQseS5kZWZhdWx0XTt2YXIgYj11LmRlZmF1bHQuUmVzb3VyY2U7Yi5zZXRFeHRlbnNpb25YaHJUeXBlKFxcXCJmbnRcXFwiLGIuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpfSx7XFxcIi4vYml0bWFwRm9udFBhcnNlclxcXCI6MTYxLFxcXCIuL3Nwcml0ZXNoZWV0UGFyc2VyXFxcIjoxNjQsXFxcIi4vdGV4dHVyZVBhcnNlclxcXCI6MTY1LGV2ZW50ZW1pdHRlcjM6MyxcXFwicmVzb3VyY2UtbG9hZGVyXFxcIjozNixcXFwicmVzb3VyY2UtbG9hZGVyL2xpYi9taWRkbGV3YXJlcy9wYXJzaW5nL2Jsb2JcXFwiOjM3fV0sMTY0OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gdC5pc0RhdGFVcmw/dC5kYXRhLm1ldGEuaW1hZ2U6cy5kZWZhdWx0LnJlc29sdmUodC51cmwucmVwbGFjZShlLFxcXCJcXFwiKSx0LmRhdGEubWV0YS5pbWFnZSl9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciByPXQubmFtZStcXFwiX2ltYWdlXFxcIjtpZighdC5kYXRhfHx0LnR5cGUhPT1pLlJlc291cmNlLlRZUEUuSlNPTnx8IXQuZGF0YS5mcmFtZXN8fHRoaXMucmVzb3VyY2VzW3JdKXJldHVybiB2b2lkIGUoKTt2YXIgbz17Y3Jvc3NPcmlnaW46dC5jcm9zc09yaWdpbixtZXRhZGF0YTp0Lm1ldGFkYXRhLmltYWdlTWV0YWRhdGEscGFyZW50UmVzb3VyY2U6dH0scz1uKHQsdGhpcy5iYXNlVXJsKTt0aGlzLmFkZChyLHMsbyxmdW5jdGlvbihyKXtpZihyLmVycm9yKXJldHVybiB2b2lkIGUoci5lcnJvcik7dmFyIG49bmV3IGEuU3ByaXRlc2hlZXQoci50ZXh0dXJlLmJhc2VUZXh0dXJlLHQuZGF0YSx0LnVybCk7bi5wYXJzZShmdW5jdGlvbigpe3Quc3ByaXRlc2hlZXQ9bix0LnRleHR1cmVzPW4udGV4dHVyZXMsZSgpfSl9KX19LHIuZ2V0UmVzb3VyY2VQYXRoPW47dmFyIGk9dChcXFwicmVzb3VyY2UtbG9hZGVyXFxcIiksbz10KFxcXCJ1cmxcXFwiKSxzPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0obyksYT10KFxcXCIuLi9jb3JlXFxcIil9LHtcXFwiLi4vY29yZVxcXCI6NjUsXFxcInJlc291cmNlLWxvYWRlclxcXCI6MzYsdXJsOjM4fV0sMTY1OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO3IuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXt0LmRhdGEmJnQudHlwZT09PW4uUmVzb3VyY2UuVFlQRS5JTUFHRSYmKHQudGV4dHVyZT1vLmRlZmF1bHQuZnJvbUxvYWRlcih0LmRhdGEsdC51cmwsdC5uYW1lKSksZSgpfX07dmFyIG49dChcXFwicmVzb3VyY2UtbG9hZGVyXFxcIiksaT10KFxcXCIuLi9jb3JlL3RleHR1cmVzL1RleHR1cmVcXFwiKSxvPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0oaSl9LHtcXFwiLi4vY29yZS90ZXh0dXJlcy9UZXh0dXJlXFxcIjoxMTUsXFxcInJlc291cmNlLWxvYWRlclxcXCI6MzZ9XSwxNjY6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXFxcInZhbHVlXFxcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksYT10KFxcXCIuLi9jb3JlXFxcIiksdT1mdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9KGEpLGg9dChcXFwiLi4vY29yZS90ZXh0dXJlcy9UZXh0dXJlXFxcIiksbD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KGgpLGM9bmV3IHUuUG9pbnQsZD1uZXcgdS5Qb2x5Z29uLGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG8scyxhLGgpe24odGhpcyxlKTt2YXIgYz1pKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gYy5fdGV4dHVyZT1yfHxsLmRlZmF1bHQuRU1QVFksYy51dnM9c3x8bmV3IEZsb2F0MzJBcnJheShbMCwwLDEsMCwxLDEsMCwxXSksYy52ZXJ0aWNlcz1vfHxuZXcgRmxvYXQzMkFycmF5KFswLDAsMTAwLDAsMTAwLDEwMCwwLDEwMF0pLGMuaW5kaWNlcz1hfHxuZXcgVWludDE2QXJyYXkoWzAsMSwzLDJdKSxjLmRpcnR5PTAsYy5pbmRleERpcnR5PTAsYy52ZXJ0ZXhEaXJ0eT0wLGMuYXV0b1VwZGF0ZT0hMCxjLmJsZW5kTW9kZT11LkJMRU5EX01PREVTLk5PUk1BTCxjLmNhbnZhc1BhZGRpbmc9dS5zZXR0aW5ncy5NRVNIX0NBTlZBU19QQURESU5HLGMuZHJhd01vZGU9aHx8ZS5EUkFXX01PREVTLlRSSUFOR0xFX01FU0gsYy5zaGFkZXI9bnVsbCxjLnRpbnRSZ2I9bmV3IEZsb2F0MzJBcnJheShbMSwxLDFdKSxjLl9nbERhdGFzPXt9LGMuX3V2VHJhbnNmb3JtPW5ldyB1LlRleHR1cmVNYXRyaXgoYy5fdGV4dHVyZSksYy51cGxvYWRVdlRyYW5zZm9ybT0hMSxjLnBsdWdpbk5hbWU9XFxcIm1lc2hcXFwiLGN9cmV0dXJuIG8oZSx0KSxlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0w9ZnVuY3Rpb24odCl7dGhpcy5yZWZyZXNoKCksdC5zZXRPYmplY3RSZW5kZXJlcih0LnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSksdC5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpfSxlLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzPWZ1bmN0aW9uKHQpe3RoaXMucmVmcmVzaCgpLHQucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKX0sZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX3V2VHJhbnNmb3JtLnRleHR1cmU9dGhpcy5fdGV4dHVyZSx0aGlzLnJlZnJlc2goKX0sZS5wcm90b3R5cGUubXVsdGlwbHlVdnM9ZnVuY3Rpb24oKXt0aGlzLnVwbG9hZFV2VHJhbnNmb3JtfHx0aGlzLl91dlRyYW5zZm9ybS5tdWx0aXBseVV2cyh0aGlzLnV2cyl9LGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24odCl7dGhpcy5hdXRvVXBkYXRlJiZ0aGlzLnZlcnRleERpcnR5KyssdGhpcy5fdXZUcmFuc2Zvcm0udXBkYXRlKHQpJiZ0aGlzLl9yZWZyZXNoKCl9LGUucHJvdG90eXBlLl9yZWZyZXNoPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzPWZ1bmN0aW9uKCl7dGhpcy5fYm91bmRzLmFkZFZlcnRpY2VzKHRoaXMudHJhbnNmb3JtLHRoaXMudmVydGljZXMsMCx0aGlzLnZlcnRpY2VzLmxlbmd0aCl9LGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQ9ZnVuY3Rpb24odCl7aWYoIXRoaXMuZ2V0Qm91bmRzKCkuY29udGFpbnModC54LHQueSkpcmV0dXJuITE7dGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UodCxjKTtmb3IodmFyIHI9dGhpcy52ZXJ0aWNlcyxuPWQucG9pbnRzLGk9dGhpcy5pbmRpY2VzLG89dGhpcy5pbmRpY2VzLmxlbmd0aCxzPXRoaXMuZHJhd01vZGU9PT1lLkRSQVdfTU9ERVMuVFJJQU5HTEVTPzM6MSxhPTA7YSsyPG87YSs9cyl7dmFyIHU9MippW2FdLGg9MippW2ErMV0sbD0yKmlbYSsyXTtpZihuWzBdPXJbdV0sblsxXT1yW3UrMV0sblsyXT1yW2hdLG5bM109cltoKzFdLG5bNF09cltsXSxuWzVdPXJbbCsxXSxkLmNvbnRhaW5zKGMueCxjLnkpKXJldHVybiEwfXJldHVybiExfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKGUpe2Zvcih2YXIgciBpbiB0aGlzLl9nbERhdGFzKXt2YXIgbj10aGlzLl9nbERhdGFzW3JdO24uZGVzdHJveT9uLmRlc3Ryb3koKToobi52ZXJ0ZXhCdWZmZXImJihuLnZlcnRleEJ1ZmZlci5kZXN0cm95KCksbi52ZXJ0ZXhCdWZmZXI9bnVsbCksbi5pbmRleEJ1ZmZlciYmKG4uaW5kZXhCdWZmZXIuZGVzdHJveSgpLG4uaW5kZXhCdWZmZXI9bnVsbCksbi51dkJ1ZmZlciYmKG4udXZCdWZmZXIuZGVzdHJveSgpLG4udXZCdWZmZXI9bnVsbCksbi52YW8mJihuLnZhby5kZXN0cm95KCksbi52YW89bnVsbCkpfXRoaXMuX2dsRGF0YXM9bnVsbCx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyxlKX0scyhlLFt7a2V5OlxcXCJ0ZXh0dXJlXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUhPT10JiYodGhpcy5fdGV4dHVyZT10LHQmJih0LmJhc2VUZXh0dXJlLmhhc0xvYWRlZD90aGlzLl9vblRleHR1cmVVcGRhdGUoKTp0Lm9uY2UoXFxcInVwZGF0ZVxcXCIsdGhpcy5fb25UZXh0dXJlVXBkYXRlLHRoaXMpKSl9fSx7a2V5OlxcXCJ0aW50XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS51dGlscy5yZ2IyaGV4KHRoaXMudGludFJnYil9LHNldDpmdW5jdGlvbih0KXt0aGlzLnRpbnRSZ2I9dS51dGlscy5oZXgycmdiKHQsdGhpcy50aW50UmdiKX19XSksZX0odS5Db250YWluZXIpO3IuZGVmYXVsdD1mLGYuRFJBV19NT0RFUz17VFJJQU5HTEVfTUVTSDowLFRSSUFOR0xFUzoxfX0se1xcXCIuLi9jb3JlXFxcIjo2NSxcXFwiLi4vY29yZS90ZXh0dXJlcy9UZXh0dXJlXFxcIjoxMTV9XSwxNjc6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXFxcInZhbHVlXFxcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksdT10KFxcXCIuL1BsYW5lXFxcIiksaD1uKHUpLGw9dChcXFwiLi4vY29yZS9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXJcXFwiKSxjPW4obCksZD0xMCxmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixuLHMsYSx1KXtpKHRoaXMsZSk7dmFyIGg9byh0aGlzLHQuY2FsbCh0aGlzLHIsNCw0KSk7cmV0dXJuIGguX29yaWdXaWR0aD1yLm9yaWcud2lkdGgsaC5fb3JpZ0hlaWdodD1yLm9yaWcuaGVpZ2h0LGguX3dpZHRoPWguX29yaWdXaWR0aCxoLl9oZWlnaHQ9aC5fb3JpZ0hlaWdodCxoLl9sZWZ0V2lkdGg9dm9pZCAwIT09bj9uOmQsaC5fcmlnaHRXaWR0aD12b2lkIDAhPT1hP2E6ZCxoLl90b3BIZWlnaHQ9dm9pZCAwIT09cz9zOmQsaC5fYm90dG9tSGVpZ2h0PXZvaWQgMCE9PXU/dTpkLGguX2NhY2hlZFRpbnQ9MTY3NzcyMTUsaC5fdGludGVkVGV4dHVyZT1udWxsLGguX2NhbnZhc1V2cz1udWxsLGgucmVmcmVzaCghMCksaH1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMudmVydGljZXMsZT10aGlzLl90b3BIZWlnaHQrdGhpcy5fYm90dG9tSGVpZ2h0LHI9dGhpcy5faGVpZ2h0PmU/MTp0aGlzLl9oZWlnaHQvZTt0WzldPXRbMTFdPXRbMTNdPXRbMTVdPXRoaXMuX3RvcEhlaWdodCpyLHRbMTddPXRbMTldPXRbMjFdPXRbMjNdPXRoaXMuX2hlaWdodC10aGlzLl9ib3R0b21IZWlnaHQqcix0WzI1XT10WzI3XT10WzI5XT10WzMxXT10aGlzLl9oZWlnaHR9LGUucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2FsVmVydGljZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZlcnRpY2VzLGU9dGhpcy5fbGVmdFdpZHRoK3RoaXMuX3JpZ2h0V2lkdGgscj10aGlzLl93aWR0aD5lPzE6dGhpcy5fd2lkdGgvZTt0WzJdPXRbMTBdPXRbMThdPXRbMjZdPXRoaXMuX2xlZnRXaWR0aCpyLHRbNF09dFsxMl09dFsyMF09dFsyOF09dGhpcy5fd2lkdGgtdGhpcy5fcmlnaHRXaWR0aCpyLHRbNl09dFsxNF09dFsyMl09dFszMF09dGhpcy5fd2lkdGh9LGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5jb250ZXh0LHI9dGhpcy53b3JsZFRyYW5zZm9ybSxuPXQucmVzb2x1dGlvbixpPTE2Nzc3MjE1IT09dGhpcy50aW50LG89dGhpcy5fdGV4dHVyZTtpJiZ0aGlzLl9jYWNoZWRUaW50IT09dGhpcy50aW50JiYodGhpcy5fY2FjaGVkVGludD10aGlzLnRpbnQsdGhpcy5fdGludGVkVGV4dHVyZT1jLmRlZmF1bHQuZ2V0VGludGVkVGV4dHVyZSh0aGlzLHRoaXMudGludCkpO3ZhciBzPWk/dGhpcy5fdGludGVkVGV4dHVyZTpvLmJhc2VUZXh0dXJlLnNvdXJjZTt0aGlzLl9jYW52YXNVdnN8fCh0aGlzLl9jYW52YXNVdnM9WzAsMCwwLDAsMCwwLDAsMF0pO3ZhciBhPXRoaXMudmVydGljZXMsdT10aGlzLl9jYW52YXNVdnMsaD1pPzA6by5mcmFtZS54LGw9aT8wOm8uZnJhbWUueSxkPWgrby5mcmFtZS53aWR0aCxmPWwrby5mcmFtZS5oZWlnaHQ7dVswXT1oLHVbMV09aCt0aGlzLl9sZWZ0V2lkdGgsdVsyXT1kLXRoaXMuX3JpZ2h0V2lkdGgsdVszXT1kLHVbNF09bCx1WzVdPWwrdGhpcy5fdG9wSGVpZ2h0LHVbNl09Zi10aGlzLl9ib3R0b21IZWlnaHQsdVs3XT1mO2Zvcih2YXIgcD0wO3A8ODtwKyspdVtwXSo9by5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO2UuZ2xvYmFsQWxwaGE9dGhpcy53b3JsZEFscGhhLHQuc2V0QmxlbmRNb2RlKHRoaXMuYmxlbmRNb2RlKSx0LnJvdW5kUGl4ZWxzP2Uuc2V0VHJhbnNmb3JtKHIuYSpuLHIuYipuLHIuYypuLHIuZCpuLHIudHgqbnwwLHIudHkqbnwwKTplLnNldFRyYW5zZm9ybShyLmEqbixyLmIqbixyLmMqbixyLmQqbixyLnR4Km4sci50eSpuKTtmb3IodmFyIHY9MDt2PDM7disrKWZvcih2YXIgZz0wO2c8MztnKyspe3ZhciB5PTIqZys4KnYsbT1NYXRoLm1heCgxLHVbZysxXS11W2ddKSxfPU1hdGgubWF4KDEsdVt2KzVdLXVbdis0XSksYj1NYXRoLm1heCgxLGFbeSsxMF0tYVt5XSkseD1NYXRoLm1heCgxLGFbeSsxMV0tYVt5KzFdKTtlLmRyYXdJbWFnZShzLHVbZ10sdVt2KzRdLG0sXyxhW3ldLGFbeSsxXSxiLHgpfX0sZS5wcm90b3R5cGUuX3JlZnJlc2g9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5fcmVmcmVzaC5jYWxsKHRoaXMpO3ZhciBlPXRoaXMudXZzLHI9dGhpcy5fdGV4dHVyZTt0aGlzLl9vcmlnV2lkdGg9ci5vcmlnLndpZHRoLHRoaXMuX29yaWdIZWlnaHQ9ci5vcmlnLmhlaWdodDt2YXIgbj0xL3RoaXMuX29yaWdXaWR0aCxpPTEvdGhpcy5fb3JpZ0hlaWdodDtlWzBdPWVbOF09ZVsxNl09ZVsyNF09MCxlWzFdPWVbM109ZVs1XT1lWzddPTAsZVs2XT1lWzE0XT1lWzIyXT1lWzMwXT0xLGVbMjVdPWVbMjddPWVbMjldPWVbMzFdPTEsZVsyXT1lWzEwXT1lWzE4XT1lWzI2XT1uKnRoaXMuX2xlZnRXaWR0aCxlWzRdPWVbMTJdPWVbMjBdPWVbMjhdPTEtbip0aGlzLl9yaWdodFdpZHRoLGVbOV09ZVsxMV09ZVsxM109ZVsxNV09aSp0aGlzLl90b3BIZWlnaHQsZVsxN109ZVsxOV09ZVsyMV09ZVsyM109MS1pKnRoaXMuX2JvdHRvbUhlaWdodCx0aGlzLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpLHRoaXMudXBkYXRlVmVydGljYWxWZXJ0aWNlcygpLHRoaXMuZGlydHkrKyx0aGlzLm11bHRpcGx5VXZzKCl9LGEoZSxbe2tleTpcXFwid2lkdGhcXFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3dpZHRoPXQsdGhpcy5fcmVmcmVzaCgpfX0se2tleTpcXFwiaGVpZ2h0XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faGVpZ2h0PXQsdGhpcy5fcmVmcmVzaCgpfX0se2tleTpcXFwibGVmdFdpZHRoXFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVmdFdpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbGVmdFdpZHRoPXQsdGhpcy5fcmVmcmVzaCgpfX0se2tleTpcXFwicmlnaHRXaWR0aFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ2h0V2lkdGh9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yaWdodFdpZHRoPXQsdGhpcy5fcmVmcmVzaCgpfX0se2tleTpcXFwidG9wSGVpZ2h0XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG9wSGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdG9wSGVpZ2h0PXQsdGhpcy5fcmVmcmVzaCgpfX0se2tleTpcXFwiYm90dG9tSGVpZ2h0XFxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm90dG9tSGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYm90dG9tSGVpZ2h0PXQsdGhpcy5fcmVmcmVzaCgpfX1dKSxlfShoLmRlZmF1bHQpO3IuZGVmYXVsdD1mfSx7XFxcIi4uL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyXFxcIjoxMDQsXFxcIi4vUGxhbmVcXFwiOjE2OH1dLDE2ODpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgcz10KFxcXCIuL01lc2hcXFwiKSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0ocyksdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbyxzKXtuKHRoaXMsZSk7dmFyIHU9aSh0aGlzLHQuY2FsbCh0aGlzLHIpKTtyZXR1cm4gdS5fcmVhZHk9ITAsdS52ZXJ0aWNlc1g9b3x8MTAsdS52ZXJ0aWNlc1k9c3x8MTAsdS5kcmF3TW9kZT1hLmRlZmF1bHQuRFJBV19NT0RFUy5UUklBTkdMRVMsdS5yZWZyZXNoKCksdX1yZXR1cm4gbyhlLHQpLGUucHJvdG90eXBlLl9yZWZyZXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3RleHR1cmUsZT10aGlzLnZlcnRpY2VzWCp0aGlzLnZlcnRpY2VzWSxyPVtdLG49W10saT1bXSxvPVtdLHM9dGhpcy52ZXJ0aWNlc1gtMSxhPXRoaXMudmVydGljZXNZLTEsdT10LndpZHRoL3MsaD10LmhlaWdodC9hLGw9MDtsPGU7bCsrKXt2YXIgYz1sJXRoaXMudmVydGljZXNYLGQ9bC90aGlzLnZlcnRpY2VzWHwwO3IucHVzaChjKnUsZCpoKSxpLnB1c2goYy9zLGQvYSl9Zm9yKHZhciBmPXMqYSxwPTA7cDxmO3ArKyl7dmFyIHY9cCVzLGc9cC9zfDAseT1nKnRoaXMudmVydGljZXNYK3YsbT1nKnRoaXMudmVydGljZXNYK3YrMSxfPShnKzEpKnRoaXMudmVydGljZXNYK3YsYj0oZysxKSp0aGlzLnZlcnRpY2VzWCt2KzE7by5wdXNoKHksbSxfKSxvLnB1c2gobSxiLF8pfXRoaXMudmVydGljZXM9bmV3IEZsb2F0MzJBcnJheShyKSx0aGlzLnV2cz1uZXcgRmxvYXQzMkFycmF5KGkpLHRoaXMuY29sb3JzPW5ldyBGbG9hdDMyQXJyYXkobiksdGhpcy5pbmRpY2VzPW5ldyBVaW50MTZBcnJheShvKSx0aGlzLmRpcnR5KyssdGhpcy5pbmRleERpcnR5KyssdGhpcy5tdWx0aXBseVV2cygpfSxlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlPWZ1bmN0aW9uKCl7YS5kZWZhdWx0LnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlLmNhbGwodGhpcyksdGhpcy5fcmVhZHkmJnRoaXMucmVmcmVzaCgpfSxlfShhLmRlZmF1bHQpO3IuZGVmYXVsdD11fSx7XFxcIi4vTWVzaFxcXCI6MTY2fV0sMTY5OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBzPXQoXFxcIi4vTWVzaFxcXCIpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShzKSx1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixvKXtuKHRoaXMsZSk7dmFyIHM9aSh0aGlzLHQuY2FsbCh0aGlzLHIpKTtyZXR1cm4gcy5wb2ludHM9byxzLnZlcnRpY2VzPW5ldyBGbG9hdDMyQXJyYXkoNCpvLmxlbmd0aCkscy51dnM9bmV3IEZsb2F0MzJBcnJheSg0Km8ubGVuZ3RoKSxzLmNvbG9ycz1uZXcgRmxvYXQzMkFycmF5KDIqby5sZW5ndGgpLHMuaW5kaWNlcz1uZXcgVWludDE2QXJyYXkoMipvLmxlbmd0aCkscy5hdXRvVXBkYXRlPSEwLHMucmVmcmVzaCgpLHN9cmV0dXJuIG8oZSx0KSxlLnByb3RvdHlwZS5fcmVmcmVzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMucG9pbnRzO2lmKCEodC5sZW5ndGg8MSkmJnRoaXMuX3RleHR1cmUuX3V2cyl7dGhpcy52ZXJ0aWNlcy5sZW5ndGgvNCE9PXQubGVuZ3RoJiYodGhpcy52ZXJ0aWNlcz1uZXcgRmxvYXQzMkFycmF5KDQqdC5sZW5ndGgpLHRoaXMudXZzPW5ldyBGbG9hdDMyQXJyYXkoNCp0Lmxlbmd0aCksdGhpcy5jb2xvcnM9bmV3IEZsb2F0MzJBcnJheSgyKnQubGVuZ3RoKSx0aGlzLmluZGljZXM9bmV3IFVpbnQxNkFycmF5KDIqdC5sZW5ndGgpKTt2YXIgZT10aGlzLnV2cyxyPXRoaXMuaW5kaWNlcyxuPXRoaXMuY29sb3JzO2VbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MSxuWzBdPTEsblsxXT0xLHJbMF09MCxyWzFdPTE7Zm9yKHZhciBpPXQubGVuZ3RoLG89MTtvPGk7bysrKXt2YXIgcz00Km8sYT1vLyhpLTEpO2Vbc109YSxlW3MrMV09MCxlW3MrMl09YSxlW3MrM109MSxzPTIqbyxuW3NdPTEsbltzKzFdPTEscz0yKm8scltzXT1zLHJbcysxXT1zKzF9dGhpcy5kaXJ0eSsrLHRoaXMuaW5kZXhEaXJ0eSsrLHRoaXMubXVsdGlwbHlVdnMoKSx0aGlzLnJlZnJlc2hWZXJ0aWNlcygpfX0sZS5wcm90b3R5cGUucmVmcmVzaFZlcnRpY2VzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wb2ludHM7aWYoISh0Lmxlbmd0aDwxKSlmb3IodmFyIGU9dFswXSxyPXZvaWQgMCxuPTAsaT0wLG89dGhpcy52ZXJ0aWNlcyxzPXQubGVuZ3RoLGE9MDthPHM7YSsrKXt2YXIgdT10W2FdLGg9NCphO3I9YTx0Lmxlbmd0aC0xP3RbYSsxXTp1LGk9LShyLngtZS54KSxuPXIueS1lLnk7dmFyIGw9MTAqKDEtYS8ocy0xKSk7bD4xJiYobD0xKTt2YXIgYz1NYXRoLnNxcnQobipuK2kqaSksZD10aGlzLl90ZXh0dXJlLmhlaWdodC8yO24vPWMsaS89YyxuKj1kLGkqPWQsb1toXT11LngrbixvW2grMV09dS55K2ksb1toKzJdPXUueC1uLG9baCszXT11LnktaSxlPXV9fSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLmF1dG9VcGRhdGUmJnRoaXMucmVmcmVzaFZlcnRpY2VzKCksdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKX0sZX0oYS5kZWZhdWx0KTtyLmRlZmF1bHQ9dX0se1xcXCIuL01lc2hcXFwiOjE2Nn1dLDE3MDpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPXQoXFxcIi4uLy4uL2NvcmVcXFwiKSxvPWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0oaSkscz10KFxcXCIuLi9NZXNoXFxcIiksYT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KHMpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe24odGhpcyx0KSx0aGlzLnJlbmRlcmVyPWV9cmV0dXJuIHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlbmRlcmVyLHI9ZS5jb250ZXh0LG49dC53b3JsZFRyYW5zZm9ybSxpPWUucmVzb2x1dGlvbjtlLnJvdW5kUGl4ZWxzP3Iuc2V0VHJhbnNmb3JtKG4uYSppLG4uYippLG4uYyppLG4uZCppLG4udHgqaXwwLG4udHkqaXwwKTpyLnNldFRyYW5zZm9ybShuLmEqaSxuLmIqaSxuLmMqaSxuLmQqaSxuLnR4Kmksbi50eSppKSxlLmNvbnRleHQuZ2xvYmFsQWxwaGE9dC53b3JsZEFscGhhLGUuc2V0QmxlbmRNb2RlKHQuYmxlbmRNb2RlKSx0LmRyYXdNb2RlPT09YS5kZWZhdWx0LkRSQVdfTU9ERVMuVFJJQU5HTEVfTUVTSD90aGlzLl9yZW5kZXJUcmlhbmdsZU1lc2godCk6dGhpcy5fcmVuZGVyVHJpYW5nbGVzKHQpfSx0LnByb3RvdHlwZS5fcmVuZGVyVHJpYW5nbGVNZXNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnZlcnRpY2VzLmxlbmd0aC8yLHI9MDtyPGUtMjtyKyspe3ZhciBuPTIqcjt0aGlzLl9yZW5kZXJEcmF3VHJpYW5nbGUodCxuLG4rMixuKzQpfX0sdC5wcm90b3R5cGUuX3JlbmRlclRyaWFuZ2xlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5pbmRpY2VzLHI9ZS5sZW5ndGgsbj0wO248cjtuKz0zKXt2YXIgaT0yKmVbbl0sbz0yKmVbbisxXSxzPTIqZVtuKzJdO3RoaXMuX3JlbmRlckRyYXdUcmlhbmdsZSh0LGksbyxzKX19LHQucHJvdG90eXBlLl9yZW5kZXJEcmF3VHJpYW5nbGU9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcy5yZW5kZXJlci5jb250ZXh0LG89dC51dnMscz10LnZlcnRpY2VzLGE9dC5fdGV4dHVyZTtpZihhLnZhbGlkKXt2YXIgdT1hLmJhc2VUZXh0dXJlLGg9dS5zb3VyY2UsbD11LndpZHRoLGM9dS5oZWlnaHQsZD12b2lkIDAsZj12b2lkIDAscD12b2lkIDAsdj12b2lkIDAsZz12b2lkIDAseT12b2lkIDA7aWYodC51cGxvYWRVdlRyYW5zZm9ybSl7dmFyIG09dC5fdXZUcmFuc2Zvcm0ubWFwQ29vcmQ7ZD0ob1tlXSptLmErb1tlKzFdKm0uYyttLnR4KSp1LndpZHRoLGY9KG9bcl0qbS5hK29bcisxXSptLmMrbS50eCkqdS53aWR0aCxwPShvW25dKm0uYStvW24rMV0qbS5jK20udHgpKnUud2lkdGgsdj0ob1tlXSptLmIrb1tlKzFdKm0uZCttLnR5KSp1LmhlaWdodCxnPShvW3JdKm0uYitvW3IrMV0qbS5kK20udHkpKnUuaGVpZ2h0LHk9KG9bbl0qbS5iK29bbisxXSptLmQrbS50eSkqdS5oZWlnaHR9ZWxzZSBkPW9bZV0qdS53aWR0aCxmPW9bcl0qdS53aWR0aCxwPW9bbl0qdS53aWR0aCx2PW9bZSsxXSp1LmhlaWdodCxnPW9bcisxXSp1LmhlaWdodCx5PW9bbisxXSp1LmhlaWdodDt2YXIgXz1zW2VdLGI9c1tyXSx4PXNbbl0sVD1zW2UrMV0sdz1zW3IrMV0sRT1zW24rMV0sUz10LmNhbnZhc1BhZGRpbmcvdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO2lmKFM+MCl7dmFyIE89Uy9NYXRoLmFicyh0LndvcmxkVHJhbnNmb3JtLmEpLE09Uy9NYXRoLmFicyh0LndvcmxkVHJhbnNmb3JtLmQpLFA9KF8rYit4KS8zLEM9KFQrdytFKS8zLFI9Xy1QLEE9VC1DLEk9TWF0aC5zcXJ0KFIqUitBKkEpO189UCtSL0kqKEkrTyksVD1DK0EvSSooSStNKSxSPWItUCxBPXctQyxJPU1hdGguc3FydChSKlIrQSpBKSxiPVArUi9JKihJK08pLHc9QytBL0kqKEkrTSksUj14LVAsQT1FLUMsST1NYXRoLnNxcnQoUipSK0EqQSkseD1QK1IvSSooSStPKSxFPUMrQS9JKihJK00pfWkuc2F2ZSgpLGkuYmVnaW5QYXRoKCksaS5tb3ZlVG8oXyxUKSxpLmxpbmVUbyhiLHcpLGkubGluZVRvKHgsRSksaS5jbG9zZVBhdGgoKSxpLmNsaXAoKTt2YXIgRD1kKmcrdipwK2YqeS1nKnAtdipmLWQqeSxMPV8qZyt2KngrYip5LWcqeC12KmItXyp5LE49ZCpiK18qcCtmKngtYipwLV8qZi1kKngsQj1kKmcqeCt2KmIqcCtfKmYqeS1fKmcqcC12KmYqeC1kKmIqeSxrPVQqZyt2KkUrdyp5LWcqRS12KnctVCp5LEY9ZCp3K1QqcCtmKkUtdypwLVQqZi1kKkUsaj1kKmcqRSt2KncqcCtUKmYqeS1UKmcqcC12KmYqRS1kKncqeTtpLnRyYW5zZm9ybShML0Qsay9ELE4vRCxGL0QsQi9ELGovRCksaS5kcmF3SW1hZ2UoaCwwLDAsbCp1LnJlc29sdXRpb24sYyp1LnJlc29sdXRpb24sMCwwLGwsYyksaS5yZXN0b3JlKCksdGhpcy5yZW5kZXJlci5pbnZhbGlkYXRlQmxlbmRNb2RlKCl9fSx0LnByb3RvdHlwZS5yZW5kZXJNZXNoRmxhdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlbmRlcmVyLmNvbnRleHQscj10LnZlcnRpY2VzLG49ci5sZW5ndGgvMjtlLmJlZ2luUGF0aCgpO2Zvcih2YXIgaT0xO2k8bi0yOysraSl7dmFyIG89MippLHM9cltvXSxhPXJbbysxXSx1PXJbbysyXSxoPXJbbyszXSxsPXJbbys0XSxjPXJbbys1XTtlLm1vdmVUbyhzLGEpLGUubGluZVRvKHUsaCksZS5saW5lVG8obCxjKX1lLmZpbGxTdHlsZT1cXFwiI0ZGMDAwMFxcXCIsZS5maWxsKCksZS5jbG9zZVBhdGgoKX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXI9bnVsbH0sdH0oKTtyLmRlZmF1bHQ9dSxvLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKFxcXCJtZXNoXFxcIix1KX0se1xcXCIuLi8uLi9jb3JlXFxcIjo2NSxcXFwiLi4vTWVzaFxcXCI6MTY2fV0sMTcxOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFxcXCIuL01lc2hcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiTWVzaFxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oaSkuZGVmYXVsdH19KTt2YXIgbz10KFxcXCIuL3dlYmdsL01lc2hSZW5kZXJlclxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJNZXNoUmVuZGVyZXJcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKG8pLmRlZmF1bHR9fSk7dmFyIHM9dChcXFwiLi9jYW52YXMvQ2FudmFzTWVzaFJlbmRlcmVyXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkNhbnZhc01lc2hSZW5kZXJlclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ocykuZGVmYXVsdH19KTt2YXIgYT10KFxcXCIuL1BsYW5lXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIlBsYW5lXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihhKS5kZWZhdWx0fX0pO3ZhciB1PXQoXFxcIi4vTmluZVNsaWNlUGxhbmVcXFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcXFwiTmluZVNsaWNlUGxhbmVcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKHUpLmRlZmF1bHR9fSk7dmFyIGg9dChcXFwiLi9Sb3BlXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIlJvcGVcXFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGgpLmRlZmF1bHR9fSl9LHtcXFwiLi9NZXNoXFxcIjoxNjYsXFxcIi4vTmluZVNsaWNlUGxhbmVcXFwiOjE2NyxcXFwiLi9QbGFuZVxcXCI6MTY4LFxcXCIuL1JvcGVcXFwiOjE2OSxcXFwiLi9jYW52YXMvQ2FudmFzTWVzaFJlbmRlcmVyXFxcIjoxNzAsXFxcIi4vd2ViZ2wvTWVzaFJlbmRlcmVyXFxcIjoxNzJ9XSwxNzI6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9dChcXFwiLi4vLi4vY29yZVxcXCIpLHU9ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShhKSxoPXQoXFxcInBpeGktZ2wtY29yZVxcXCIpLGw9bihoKSxjPXQoXFxcIi4uL01lc2hcXFwiKSxkPW4oYyksZj0odChcXFwicGF0aFxcXCIpLHUuTWF0cml4LklERU5USVRZKSxwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aSh0aGlzLGUpO3ZhciBuPW8odGhpcyx0LmNhbGwodGhpcyxyKSk7cmV0dXJuIG4uc2hhZGVyPW51bGwsbn1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMucmVuZGVyZXIuZ2w7dGhpcy5zaGFkZXI9bmV3IHUuU2hhZGVyKHQsXFxcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXFxcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxcXG5cXFxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcXFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcXFxudW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm07XFxcXG5cXFxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXFxuXFxcXG52b2lkIG1haW4odm9pZClcXFxcbntcXFxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcXFxuXFxcXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXFxcbn1cXFxcblxcXCIsXFxcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXFxcblxcXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxcXG5cXFxcbnZvaWQgbWFpbih2b2lkKVxcXFxue1xcXFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1Q29sb3I7XFxcXG59XFxcXG5cXFwiKX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVuZGVyZXIscj1lLmdsLG49dC5fdGV4dHVyZTtpZihuLnZhbGlkKXt2YXIgaT10Ll9nbERhdGFzW2UuQ09OVEVYVF9VSURdO2l8fChlLmJpbmRWYW8obnVsbCksaT17c2hhZGVyOnRoaXMuc2hhZGVyLHZlcnRleEJ1ZmZlcjpsLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKHIsdC52ZXJ0aWNlcyxyLlNUUkVBTV9EUkFXKSx1dkJ1ZmZlcjpsLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKHIsdC51dnMsci5TVFJFQU1fRFJBVyksaW5kZXhCdWZmZXI6bC5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyKHIsdC5pbmRpY2VzLHIuU1RBVElDX0RSQVcpLHZhbzpudWxsLGRpcnR5OnQuZGlydHksaW5kZXhEaXJ0eTp0LmluZGV4RGlydHksdmVydGV4RGlydHk6dC52ZXJ0ZXhEaXJ0eX0saS52YW89bmV3IGwuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdChyKS5hZGRJbmRleChpLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUoaS52ZXJ0ZXhCdWZmZXIsaS5zaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sci5GTE9BVCwhMSw4LDApLmFkZEF0dHJpYnV0ZShpLnV2QnVmZmVyLGkuc2hhZGVyLmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCxyLkZMT0FULCExLDgsMCksdC5fZ2xEYXRhc1tlLkNPTlRFWFRfVUlEXT1pKSxlLmJpbmRWYW8oaS52YW8pLHQuZGlydHkhPT1pLmRpcnR5JiYoaS5kaXJ0eT10LmRpcnR5LGkudXZCdWZmZXIudXBsb2FkKHQudXZzKSksdC5pbmRleERpcnR5IT09aS5pbmRleERpcnR5JiYoaS5pbmRleERpcnR5PXQuaW5kZXhEaXJ0eSxpLmluZGV4QnVmZmVyLnVwbG9hZCh0LmluZGljZXMpKSx0LnZlcnRleERpcnR5IT09aS52ZXJ0ZXhEaXJ0eSYmKGkudmVydGV4RGlydHk9dC52ZXJ0ZXhEaXJ0eSxpLnZlcnRleEJ1ZmZlci51cGxvYWQodC52ZXJ0aWNlcykpLGUuYmluZFNoYWRlcihpLnNoYWRlciksaS5zaGFkZXIudW5pZm9ybXMudVNhbXBsZXI9ZS5iaW5kVGV4dHVyZShuKSxlLnN0YXRlLnNldEJsZW5kTW9kZSh1LnV0aWxzLmNvcnJlY3RCbGVuZE1vZGUodC5ibGVuZE1vZGUsbi5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpKSxpLnNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtJiYodC51cGxvYWRVdlRyYW5zZm9ybT9pLnNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtPXQuX3V2VHJhbnNmb3JtLm1hcENvb3JkLnRvQXJyYXkoITApOmkuc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm09Zi50b0FycmF5KCEwKSksaS5zaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXg9dC53b3JsZFRyYW5zZm9ybS50b0FycmF5KCEwKSxpLnNoYWRlci51bmlmb3Jtcy51Q29sb3I9dS51dGlscy5wcmVtdWx0aXBseVJnYmEodC50aW50UmdiLHQud29ybGRBbHBoYSxpLnNoYWRlci51bmlmb3Jtcy51Q29sb3Isbi5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpO3ZhciBvPXQuZHJhd01vZGU9PT1kLmRlZmF1bHQuRFJBV19NT0RFUy5UUklBTkdMRV9NRVNIP3IuVFJJQU5HTEVfU1RSSVA6ci5UUklBTkdMRVM7aS52YW8uZHJhdyhvLHQuaW5kaWNlcy5sZW5ndGgsMCl9fSxlfSh1Lk9iamVjdFJlbmRlcmVyKTtyLmRlZmF1bHQ9cCx1LldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oXFxcIm1lc2hcXFwiLHApfSx7XFxcIi4uLy4uL2NvcmVcXFwiOjY1LFxcXCIuLi9NZXNoXFxcIjoxNjYscGF0aDo4LFxcXCJwaXhpLWdsLWNvcmVcXFwiOjE1fV0sMTczOltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxcXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcXFwiKTtyZXR1cm4hZXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBlJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFxcXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFxcXCJ2YWx1ZVxcXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGE9dChcXFwiLi4vY29yZVxcXCIpLHU9ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShhKSxoPXQoXFxcIi4uL2NvcmUvdXRpbHNcXFwiKSxsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MTUwMCxvPWFyZ3VtZW50c1sxXSxzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxNjM4NCxhPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107bih0aGlzLGUpO3ZhciBoPWkodGhpcyx0LmNhbGwodGhpcykpO3JldHVybiBzPjE2Mzg0JiYocz0xNjM4NCkscz5yJiYocz1yKSxoLl9wcm9wZXJ0aWVzPVshMSwhMCwhMSwhMSwhMV0saC5fbWF4U2l6ZT1yLGguX2JhdGNoU2l6ZT1zLGguX2dsQnVmZmVycz17fSxoLl9idWZmZXJVcGRhdGVJRHM9W10saC5fdXBkYXRlSUQ9MCxoLmludGVyYWN0aXZlQ2hpbGRyZW49ITEsaC5ibGVuZE1vZGU9dS5CTEVORF9NT0RFUy5OT1JNQUwsaC5hdXRvUmVzaXplPWEsaC5yb3VuZFBpeGVscz0hMCxoLmJhc2VUZXh0dXJlPW51bGwsaC5zZXRQcm9wZXJ0aWVzKG8pLGguX3RpbnQ9MCxoLnRpbnRSZ2I9bmV3IEZsb2F0MzJBcnJheSg0KSxoLnRpbnQ9MTY3NzcyMTUsaH1yZXR1cm4gbyhlLHQpLGUucHJvdG90eXBlLnNldFByb3BlcnRpZXM9ZnVuY3Rpb24odCl7dCYmKHRoaXMuX3Byb3BlcnRpZXNbMF09XFxcInZlcnRpY2VzXFxcImluIHR8fFxcXCJzY2FsZVxcXCJpbiB0PyEhdC52ZXJ0aWNlc3x8ISF0LnNjYWxlOnRoaXMuX3Byb3BlcnRpZXNbMF0sdGhpcy5fcHJvcGVydGllc1sxXT1cXFwicG9zaXRpb25cXFwiaW4gdD8hIXQucG9zaXRpb246dGhpcy5fcHJvcGVydGllc1sxXSx0aGlzLl9wcm9wZXJ0aWVzWzJdPVxcXCJyb3RhdGlvblxcXCJpbiB0PyEhdC5yb3RhdGlvbjp0aGlzLl9wcm9wZXJ0aWVzWzJdLHRoaXMuX3Byb3BlcnRpZXNbM109XFxcInV2c1xcXCJpbiB0PyEhdC51dnM6dGhpcy5fcHJvcGVydGllc1szXSx0aGlzLl9wcm9wZXJ0aWVzWzRdPVxcXCJ0aW50XFxcImluIHR8fFxcXCJhbHBoYVxcXCJpbiB0PyEhdC50aW50fHwhIXQuYWxwaGE6dGhpcy5fcHJvcGVydGllc1s0XSl9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe3RoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpfSxlLnByb3RvdHlwZS5yZW5kZXJXZWJHTD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMudmlzaWJsZSYmISh0aGlzLndvcmxkQWxwaGE8PTApJiZ0aGlzLmNoaWxkcmVuLmxlbmd0aCYmdGhpcy5yZW5kZXJhYmxlJiYodGhpcy5iYXNlVGV4dHVyZXx8KHRoaXMuYmFzZVRleHR1cmU9dGhpcy5jaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZSx0aGlzLmJhc2VUZXh0dXJlLmhhc0xvYWRlZHx8dGhpcy5iYXNlVGV4dHVyZS5vbmNlKFxcXCJ1cGRhdGVcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25DaGlsZHJlbkNoYW5nZSgwKX0pKSx0LnNldE9iamVjdFJlbmRlcmVyKHQucGx1Z2lucy5wYXJ0aWNsZSksdC5wbHVnaW5zLnBhcnRpY2xlLnJlbmRlcih0aGlzKSl9LGUucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPU1hdGguZmxvb3IodC90aGlzLl9iYXRjaFNpemUpO3RoaXMuX2J1ZmZlclVwZGF0ZUlEcy5sZW5ndGg8ZTspdGhpcy5fYnVmZmVyVXBkYXRlSURzLnB1c2goMCk7dGhpcy5fYnVmZmVyVXBkYXRlSURzW2VdPSsrdGhpcy5fdXBkYXRlSUR9LGUucHJvdG90eXBlLnJlbmRlckNhbnZhcz1mdW5jdGlvbih0KXtpZih0aGlzLnZpc2libGUmJiEodGhpcy53b3JsZEFscGhhPD0wKSYmdGhpcy5jaGlsZHJlbi5sZW5ndGgmJnRoaXMucmVuZGVyYWJsZSl7dmFyIGU9dC5jb250ZXh0LHI9dGhpcy53b3JsZFRyYW5zZm9ybSxuPSEwLGk9MCxvPTAscz0wLGE9MDt0LnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSksZS5nbG9iYWxBbHBoYT10aGlzLndvcmxkQWxwaGEsdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7Zm9yKHZhciB1PTA7dTx0aGlzLmNoaWxkcmVuLmxlbmd0aDsrK3Upe3ZhciBoPXRoaXMuY2hpbGRyZW5bdV07aWYoaC52aXNpYmxlKXt2YXIgbD1oLl90ZXh0dXJlLmZyYW1lO2lmKGUuZ2xvYmFsQWxwaGE9dGhpcy53b3JsZEFscGhhKmguYWxwaGEsaC5yb3RhdGlvbiUoMipNYXRoLlBJKT09MCluJiYoZS5zZXRUcmFuc2Zvcm0oci5hLHIuYixyLmMsci5kLHIudHgqdC5yZXNvbHV0aW9uLHIudHkqdC5yZXNvbHV0aW9uKSxuPSExKSxpPWguYW5jaG9yLngqKC1sLndpZHRoKmguc2NhbGUueCkraC5wb3NpdGlvbi54Ky41LG89aC5hbmNob3IueSooLWwuaGVpZ2h0Kmguc2NhbGUueSkraC5wb3NpdGlvbi55Ky41LHM9bC53aWR0aCpoLnNjYWxlLngsYT1sLmhlaWdodCpoLnNjYWxlLnk7ZWxzZXtufHwobj0hMCksaC5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7dmFyIGM9aC53b3JsZFRyYW5zZm9ybTt0LnJvdW5kUGl4ZWxzP2Uuc2V0VHJhbnNmb3JtKGMuYSxjLmIsYy5jLGMuZCxjLnR4KnQucmVzb2x1dGlvbnwwLGMudHkqdC5yZXNvbHV0aW9ufDApOmUuc2V0VHJhbnNmb3JtKGMuYSxjLmIsYy5jLGMuZCxjLnR4KnQucmVzb2x1dGlvbixjLnR5KnQucmVzb2x1dGlvbiksaT1oLmFuY2hvci54Ki1sLndpZHRoKy41LG89aC5hbmNob3IueSotbC5oZWlnaHQrLjUscz1sLndpZHRoLGE9bC5oZWlnaHR9dmFyIGQ9aC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO2UuZHJhd0ltYWdlKGguX3RleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLGwueCpkLGwueSpkLGwud2lkdGgqZCxsLmhlaWdodCpkLGkqdC5yZXNvbHV0aW9uLG8qdC5yZXNvbHV0aW9uLHMqdC5yZXNvbHV0aW9uLGEqdC5yZXNvbHV0aW9uKX19fX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihlKXtpZih0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyxlKSxcXG50aGlzLl9idWZmZXJzKWZvcih2YXIgcj0wO3I8dGhpcy5fYnVmZmVycy5sZW5ndGg7KytyKXRoaXMuX2J1ZmZlcnNbcl0uZGVzdHJveSgpO3RoaXMuX3Byb3BlcnRpZXM9bnVsbCx0aGlzLl9idWZmZXJzPW51bGwsdGhpcy5fYnVmZmVyVXBkYXRlSURzPW51bGx9LHMoZSxbe2tleTpcXFwidGludFxcXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90aW50PXQsKDAsaC5oZXgycmdiKSh0LHRoaXMudGludFJnYil9fV0pLGV9KHUuQ29udGFpbmVyKTtyLmRlZmF1bHQ9bH0se1xcXCIuLi9jb3JlXFxcIjo2NSxcXFwiLi4vY29yZS91dGlsc1xcXCI6MTI1fV0sMTc0OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFxcXCIuL1BhcnRpY2xlQ29udGFpbmVyXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIlBhcnRpY2xlQ29udGFpbmVyXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihpKS5kZWZhdWx0fX0pO3ZhciBvPXQoXFxcIi4vd2ViZ2wvUGFydGljbGVSZW5kZXJlclxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJQYXJ0aWNsZVJlbmRlcmVyXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihvKS5kZWZhdWx0fX0pfSx7XFxcIi4vUGFydGljbGVDb250YWluZXJcXFwiOjE3MyxcXFwiLi93ZWJnbC9QYXJ0aWNsZVJlbmRlcmVyXFxcIjoxNzZ9XSwxNzU6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz10KFxcXCJwaXhpLWdsLWNvcmVcXFwiKSxzPW4obyksYT10KFxcXCIuLi8uLi9jb3JlL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkc1xcXCIpLHU9bihhKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHIsbixvKXtpKHRoaXMsdCksdGhpcy5nbD1lLHRoaXMuc2l6ZT1vLHRoaXMuZHluYW1pY1Byb3BlcnRpZXM9W10sdGhpcy5zdGF0aWNQcm9wZXJ0aWVzPVtdO2Zvcih2YXIgcz0wO3M8ci5sZW5ndGg7KytzKXt2YXIgYT1yW3NdO2E9e2F0dHJpYnV0ZTphLmF0dHJpYnV0ZSxzaXplOmEuc2l6ZSx1cGxvYWRGdW5jdGlvbjphLnVwbG9hZEZ1bmN0aW9uLHVuc2lnbmVkQnl0ZTphLnVuc2lnbmVkQnl0ZSxvZmZzZXQ6YS5vZmZzZXR9LG5bc10/dGhpcy5keW5hbWljUHJvcGVydGllcy5wdXNoKGEpOnRoaXMuc3RhdGljUHJvcGVydGllcy5wdXNoKGEpfXRoaXMuc3RhdGljU3RyaWRlPTAsdGhpcy5zdGF0aWNCdWZmZXI9bnVsbCx0aGlzLnN0YXRpY0RhdGE9bnVsbCx0aGlzLnN0YXRpY0RhdGFVaW50MzI9bnVsbCx0aGlzLmR5bmFtaWNTdHJpZGU9MCx0aGlzLmR5bmFtaWNCdWZmZXI9bnVsbCx0aGlzLmR5bmFtaWNEYXRhPW51bGwsdGhpcy5keW5hbWljRGF0YVVpbnQzMj1udWxsLHRoaXMuX3VwZGF0ZUlEPTAsdGhpcy5pbml0QnVmZmVycygpfXJldHVybiB0LnByb3RvdHlwZS5pbml0QnVmZmVycz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2wsZT0wO3RoaXMuaW5kaWNlcz0oMCx1LmRlZmF1bHQpKHRoaXMuc2l6ZSksdGhpcy5pbmRleEJ1ZmZlcj1zLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIodCx0aGlzLmluZGljZXMsdC5TVEFUSUNfRFJBVyksdGhpcy5keW5hbWljU3RyaWRlPTA7Zm9yKHZhciByPTA7cjx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsrK3Ipe3ZhciBuPXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbcl07bi5vZmZzZXQ9ZSxlKz1uLnNpemUsdGhpcy5keW5hbWljU3RyaWRlKz1uLnNpemV9dmFyIGk9bmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSp0aGlzLmR5bmFtaWNTdHJpZGUqNCo0KTt0aGlzLmR5bmFtaWNEYXRhPW5ldyBGbG9hdDMyQXJyYXkoaSksdGhpcy5keW5hbWljRGF0YVVpbnQzMj1uZXcgVWludDMyQXJyYXkoaSksdGhpcy5keW5hbWljQnVmZmVyPXMuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIodCxpLHQuU1RSRUFNX0RSQVcpO3ZhciBvPTA7dGhpcy5zdGF0aWNTdHJpZGU9MDtmb3IodmFyIGE9MDthPHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7KythKXt2YXIgaD10aGlzLnN0YXRpY1Byb3BlcnRpZXNbYV07aC5vZmZzZXQ9byxvKz1oLnNpemUsdGhpcy5zdGF0aWNTdHJpZGUrPWguc2l6ZX12YXIgbD1uZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplKnRoaXMuc3RhdGljU3RyaWRlKjQqNCk7dGhpcy5zdGF0aWNEYXRhPW5ldyBGbG9hdDMyQXJyYXkobCksdGhpcy5zdGF0aWNEYXRhVWludDMyPW5ldyBVaW50MzJBcnJheShsKSx0aGlzLnN0YXRpY0J1ZmZlcj1zLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKHQsbCx0LlNUQVRJQ19EUkFXKSx0aGlzLnZhbz1uZXcgcy5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KHQpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO2Zvcih2YXIgYz0wO2M8dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7KytjKXt2YXIgZD10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2NdO2QudW5zaWduZWRCeXRlP3RoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLmR5bmFtaWNCdWZmZXIsZC5hdHRyaWJ1dGUsdC5VTlNJR05FRF9CWVRFLCEwLDQqdGhpcy5keW5hbWljU3RyaWRlLDQqZC5vZmZzZXQpOnRoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLmR5bmFtaWNCdWZmZXIsZC5hdHRyaWJ1dGUsdC5GTE9BVCwhMSw0KnRoaXMuZHluYW1pY1N0cmlkZSw0KmQub2Zmc2V0KX1mb3IodmFyIGY9MDtmPHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7KytmKXt2YXIgcD10aGlzLnN0YXRpY1Byb3BlcnRpZXNbZl07cC51bnNpZ25lZEJ5dGU/dGhpcy52YW8uYWRkQXR0cmlidXRlKHRoaXMuc3RhdGljQnVmZmVyLHAuYXR0cmlidXRlLHQuVU5TSUdORURfQllURSwhMCw0KnRoaXMuc3RhdGljU3RyaWRlLDQqcC5vZmZzZXQpOnRoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLnN0YXRpY0J1ZmZlcixwLmF0dHJpYnV0ZSx0LkZMT0FULCExLDQqdGhpcy5zdGF0aWNTdHJpZGUsNCpwLm9mZnNldCl9fSx0LnByb3RvdHlwZS51cGxvYWREeW5hbWljPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49MDtuPHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5keW5hbWljUHJvcGVydGllc1tuXTtpLnVwbG9hZEZ1bmN0aW9uKHQsZSxyLGkudW5zaWduZWRCeXRlP3RoaXMuZHluYW1pY0RhdGFVaW50MzI6dGhpcy5keW5hbWljRGF0YSx0aGlzLmR5bmFtaWNTdHJpZGUsaS5vZmZzZXQpfXRoaXMuZHluYW1pY0J1ZmZlci51cGxvYWQoKX0sdC5wcm90b3R5cGUudXBsb2FkU3RhdGljPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49MDtuPHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7bisrKXt2YXIgaT10aGlzLnN0YXRpY1Byb3BlcnRpZXNbbl07aS51cGxvYWRGdW5jdGlvbih0LGUscixpLnVuc2lnbmVkQnl0ZT90aGlzLnN0YXRpY0RhdGFVaW50MzI6dGhpcy5zdGF0aWNEYXRhLHRoaXMuc3RhdGljU3RyaWRlLGkub2Zmc2V0KX10aGlzLnN0YXRpY0J1ZmZlci51cGxvYWQoKX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZHluYW1pY1Byb3BlcnRpZXM9bnVsbCx0aGlzLmR5bmFtaWNCdWZmZXIuZGVzdHJveSgpLHRoaXMuZHluYW1pY0J1ZmZlcj1udWxsLHRoaXMuZHluYW1pY0RhdGE9bnVsbCx0aGlzLmR5bmFtaWNEYXRhVWludDMyPW51bGwsdGhpcy5zdGF0aWNQcm9wZXJ0aWVzPW51bGwsdGhpcy5zdGF0aWNCdWZmZXIuZGVzdHJveSgpLHRoaXMuc3RhdGljQnVmZmVyPW51bGwsdGhpcy5zdGF0aWNEYXRhPW51bGwsdGhpcy5zdGF0aWNEYXRhVWludDMyPW51bGx9LHR9KCk7ci5kZWZhdWx0PWh9LHtcXFwiLi4vLi4vY29yZS91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHNcXFwiOjEyMyxcXFwicGl4aS1nbC1jb3JlXFxcIjoxNX1dLDE3NjpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT10KFxcXCIuLi8uLi9jb3JlXFxcIiksdT1mdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9KGEpLGg9dChcXFwiLi9QYXJ0aWNsZVNoYWRlclxcXCIpLGw9bihoKSxjPXQoXFxcIi4vUGFydGljbGVCdWZmZXJcXFwiKSxkPW4oYyksZj10KFxcXCIuLi8uLi9jb3JlL3V0aWxzXFxcIikscD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2kodGhpcyxlKTt2YXIgbj1vKHRoaXMsdC5jYWxsKHRoaXMscikpO3JldHVybiBuLnNoYWRlcj1udWxsLG4uaW5kZXhCdWZmZXI9bnVsbCxuLnByb3BlcnRpZXM9bnVsbCxuLnRlbXBNYXRyaXg9bmV3IHUuTWF0cml4LG4uQ09OVEVYVF9VSUQ9MCxufXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZW5kZXJlci5nbDt0aGlzLkNPTlRFWFRfVUlEPXRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQsdGhpcy5zaGFkZXI9bmV3IGwuZGVmYXVsdCh0KSx0aGlzLnByb3BlcnRpZXM9W3thdHRyaWJ1dGU6dGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sc2l6ZToyLHVwbG9hZEZ1bmN0aW9uOnRoaXMudXBsb2FkVmVydGljZXMsb2Zmc2V0OjB9LHthdHRyaWJ1dGU6dGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hUG9zaXRpb25Db29yZCxzaXplOjIsdXBsb2FkRnVuY3Rpb246dGhpcy51cGxvYWRQb3NpdGlvbixvZmZzZXQ6MH0se2F0dHJpYnV0ZTp0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFSb3RhdGlvbixzaXplOjEsdXBsb2FkRnVuY3Rpb246dGhpcy51cGxvYWRSb3RhdGlvbixvZmZzZXQ6MH0se2F0dHJpYnV0ZTp0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFUZXh0dXJlQ29vcmQsc2l6ZToyLHVwbG9hZEZ1bmN0aW9uOnRoaXMudXBsb2FkVXZzLG9mZnNldDowfSx7YXR0cmlidXRlOnRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYUNvbG9yLHNpemU6MSx1bnNpZ25lZEJ5dGU6ITAsdXBsb2FkRnVuY3Rpb246dGhpcy51cGxvYWRUaW50LG9mZnNldDowfV19LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5iaW5kU2hhZGVyKHRoaXMuc2hhZGVyKX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hpbGRyZW4scj10Ll9tYXhTaXplLG49dC5fYmF0Y2hTaXplLGk9dGhpcy5yZW5kZXJlcixvPWUubGVuZ3RoO2lmKDAhPT1vKXtvPnImJihvPXIpO3ZhciBzPXQuX2dsQnVmZmVyc1tpLkNPTlRFWFRfVUlEXTtzfHwocz10Ll9nbEJ1ZmZlcnNbaS5DT05URVhUX1VJRF09dGhpcy5nZW5lcmF0ZUJ1ZmZlcnModCkpO3ZhciBhPWVbMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7dGhpcy5yZW5kZXJlci5zZXRCbGVuZE1vZGUodS51dGlscy5jb3JyZWN0QmxlbmRNb2RlKHQuYmxlbmRNb2RlLGEucHJlbXVsdGlwbGllZEFscGhhKSk7dmFyIGg9aS5nbCxsPXQud29ybGRUcmFuc2Zvcm0uY29weSh0aGlzLnRlbXBNYXRyaXgpO2wucHJlcGVuZChpLl9hY3RpdmVSZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeCksdGhpcy5zaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeD1sLnRvQXJyYXkoITApLHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvcj11LnV0aWxzLnByZW11bHRpcGx5UmdiYSh0LnRpbnRSZ2IsdC53b3JsZEFscGhhLHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvcixhLnByZW11bHRpcGxpZWRBbHBoYSksdGhpcy5zaGFkZXIudW5pZm9ybXMudVNhbXBsZXI9aS5iaW5kVGV4dHVyZShhKTtmb3IodmFyIGM9ITEsZD0wLGY9MDtkPG87ZCs9bixmKz0xKXt2YXIgcD1vLWQ7aWYocD5uJiYocD1uKSxmPj1zLmxlbmd0aCl7aWYoIXQuYXV0b1Jlc2l6ZSlicmVhaztzLnB1c2godGhpcy5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKHQpKX12YXIgdj1zW2ZdO3YudXBsb2FkRHluYW1pYyhlLGQscCk7dmFyIGc9dC5fYnVmZmVyVXBkYXRlSURzW2ZdfHwwO2M9Y3x8di5fdXBkYXRlSUQ8ZyxjJiYodi5fdXBkYXRlSUQ9dC5fdXBkYXRlSUQsdi51cGxvYWRTdGF0aWMoZSxkLHApKSxpLmJpbmRWYW8odi52YW8pLHYudmFvLmRyYXcoaC5UUklBTkdMRVMsNipwKX19fSxlLnByb3RvdHlwZS5nZW5lcmF0ZUJ1ZmZlcnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVuZGVyZXIuZ2wscj1bXSxuPXQuX21heFNpemUsaT10Ll9iYXRjaFNpemUsbz10Ll9wcm9wZXJ0aWVzLHM9MDtzPG47cys9aSlyLnB1c2gobmV3IGQuZGVmYXVsdChlLHRoaXMucHJvcGVydGllcyxvLGkpKTtyZXR1cm4gcn0sZS5wcm90b3R5cGUuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlbmRlcmVyLmdsLHI9dC5fYmF0Y2hTaXplLG49dC5fcHJvcGVydGllcztyZXR1cm4gbmV3IGQuZGVmYXVsdChlLHRoaXMucHJvcGVydGllcyxuLHIpfSxlLnByb3RvdHlwZS51cGxvYWRWZXJ0aWNlcz1mdW5jdGlvbih0LGUscixuLGksbyl7Zm9yKHZhciBzPTAsYT0wLHU9MCxoPTAsbD0wO2w8cjsrK2wpe3ZhciBjPXRbZStsXSxkPWMuX3RleHR1cmUsZj1jLnNjYWxlLngscD1jLnNjYWxlLnksdj1kLnRyaW0sZz1kLm9yaWc7dj8oYT12LngtYy5hbmNob3IueCpnLndpZHRoLHM9YSt2LndpZHRoLGg9di55LWMuYW5jaG9yLnkqZy5oZWlnaHQsdT1oK3YuaGVpZ2h0KToocz1nLndpZHRoKigxLWMuYW5jaG9yLngpLGE9Zy53aWR0aCotYy5hbmNob3IueCx1PWcuaGVpZ2h0KigxLWMuYW5jaG9yLnkpLGg9Zy5oZWlnaHQqLWMuYW5jaG9yLnkpLG5bb109YSpmLG5bbysxXT1oKnAsbltvK2ldPXMqZixuW28raSsxXT1oKnAsbltvKzIqaV09cypmLG5bbysyKmkrMV09dSpwLG5bbyszKmldPWEqZixuW28rMyppKzFdPXUqcCxvKz00Kml9fSxlLnByb3RvdHlwZS51cGxvYWRQb3NpdGlvbj1mdW5jdGlvbih0LGUscixuLGksbyl7Zm9yKHZhciBzPTA7czxyO3MrKyl7dmFyIGE9dFtlK3NdLnBvc2l0aW9uO25bb109YS54LG5bbysxXT1hLnksbltvK2ldPWEueCxuW28raSsxXT1hLnksbltvKzIqaV09YS54LG5bbysyKmkrMV09YS55LG5bbyszKmldPWEueCxuW28rMyppKzFdPWEueSxvKz00Kml9fSxlLnByb3RvdHlwZS51cGxvYWRSb3RhdGlvbj1mdW5jdGlvbih0LGUscixuLGksbyl7Zm9yKHZhciBzPTA7czxyO3MrKyl7dmFyIGE9dFtlK3NdLnJvdGF0aW9uO25bb109YSxuW28raV09YSxuW28rMippXT1hLG5bbyszKmldPWEsbys9NCppfX0sZS5wcm90b3R5cGUudXBsb2FkVXZzPWZ1bmN0aW9uKHQsZSxyLG4saSxvKXtmb3IodmFyIHM9MDtzPHI7KytzKXt2YXIgYT10W2Urc10uX3RleHR1cmUuX3V2czthPyhuW29dPWEueDAsbltvKzFdPWEueTAsbltvK2ldPWEueDEsbltvK2krMV09YS55MSxuW28rMippXT1hLngyLG5bbysyKmkrMV09YS55MixuW28rMyppXT1hLngzLG5bbyszKmkrMV09YS55MyxvKz00KmkpOihuW29dPTAsbltvKzFdPTAsbltvK2ldPTAsbltvK2krMV09MCxuW28rMippXT0wLG5bbysyKmkrMV09MCxuW28rMyppXT0wLG5bbyszKmkrMV09MCxvKz00KmkpfX0sZS5wcm90b3R5cGUudXBsb2FkVGludD1mdW5jdGlvbih0LGUscixuLGksbyl7Zm9yKHZhciBzPTA7czxyOysrcyl7dmFyIGE9dFtlK3NdLHU9YS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEsaD1hLmFscGhhLGw9aDwxJiZ1PygwLGYucHJlbXVsdGlwbHlUaW50KShhLl90aW50UkdCLGgpOmEuX3RpbnRSR0IrKDI1NSpoPDwyNCk7bltvXT1sLG5bbytpXT1sLG5bbysyKmldPWwsbltvKzMqaV09bCxvKz00Kml9fSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5nbCYmdGhpcy5yZW5kZXJlci5nbC5kZWxldGVCdWZmZXIodGhpcy5pbmRleEJ1ZmZlciksdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMuc2hhZGVyLmRlc3Ryb3koKSx0aGlzLmluZGljZXM9bnVsbCx0aGlzLnRlbXBNYXRyaXg9bnVsbH0sZX0odS5PYmplY3RSZW5kZXJlcik7ci5kZWZhdWx0PXAsdS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKFxcXCJwYXJ0aWNsZVxcXCIscCl9LHtcXFwiLi4vLi4vY29yZVxcXCI6NjUsXFxcIi4uLy4uL2NvcmUvdXRpbHNcXFwiOjEyNSxcXFwiLi9QYXJ0aWNsZUJ1ZmZlclxcXCI6MTc1LFxcXCIuL1BhcnRpY2xlU2hhZGVyXFxcIjoxNzd9XSwxNzc6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXFxcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFxcXCIpO3JldHVybiFlfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGUmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXFxcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHM9dChcXFwiLi4vLi4vY29yZS9TaGFkZXJcXFwiKSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0ocyksdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe3JldHVybiBuKHRoaXMsZSksaSh0aGlzLHQuY2FsbCh0aGlzLHIsW1xcXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxcIixcXFwiYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXFwiLFxcXCJhdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxcIixcXFwiYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uQ29vcmQ7XFxcIixcXFwiYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjtcXFwiLFxcXCJ1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXFwiLFxcXCJ1bmlmb3JtIHZlYzQgdUNvbG9yO1xcXCIsXFxcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXCIsXFxcInZhcnlpbmcgdmVjNCB2Q29sb3I7XFxcIixcXFwidm9pZCBtYWluKHZvaWQpe1xcXCIsXFxcIiAgIGZsb2F0IHggPSAoYVZlcnRleFBvc2l0aW9uLngpICogY29zKGFSb3RhdGlvbikgLSAoYVZlcnRleFBvc2l0aW9uLnkpICogc2luKGFSb3RhdGlvbik7XFxcIixcXFwiICAgZmxvYXQgeSA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBzaW4oYVJvdGF0aW9uKSArIChhVmVydGV4UG9zaXRpb24ueSkgKiBjb3MoYVJvdGF0aW9uKTtcXFwiLFxcXCIgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpO1xcXCIsXFxcIiAgIHYgPSB2ICsgYVBvc2l0aW9uQ29vcmQ7XFxcIixcXFwiICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyh2LCAxLjApKS54eSwgMC4wLCAxLjApO1xcXCIsXFxcIiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcXCIsXFxcIiAgIHZDb2xvciA9IGFDb2xvciAqIHVDb2xvcjtcXFwiLFxcXCJ9XFxcIl0uam9pbihcXFwiXFxcXG5cXFwiKSxbXFxcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcXCIsXFxcInZhcnlpbmcgdmVjNCB2Q29sb3I7XFxcIixcXFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxcIixcXFwidm9pZCBtYWluKHZvaWQpe1xcXCIsXFxcIiAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7XFxcIixcXFwiICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXFwiLFxcXCJ9XFxcIl0uam9pbihcXFwiXFxcXG5cXFwiKSkpfXJldHVybiBvKGUsdCksZX0oYS5kZWZhdWx0KTtyLmRlZmF1bHQ9dX0se1xcXCIuLi8uLi9jb3JlL1NoYWRlclxcXCI6NDR9XSwxNzg6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7TWF0aC5zaWdufHwoTWF0aC5zaWduPWZ1bmN0aW9uKHQpe3JldHVybiB0PU51bWJlcih0KSwwPT09dHx8aXNOYU4odCk/dDp0PjA/MTotMX0pfSx7fV0sMTc5OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO051bWJlci5pc0ludGVnZXJ8fChOdW1iZXIuaXNJbnRlZ2VyPWZ1bmN0aW9uKHQpe3JldHVyblxcXCJudW1iZXJcXFwiPT10eXBlb2YgdCYmaXNGaW5pdGUodCkmJk1hdGguZmxvb3IodCk9PT10fSl9LHt9XSwxODA6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7dmFyIG49dChcXFwib2JqZWN0LWFzc2lnblxcXCIpLGk9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShuKTtPYmplY3QuYXNzaWdufHwoT2JqZWN0LmFzc2lnbj1pLmRlZmF1bHQpfSx7XFxcIm9iamVjdC1hc3NpZ25cXFwiOjZ9XSwxODE6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7dChcXFwiLi9PYmplY3QuYXNzaWduXFxcIiksdChcXFwiLi9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcXFwiKSx0KFxcXCIuL01hdGguc2lnblxcXCIpLHQoXFxcIi4vTnVtYmVyLmlzSW50ZWdlclxcXCIpLHdpbmRvdy5BcnJheUJ1ZmZlcnx8KHdpbmRvdy5BcnJheUJ1ZmZlcj1BcnJheSksd2luZG93LkZsb2F0MzJBcnJheXx8KHdpbmRvdy5GbG9hdDMyQXJyYXk9QXJyYXkpLHdpbmRvdy5VaW50MzJBcnJheXx8KHdpbmRvdy5VaW50MzJBcnJheT1BcnJheSksd2luZG93LlVpbnQxNkFycmF5fHwod2luZG93LlVpbnQxNkFycmF5PUFycmF5KX0se1xcXCIuL01hdGguc2lnblxcXCI6MTc4LFxcXCIuL051bWJlci5pc0ludGVnZXJcXFwiOjE3OSxcXFwiLi9PYmplY3QuYXNzaWduXFxcIjoxODAsXFxcIi4vcmVxdWVzdEFuaW1hdGlvbkZyYW1lXFxcIjoxODJ9XSwxODI6W2Z1bmN0aW9uKHQsZSxyKXsoZnVuY3Rpb24odCl7XFxcInVzZSBzdHJpY3RcXFwiO2lmKERhdGUubm93JiZEYXRlLnByb3RvdHlwZS5nZXRUaW1lfHwoRGF0ZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0pLCF0LnBlcmZvcm1hbmNlfHwhdC5wZXJmb3JtYW5jZS5ub3cpe3ZhciBlPURhdGUubm93KCk7dC5wZXJmb3JtYW5jZXx8KHQucGVyZm9ybWFuY2U9e30pLHQucGVyZm9ybWFuY2Uubm93PWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktZX19Zm9yKHZhciByPURhdGUubm93KCksbj1bXFxcIm1zXFxcIixcXFwibW96XFxcIixcXFwid2Via2l0XFxcIixcXFwib1xcXCJdLGk9MDtpPG4ubGVuZ3RoJiYhdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7KytpKXt2YXIgbz1uW2ldO3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lPXRbbytcXFwiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXFxcIl0sdC5jYW5jZWxBbmltYXRpb25GcmFtZT10W28rXFxcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXFxcIl18fHRbbytcXFwiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXFxcIl19dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh0LnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbih0KXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKHQrXFxcImlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7dmFyIGU9RGF0ZS5ub3coKSxuPTE2K3ItZTtyZXR1cm4gbjwwJiYobj0wKSxyPWUsc2V0VGltZW91dChmdW5jdGlvbigpe3I9RGF0ZS5ub3coKSx0KHBlcmZvcm1hbmNlLm5vdygpKX0sbil9KSx0LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHwodC5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gY2xlYXJUaW1lb3V0KHQpfSl9KS5jYWxsKHRoaXMsXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2Ygc2VsZj9zZWxmOlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwxODM6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfWZ1bmN0aW9uIGkodCxlKXt2YXIgcj0hMTtpZih0JiZ0Ll90ZXh0dXJlcyYmdC5fdGV4dHVyZXMubGVuZ3RoKWZvcih2YXIgbj0wO248dC5fdGV4dHVyZXMubGVuZ3RoO24rKylpZih0Ll90ZXh0dXJlc1tuXWluc3RhbmNlb2YgZC5UZXh0dXJlKXt2YXIgaT10Ll90ZXh0dXJlc1tuXS5iYXNlVGV4dHVyZTstMT09PWUuaW5kZXhPZihpKSYmKGUucHVzaChpKSxyPSEwKX1yZXR1cm4gcn1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBkLkJhc2VUZXh0dXJlJiYoLTE9PT1lLmluZGV4T2YodCkmJmUucHVzaCh0KSwhMCl9ZnVuY3Rpb24gcyh0LGUpe2lmKHQuX3RleHR1cmUmJnQuX3RleHR1cmUgaW5zdGFuY2VvZiBkLlRleHR1cmUpe3ZhciByPXQuX3RleHR1cmUuYmFzZVRleHR1cmU7cmV0dXJuLTE9PT1lLmluZGV4T2YocikmJmUucHVzaChyKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBhKHQsZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBkLlRleHQmJihlLnVwZGF0ZVRleHQoITApLCEwKX1mdW5jdGlvbiB1KHQsZSl7aWYoZSBpbnN0YW5jZW9mIGQuVGV4dFN0eWxlKXt2YXIgcj1lLnRvRm9udFN0cmluZygpO3JldHVybiBkLlRleHRNZXRyaWNzLm1lYXN1cmVGb250KHIpLCEwfXJldHVybiExfWZ1bmN0aW9uIGgodCxlKXtpZih0IGluc3RhbmNlb2YgZC5UZXh0KXstMT09PWUuaW5kZXhPZih0LnN0eWxlKSYmZS5wdXNoKHQuc3R5bGUpLC0xPT09ZS5pbmRleE9mKHQpJiZlLnB1c2godCk7dmFyIHI9dC5fdGV4dHVyZS5iYXNlVGV4dHVyZTtyZXR1cm4tMT09PWUuaW5kZXhPZihyKSYmZS5wdXNoKHIpLCEwfXJldHVybiExfWZ1bmN0aW9uIGwodCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIGQuVGV4dFN0eWxlJiYoLTE9PT1lLmluZGV4T2YodCkmJmUucHVzaCh0KSwhMCl9ci5fX2VzTW9kdWxlPSEwO3ZhciBjPXQoXFxcIi4uL2NvcmVcXFwiKSxkPWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0oYyksZj10KFxcXCIuL2xpbWl0ZXJzL0NvdW50TGltaXRlclxcXCIpLHA9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShmKSx2PWQudGlja2VyLnNoYXJlZDtkLnNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FPTQ7dmFyIGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPXRoaXM7bih0aGlzLHQpLHRoaXMubGltaXRlcj1uZXcgcC5kZWZhdWx0KGQuc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUpLHRoaXMucmVuZGVyZXI9ZSx0aGlzLnVwbG9hZEhvb2tIZWxwZXI9bnVsbCx0aGlzLnF1ZXVlPVtdLHRoaXMuYWRkSG9va3M9W10sdGhpcy51cGxvYWRIb29rcz1bXSx0aGlzLmNvbXBsZXRlcz1bXSx0aGlzLnRpY2tpbmc9ITEsdGhpcy5kZWxheWVkVGljaz1mdW5jdGlvbigpe3IucXVldWUmJnIucHJlcGFyZUl0ZW1zKCl9LHRoaXMucmVnaXN0ZXJGaW5kSG9vayhoKSx0aGlzLnJlZ2lzdGVyRmluZEhvb2sobCksdGhpcy5yZWdpc3RlckZpbmRIb29rKGkpLHRoaXMucmVnaXN0ZXJGaW5kSG9vayhvKSx0aGlzLnJlZ2lzdGVyRmluZEhvb2socyksdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soYSksdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodSl9cmV0dXJuIHQucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0LGUpe1xcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB0JiYoZT10LHQ9bnVsbCksdCYmdGhpcy5hZGQodCksdGhpcy5xdWV1ZS5sZW5ndGg/KGUmJnRoaXMuY29tcGxldGVzLnB1c2goZSksdGhpcy50aWNraW5nfHwodGhpcy50aWNraW5nPSEwLHYuYWRkT25jZSh0aGlzLnRpY2ssdGhpcyxkLlVQREFURV9QUklPUklUWS5VVElMSVRZKSkpOmUmJmUoKX0sdC5wcm90b3R5cGUudGljaz1mdW5jdGlvbigpe3NldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywwKX0sdC5wcm90b3R5cGUucHJlcGFyZUl0ZW1zPWZ1bmN0aW9uKCl7Zm9yKHRoaXMubGltaXRlci5iZWdpbkZyYW1lKCk7dGhpcy5xdWV1ZS5sZW5ndGgmJnRoaXMubGltaXRlci5hbGxvd2VkVG9VcGxvYWQoKTspe3ZhciB0PXRoaXMucXVldWVbMF0sZT0hMTtpZih0JiYhdC5fZGVzdHJveWVkKWZvcih2YXIgcj0wLG49dGhpcy51cGxvYWRIb29rcy5sZW5ndGg7cjxuO3IrKylpZih0aGlzLnVwbG9hZEhvb2tzW3JdKHRoaXMudXBsb2FkSG9va0hlbHBlcix0KSl7dGhpcy5xdWV1ZS5zaGlmdCgpLGU9ITA7YnJlYWt9ZXx8dGhpcy5xdWV1ZS5zaGlmdCgpfWlmKHRoaXMucXVldWUubGVuZ3RoKXYuYWRkT25jZSh0aGlzLnRpY2ssdGhpcyxkLlVQREFURV9QUklPUklUWS5VVElMSVRZKTtlbHNle3RoaXMudGlja2luZz0hMTt2YXIgaT10aGlzLmNvbXBsZXRlcy5zbGljZSgwKTt0aGlzLmNvbXBsZXRlcy5sZW5ndGg9MDtmb3IodmFyIG89MCxzPWkubGVuZ3RoO288cztvKyspaVtvXSgpfX0sdC5wcm90b3R5cGUucmVnaXN0ZXJGaW5kSG9vaz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdGhpcy5hZGRIb29rcy5wdXNoKHQpLHRoaXN9LHQucHJvdG90eXBlLnJlZ2lzdGVyVXBsb2FkSG9vaz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdGhpcy51cGxvYWRIb29rcy5wdXNoKHQpLHRoaXN9LHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMuYWRkSG9va3MubGVuZ3RoO2U8ciYmIXRoaXMuYWRkSG9va3NbZV0odCx0aGlzLnF1ZXVlKTtlKyspO2lmKHQgaW5zdGFuY2VvZiBkLkNvbnRhaW5lcilmb3IodmFyIG49dC5jaGlsZHJlbi5sZW5ndGgtMTtuPj0wO24tLSl0aGlzLmFkZCh0LmNoaWxkcmVuW25dKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudGlja2luZyYmdi5yZW1vdmUodGhpcy50aWNrLHRoaXMpLHRoaXMudGlja2luZz0hMSx0aGlzLmFkZEhvb2tzPW51bGwsdGhpcy51cGxvYWRIb29rcz1udWxsLHRoaXMucmVuZGVyZXI9bnVsbCx0aGlzLmNvbXBsZXRlcz1udWxsLHRoaXMucXVldWU9bnVsbCx0aGlzLmxpbWl0ZXI9bnVsbCx0aGlzLnVwbG9hZEhvb2tIZWxwZXI9bnVsbH0sdH0oKTtyLmRlZmF1bHQ9Z30se1xcXCIuLi9jb3JlXFxcIjo2NSxcXFwiLi9saW1pdGVycy9Db3VudExpbWl0ZXJcXFwiOjE4Nn1dLDE4NDpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWZ1bmN0aW9uIHModCxlKXtpZihlIGluc3RhbmNlb2YgdS5CYXNlVGV4dHVyZSl7dmFyIHI9ZS5zb3VyY2Usbj0wPT09ci53aWR0aD90LmNhbnZhcy53aWR0aDpNYXRoLm1pbih0LmNhbnZhcy53aWR0aCxyLndpZHRoKSxpPTA9PT1yLmhlaWdodD90LmNhbnZhcy5oZWlnaHQ6TWF0aC5taW4odC5jYW52YXMuaGVpZ2h0LHIuaGVpZ2h0KTtyZXR1cm4gdC5jdHguZHJhd0ltYWdlKHIsMCwwLG4saSwwLDAsdC5jYW52YXMud2lkdGgsdC5jYW52YXMuaGVpZ2h0KSwhMH1yZXR1cm4hMX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9dChcXFwiLi4vLi4vY29yZVxcXCIpLHU9ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfShhKSxoPXQoXFxcIi4uL0Jhc2VQcmVwYXJlXFxcIiksbD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KGgpLGM9MTYsZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe24odGhpcyxlKTt2YXIgbz1pKHRoaXMsdC5jYWxsKHRoaXMscikpO3JldHVybiBvLnVwbG9hZEhvb2tIZWxwZXI9byxvLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJjYW52YXNcXFwiKSxvLmNhbnZhcy53aWR0aD1jLG8uY2FudmFzLmhlaWdodD1jLG8uY3R4PW8uY2FudmFzLmdldENvbnRleHQoXFxcIjJkXFxcIiksby5yZWdpc3RlclVwbG9hZEhvb2socyksb31yZXR1cm4gbyhlLHQpLGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5jdHg9bnVsbCx0aGlzLmNhbnZhcz1udWxsfSxlfShsLmRlZmF1bHQpO3IuZGVmYXVsdD1kLHUuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oXFxcInByZXBhcmVcXFwiLGQpfSx7XFxcIi4uLy4uL2NvcmVcXFwiOjY1LFxcXCIuLi9CYXNlUHJlcGFyZVxcXCI6MTgzfV0sMTg1OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFxcXCIuL3dlYmdsL1dlYkdMUHJlcGFyZVxcXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFxcXCJ3ZWJnbFxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oaSkuZGVmYXVsdH19KTt2YXIgbz10KFxcXCIuL2NhbnZhcy9DYW52YXNQcmVwYXJlXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcImNhbnZhc1xcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4obykuZGVmYXVsdH19KTt2YXIgcz10KFxcXCIuL0Jhc2VQcmVwYXJlXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkJhc2VQcmVwYXJlXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihzKS5kZWZhdWx0fX0pO3ZhciBhPXQoXFxcIi4vbGltaXRlcnMvQ291bnRMaW1pdGVyXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIkNvdW50TGltaXRlclxcXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oYSkuZGVmYXVsdH19KTt2YXIgdT10KFxcXCIuL2xpbWl0ZXJzL1RpbWVMaW1pdGVyXFxcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXFxcIlRpbWVMaW1pdGVyXFxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbih1KS5kZWZhdWx0fX0pfSx7XFxcIi4vQmFzZVByZXBhcmVcXFwiOjE4MyxcXFwiLi9jYW52YXMvQ2FudmFzUHJlcGFyZVxcXCI6MTg0LFxcXCIuL2xpbWl0ZXJzL0NvdW50TGltaXRlclxcXCI6MTg2LFxcXCIuL2xpbWl0ZXJzL1RpbWVMaW1pdGVyXFxcIjoxODcsXFxcIi4vd2ViZ2wvV2ViR0xQcmVwYXJlXFxcIjoxODh9XSwxODY6W2Z1bmN0aW9uKHQsZSxyKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblxcXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7bih0aGlzLHQpLHRoaXMubWF4SXRlbXNQZXJGcmFtZT1lLHRoaXMuaXRlbXNMZWZ0PTB9cmV0dXJuIHQucHJvdG90eXBlLmJlZ2luRnJhbWU9ZnVuY3Rpb24oKXt0aGlzLml0ZW1zTGVmdD10aGlzLm1heEl0ZW1zUGVyRnJhbWV9LHQucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW1zTGVmdC0tID4wfSx0fSgpO3IuZGVmYXVsdD1pfSx7fV0sMTg3OltmdW5jdGlvbih0LGUscil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe24odGhpcyx0KSx0aGlzLm1heE1pbGxpc2Vjb25kcz1lLHRoaXMuZnJhbWVTdGFydD0wfXJldHVybiB0LnByb3RvdHlwZS5iZWdpbkZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5mcmFtZVN0YXJ0PURhdGUubm93KCl9LHQucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZD1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpLXRoaXMuZnJhbWVTdGFydDx0aGlzLm1heE1pbGxpc2Vjb25kc30sdH0oKTtyLmRlZmF1bHQ9aX0se31dLDE4ODpbZnVuY3Rpb24odCxlLHIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcXFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXFxcIik7cmV0dXJuIWV8fFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZSYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcXFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGwuQmFzZVRleHR1cmUmJihlLl9nbFRleHR1cmVzW3QuQ09OVEVYVF9VSURdfHx0LnRleHR1cmVNYW5hZ2VyLnVwZGF0ZVRleHR1cmUoZSksITApfWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGwuR3JhcGhpY3MmJigoZS5kaXJ0eXx8ZS5jbGVhckRpcnR5fHwhZS5fd2ViR0xbdC5wbHVnaW5zLmdyYXBoaWNzLkNPTlRFWFRfVUlEXSkmJnQucGx1Z2lucy5ncmFwaGljcy51cGRhdGVHcmFwaGljcyhlKSwhMCl9ZnVuY3Rpb24gdSh0LGUpe3JldHVybiB0IGluc3RhbmNlb2YgbC5HcmFwaGljcyYmKGUucHVzaCh0KSwhMCl9ci5fX2VzTW9kdWxlPSEwO3ZhciBoPXQoXFxcIi4uLy4uL2NvcmVcXFwiKSxsPWZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX0oaCksYz10KFxcXCIuLi9CYXNlUHJlcGFyZVxcXCIpLGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShjKSxmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7bih0aGlzLGUpO3ZhciBvPWkodGhpcyx0LmNhbGwodGhpcyxyKSk7cmV0dXJuIG8udXBsb2FkSG9va0hlbHBlcj1vLnJlbmRlcmVyLG8ucmVnaXN0ZXJGaW5kSG9vayh1KSxvLnJlZ2lzdGVyVXBsb2FkSG9vayhzKSxvLnJlZ2lzdGVyVXBsb2FkSG9vayhhKSxvfXJldHVybiBvKGUsdCksZX0oZC5kZWZhdWx0KTtyLmRlZmF1bHQ9ZixsLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oXFxcInByZXBhcmVcXFwiLGYpfSx7XFxcIi4uLy4uL2NvcmVcXFwiOjY1LFxcXCIuLi9CYXNlUHJlcGFyZVxcXCI6MTgzfV0sMTg5OltmdW5jdGlvbih0LGUscil7KGZ1bmN0aW9uKGUpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBuKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1yLl9fZXNNb2R1bGU9ITAsci5sb2FkZXI9ci5wcmVwYXJlPXIucGFydGljbGVzPXIubWVzaD1yLmxvYWRlcnM9ci5pbnRlcmFjdGlvbj1yLmZpbHRlcnM9ci5leHRyYXM9ci5leHRyYWN0PXIuYWNjZXNzaWJpbGl0eT12b2lkIDA7dmFyIGk9dChcXFwiLi9wb2x5ZmlsbFxcXCIpO09iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24odCl7XFxcImRlZmF1bHRcXFwiIT09dCYmXFxcIl9fZXNNb2R1bGVcXFwiIT09dCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaVt0XX19KX0pO3ZhciBvPXQoXFxcIi4vY29yZVxcXCIpO09iamVjdC5rZXlzKG8pLmZvckVhY2goZnVuY3Rpb24odCl7XFxcImRlZmF1bHRcXFwiIT09dCYmXFxcIl9fZXNNb2R1bGVcXFwiIT09dCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb1t0XX19KX0pO3ZhciBzPXQoXFxcIi4vZGVwcmVjYXRpb25cXFwiKSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0ocyksdT10KFxcXCIuL2FjY2Vzc2liaWxpdHlcXFwiKSxoPW4odSksbD10KFxcXCIuL2V4dHJhY3RcXFwiKSxjPW4obCksZD10KFxcXCIuL2V4dHJhc1xcXCIpLGY9bihkKSxwPXQoXFxcIi4vZmlsdGVyc1xcXCIpLHY9bihwKSxnPXQoXFxcIi4vaW50ZXJhY3Rpb25cXFwiKSx5PW4oZyksbT10KFxcXCIuL2xvYWRlcnNcXFwiKSxfPW4obSksYj10KFxcXCIuL21lc2hcXFwiKSx4PW4oYiksVD10KFxcXCIuL3BhcnRpY2xlc1xcXCIpLHc9bihUKSxFPXQoXFxcIi4vcHJlcGFyZVxcXCIpLFM9bihFKTtvLnV0aWxzLm1peGlucy5wZXJmb3JtTWl4aW5zKCk7dmFyIE89Xy5zaGFyZWR8fG51bGw7ci5hY2Nlc3NpYmlsaXR5PWgsci5leHRyYWN0PWMsci5leHRyYXM9ZixyLmZpbHRlcnM9dixyLmludGVyYWN0aW9uPXksci5sb2FkZXJzPV8sci5tZXNoPXgsci5wYXJ0aWNsZXM9dyxyLnByZXBhcmU9UyxyLmxvYWRlcj1PLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBhLmRlZmF1bHQmJigwLGEuZGVmYXVsdCkociksZS5QSVhJPXJ9KS5jYWxsKHRoaXMsXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2Ygc2VsZj9zZWxmOlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcXFwiLi9hY2Nlc3NpYmlsaXR5XFxcIjo0MixcXFwiLi9jb3JlXFxcIjo2NSxcXFwiLi9kZXByZWNhdGlvblxcXCI6MTMxLFxcXCIuL2V4dHJhY3RcXFwiOjEzMyxcXFwiLi9leHRyYXNcXFwiOjE0MSxcXFwiLi9maWx0ZXJzXFxcIjoxNTMsXFxcIi4vaW50ZXJhY3Rpb25cXFwiOjE1OSxcXFwiLi9sb2FkZXJzXFxcIjoxNjIsXFxcIi4vbWVzaFxcXCI6MTcxLFxcXCIuL3BhcnRpY2xlc1xcXCI6MTc0LFxcXCIuL3BvbHlmaWxsXFxcIjoxODEsXFxcIi4vcHJlcGFyZVxcXCI6MTg1fV19LHt9LFsxODldKSgxODkpfSk7XFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGl4aS5taW4uanMubWFwXFxuXCIiLCJcbi8vZmF2XG5pbXBvcnQgZmF2aWNvbiBmcm9tICcuLi9pbWcvZmF2aWNvbi5pY28nXG4vLyBpbWFnZXNcbmltcG9ydCBib2FyZF9ibG9jayBmcm9tICcuLi9pbWcvYm9hcmRfYmxvY2sucG5nJ1xuaW1wb3J0IGFycm93IGZyb20gJy4uL2ltZy9hcnJvdy5wbmcnXG5pbXBvcnQgcmVzdWx0X3JlZCBmcm9tICcuLi9pbWcvcmVzdWx0X3JlZC5wbmcnXG5pbXBvcnQgcmVzdWx0X2JsdWUgZnJvbSAnLi4vaW1nL3Jlc3VsdF9ibHVlLnBuZydcbmltcG9ydCByZXN1bHRfdGllIGZyb20gJy4uL2ltZy9yZXN1bHRfdGllLnBuZydcbmltcG9ydCBjaGlwX3JlZCBmcm9tICcuLi9pbWcvY2hpcF9yZWQucG5nJ1xuaW1wb3J0IGNoaXBfYmx1ZSBmcm9tICcuLi9pbWcvY2hpcF9ibHVlLnBuZydcbmltcG9ydCBjaGlwX3JlZF9kcm9wIGZyb20gJy4uL2ltZy9jaGlwX3JlZF9kcm9wLnBuZydcbmltcG9ydCBjaGlwX2JsdWVfZHJvcCBmcm9tICcuLi9pbWcvY2hpcF9ibHVlX2Ryb3AucG5nJ1xuaW1wb3J0IGNoaXBfcmVkX3dpbiBmcm9tICcuLi9pbWcvY2hpcF9yZWRfd2luLnBuZydcbmltcG9ydCBjaGlwX2JsdWVfd2luIGZyb20gJy4uL2ltZy9jaGlwX2JsdWVfd2luLnBuZydcbmltcG9ydCBjaGlwX3JlZF9zaGFkb3cgZnJvbSAnLi4vaW1nL2NoaXBfcmVkX3NoYWRvdy5wbmcnXG5pbXBvcnQgY2hpcF9ibHVlX3NoYWRvdyBmcm9tICcuLi9pbWcvY2hpcF9ibHVlX3NoYWRvdy5wbmcnXG5pbXBvcnQgbWVzc2FnZV9ib2FyZCBmcm9tICcuLi9pbWcvbWVzc2FnZV9ib2FyZC5wbmcnXG5pbXBvcnQgdHJ5X2FnYWluX3JlZCBmcm9tICcuLi9pbWcvdHJ5X2FnYWluX3JlZC5wbmcnXG5pbXBvcnQgdHJ5X2FnYWluX2JsdWUgZnJvbSAnLi4vaW1nL3RyeV9hZ2Fpbl9ibHVlLnBuZydcbmltcG9ydCByb2NrZXRfcmVkIGZyb20gJy4uL2ltZy9yb2NrZXRfcmVkLnBuZydcbmltcG9ydCByb2NrZXRfYmx1ZSBmcm9tICcuLi9pbWcvcm9ja2V0X2JsdWUucG5nJ1xuaW1wb3J0IGJ0bl9yZXBsYXkgZnJvbSAnLi4vaW1nL2J0bl9yZXBsYXkucG5nJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgQ09OVEFJTkVSOiAnI2dhbWUtYmxvY2snLFxuICAgIElNQUdFUzoge1xuICAgICAgICBmYXZpY29uLFxuICAgICAgICBib2FyZF9ibG9jayxcbiAgICAgICAgYXJyb3csXG4gICAgICAgIHJlc3VsdF9yZWQsXG4gICAgICAgIHJlc3VsdF9ibHVlLFxuICAgICAgICByZXN1bHRfdGllLFxuICAgICAgICBjaGlwX3JlZCxcbiAgICAgICAgY2hpcF9ibHVlLFxuICAgICAgICBjaGlwX3JlZF9kcm9wLFxuICAgICAgICBjaGlwX2JsdWVfZHJvcCxcbiAgICAgICAgY2hpcF9yZWRfd2luLFxuICAgICAgICBjaGlwX2JsdWVfd2luLFxuICAgICAgICBjaGlwX3JlZF9zaGFkb3csXG4gICAgICAgIGNoaXBfYmx1ZV9zaGFkb3csXG4gICAgICAgIG1lc3NhZ2VfYm9hcmQsXG4gICAgICAgIHRyeV9hZ2Fpbl9yZWQsXG4gICAgICAgIHRyeV9hZ2Fpbl9ibHVlLFxuICAgICAgICByb2NrZXRfcmVkLFxuICAgICAgICByb2NrZXRfYmx1ZSxcbiAgICAgICAgYnRuX3JlcGxheVxuICAgIH0sXG4gICAgR0FNRV9DT05GSUc6IHtcbiAgICAgICAgbnVtX3BsYXllcnM6IDIsXG4gICAgICAgIGJvYXJkX3dpZHRoOiA3LFxuICAgICAgICBib2FyZF9oZWlnaHQ6IDYsXG4gICAgICAgIHdpbl9jb25kaXRpb246IDQsXG4gICAgICAgIGJvYXJkX3NpemU6IDY0LFxuICAgICAgICBiYWNrZ3JvdW5kX2NvbG9yOiAweDE0MEMxQ1xuICAgIH0sXG4gICAgR1JBUEhJQ1M6IHtcbiAgICAgICAgZnJhbWVfcmF0ZTogNjAsXG4gICAgICAgIHJlcGxheV9idG5fb2Zmc2V0OiA1NCxcbiAgICAgICAgYnRuX2hlaWdodDogNTIsXG4gICAgICAgIGJ0bl9kZWxheTogMyxcbiAgICAgICAgbWVzc2FnZV90aW1lOiA3LFxuICAgICAgICBpbXBhY3RfZGVsYXk6IDUsXG4gICAgICAgIHJlc3VsdF9kZWxheTogMTVcbiAgICB9LFxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xzIHtcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgICAgICB0aGlzLl9zZWxlY3RlZFNsb3QgPSAwXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxuICAgIH1cbiAgICBfZmlyZUNvbnRyb2xzKCkge1xuICAgICAgICB0aGlzLnNldFBsYXllcklucHV0KHRydWUpO1xuICAgICAgICB0aGlzLl9hZGRNb3VzZUxpc3RlbmVyKCk7XG5cbiAgICB9XG5cbiAgICBzZXRQbGF5ZXJJbnB1dChwbGF5ZXJJbnB1dCkge1xuICAgICAgICB0aGlzLkFsbG93SW5wdXQgPSBwbGF5ZXJJbnB1dDtcbiAgICB9XG4gICAgX2FkZE1vdXNlTGlzdGVuZXIoKSB7XG4gICAgICAgIHRoaXMuTW91c2VQb3MgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb24ubW91c2UuZ2xvYmFsO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTY29yZU1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnNhdmVkX3Njb3JlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzY29yZXMnKVxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNhdmVkX3Njb3JlcylcbiAgICAgICAgdGhpcy5faW5pdFNjb3JlcygpXG4gICAgfVxuXG4gICAgX2luaXRTY29yZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLnNhdmVkX3Njb3Jlcykge1xuICAgICAgICAgICAgdGhpcy5zYXZlZF9zY29yZXMgPSBKU09OLnBhcnNlKHRoaXMuc2F2ZWRfc2NvcmVzKVxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJibHVlLXNjb3JlXCIpLmlubmVySFRNTCA9IHRoaXMuc2F2ZWRfc2NvcmVzLmJsdWVfc2NvcmVcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVkLXNjb3JlXCIpLmlubmVySFRNTCA9IHRoaXMuc2F2ZWRfc2NvcmVzLnJlZF9zY29yZVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGluaXRTY29yZXMgPSB7XG4gICAgICAgICAgICAgICAgJ2JsdWVfc2NvcmUnOiAwLFxuICAgICAgICAgICAgICAgICdyZWRfc2NvcmUnOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW5pdFNjb3JlcycsIGluaXRTY29yZXMpXG4gICAgICAgICAgICB0aGlzLl9zZXRTY29yZXMoaW5pdFNjb3JlcylcbiAgICAgICAgICAgIHRoaXMuc2F2ZWRfc2NvcmVzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2NvcmVzJykpXG5cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgX3VwZGF0ZVNjb3JlQmx1ZSgpIHtcbiAgICAgICAgdGhpcy5zYXZlZF9zY29yZXMuYmx1ZV9zY29yZSA9IHRoaXMuc2F2ZWRfc2NvcmVzLmJsdWVfc2NvcmUgKyAxXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmx1ZS1zY29yZVwiKS5pbm5lckhUTUwgPSB0aGlzLnNhdmVkX3Njb3Jlcy5ibHVlX3Njb3JlXG4gICAgICAgIHRoaXMuX3NldFNjb3Jlcyh0aGlzLnNhdmVkX3Njb3JlcylcbiAgICB9XG5cbiAgICBfdXBkYXRlU2NvcmVSZWQoKSB7XG4gICAgICAgIHRoaXMuc2F2ZWRfc2NvcmVzLnJlZF9zY29yZSA9IHRoaXMuc2F2ZWRfc2NvcmVzLnJlZF9zY29yZSArIDFcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZWQtc2NvcmVcIikuaW5uZXJIVE1MID0gdGhpcy5zYXZlZF9zY29yZXMucmVkX3Njb3JlXG4gICAgICAgIHRoaXMuX3NldFNjb3Jlcyh0aGlzLnNhdmVkX3Njb3JlcylcbiAgICB9XG5cblxuICAgIF9zZXRTY29yZXMoc2V0U2NvcmVzKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzY29yZXMnLCBKU09OLnN0cmluZ2lmeShzZXRTY29yZXMpKVxuICAgIH1cbn0iLCJpbXBvcnQgQ29uZmlnIGZyb20gJy4vQ29uZmlnJ1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9naWMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkFycmF5RmllbGRWYWx1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5BcnJheVNsb3RWYWNhbmN5ID0gW107XG4gICAgICAgIHRoaXMuQXJyYXlXaW5YID0gW107XG4gICAgICAgIHRoaXMuQXJyYXlXaW5ZID0gW107XG4gICAgICAgIHRoaXMubWF4Q2hpcFJvdyA9ICgyICogQ29uZmlnLkdBTUVfQ09ORklHLndpbl9jb25kaXRpb24pIC0gMTtcbiAgICAgICAgdGhpcy5QbGF5ZXJUdXJuO1xuICAgICAgICB0aGlzLkZpZWxkc1ZhY2FudDtcbiAgICB9XG5cbiAgICBfaW5pdExvZ2ljKCkge1xuICAgICAgICB0aGlzLl9maWxsQXJyYXlGaWVsZFZhbHVlcygpO1xuICAgICAgICB0aGlzLl9maWxsQXJyYXlTbG90VmFjYW5jeSgpO1xuICAgICAgICB0aGlzLl9maWxsQXJyYXlXaW4oKTtcbiAgICAgICAgdGhpcy5QbGF5ZXJUdXJuID0gMTtcbiAgICAgICAgdGhpcy5GaWVsZHNWYWNhbnQgPSBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfaGVpZ2h0ICogQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX2hlaWdodFxuICAgICAgICB0aGlzLkdhbWVPdmVyID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX2ZpbGxBcnJheUZpZWxkVmFsdWVzKCkge1xuICAgICAgICBsZXQgaSxcbiAgICAgICAgICAgIGo7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfd2lkdGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGhpcy5BcnJheUZpZWxkVmFsdWVzW2ldID0gW107XG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX2hlaWdodDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5BcnJheUZpZWxkVmFsdWVzW2ldW2pdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9maWxsQXJyYXlTbG90VmFjYW5jeSgpIHtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfd2lkdGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGhpcy5BcnJheVNsb3RWYWNhbmN5W2ldID0gQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX2hlaWdodDtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgX2ZpbGxBcnJheVdpbigpIHtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLm1heENoaXBSb3c7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGhpcy5BcnJheVdpblhbaV0gPSAtMTtcbiAgICAgICAgICAgIHRoaXMuQXJyYXlXaW5ZW2ldID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfd2luR2FtZSgpIHtcbiAgICAgICAgdGhpcy5HYW1lT3ZlciA9IHRydWU7XG4gICAgfVxuXG4gICAgX2NoZWNrVGllKCkge1xuICAgICAgICBpZiAodGhpcy5GaWVsZHNWYWNhbnQgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jaGVja1dpbih2eCwgdnkpIHtcbiAgICAgICAgbGV0IHdpbkNvbmRGdWxmaWxsZWQgPSBmYWxzZSxcbiAgICAgICAgICAgIG1heExlbmd0aCA9IENvbmZpZy5HQU1FX0NPTkZJRy53aW5fY29uZGl0aW9uLFxuICAgICAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgICAgICAgZHgsXG4gICAgICAgICAgICBkeSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBjb3VudGVyLFxuICAgICAgICAgICAgcG9zaXRpdmVDb3VudCxcbiAgICAgICAgICAgIG5lZ2F0aXZlQ291bnQsXG4gICAgICAgICAgICBjaGVja1gsXG4gICAgICAgICAgICBjaGVja1ksXG4gICAgICAgICAgICBhcnJheVN0YXJ0ID0gbWF4TGVuZ3RoIC0gMTtcbiAgICAgICAgdGhpcy5BcnJheVdpblhbYXJyYXlTdGFydF0gPSB2eDtcbiAgICAgICAgdGhpcy5BcnJheVdpbllbYXJyYXlTdGFydF0gPSB2eTtcblxuICAgICAgICBmb3IgKGRpcmVjdGlvbiA9IDA7IGRpcmVjdGlvbiA8IENvbmZpZy5HQU1FX0NPTkZJRy53aW5fY29uZGl0aW9uOyBkaXJlY3Rpb24gKz0gMSkge1xuICAgICAgICAgICAgY291bnRlciA9IDE7XG4gICAgICAgICAgICBwb3NpdGl2ZUNvdW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIG5lZ2F0aXZlQ291bnQgPSB0cnVlO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogICAgICAgICAgICAgLy9Ib3Jpem9udGFsXG4gICAgICAgICAgICAgICAgICAgIGR4ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6ICAgICAgICAgICAgIC8vUG9zaXRpdmUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICAgICAgZHggPSAxO1xuICAgICAgICAgICAgICAgICAgICBkeSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjogICAgICAgICAgICAgLy9OZWdhdGl2ZSBkaWFnb25hbFxuICAgICAgICAgICAgICAgICAgICBkeCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGR5ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzogICAgICAgICAgICAgLy9WZXJ0aWNhbFxuICAgICAgICAgICAgICAgICAgICBkeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBtYXhMZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGl2ZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrWCA9IHZ4ICsgaSAqIGR4O1xuICAgICAgICAgICAgICAgICAgICBjaGVja1kgPSB2eSArIGkgKiBkeTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzSW5kZXhWYWxpZChjaGVja1gsICd4JykgJiYgdGhpcy5faXNJbmRleFZhbGlkKGNoZWNrWSwgJ3knKSAmJiB0aGlzLkFycmF5RmllbGRWYWx1ZXNbY2hlY2tYXVtjaGVja1ldID09PSB0aGlzLlBsYXllclR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQXJyYXlXaW5YW2FycmF5U3RhcnQgKyBpXSA9IGNoZWNrWDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQXJyYXlXaW5ZW2FycmF5U3RhcnQgKyBpXSA9IGNoZWNrWTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aXZlQ291bnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmVnYXRpdmVDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja1ggPSB2eCAtIGkgKiBkeDtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tZID0gdnkgLSBpICogZHk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0luZGV4VmFsaWQoY2hlY2tYLCAneCcpICYmIHRoaXMuX2lzSW5kZXhWYWxpZChjaGVja1ksICd5JykgJiYgdGhpcy5BcnJheUZpZWxkVmFsdWVzW2NoZWNrWF1bY2hlY2tZXSA9PT0gdGhpcy5QbGF5ZXJUdXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudGVyICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkFycmF5V2luWFthcnJheVN0YXJ0IC0gaV0gPSBjaGVja1g7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkFycmF5V2luWVthcnJheVN0YXJ0IC0gaV0gPSBjaGVja1k7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZWdhdGl2ZUNvdW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb3VudGVyID49IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgIHdpbkNvbmRGdWxmaWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghd2luQ29uZEZ1bGZpbGxlZCkge1xuICAgICAgICAgICAgdGhpcy5fZmlsbEFycmF5V2luKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpbkNvbmRGdWxmaWxsZWQ7XG4gICAgfVxuXG5cbiAgICBfaXNJbmRleFZhbGlkKEluZGV4LCBBeGlzKSB7XG4gICAgICAgIGxldCBjb21wLFxuICAgICAgICAgICAgaXNWYWxpZDtcbiAgICAgICAgc3dpdGNoIChBeGlzKSB7XG4gICAgICAgICAgICBjYXNlICd4JzpcbiAgICAgICAgICAgICAgICBjb21wID0gQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3dpZHRoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAneSc6XG4gICAgICAgICAgICAgICAgY29tcCA9IENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9oZWlnaHQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaXNWYWxpZCA9IChJbmRleCA+IC0xICYmIEluZGV4IDwgY29tcCkgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgIH1cblxuICAgIF9pc1Nsb3RPY2N1cGllZChTbG90SW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuQXJyYXlTbG90VmFjYW5jeVtTbG90SW5kZXhdIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0ICcuLi8uLi9pbmRleC5odG1sJztcbmltcG9ydCBQSVhJIGZyb20gJy4uLy4uLy4uL25vZGVfbW9kdWxlcy9waXhpLmpzL2Rpc3QvcGl4aS5taW4uanMnO1xuaW1wb3J0IEdhbWUgZnJvbSAnLi9HYW1lJ1xuXG5sZXQgZyA9IG5ldyBHYW1lKCk7XG5cblxuXG4iLCJpbXBvcnQgQ29uZmlnIGZyb20gJy4vQ29uZmlnJ1xuaW1wb3J0IENvbnRyb2xzIGZyb20gJy4vQ29udHJvbHMnXG5pbXBvcnQgU2NvcmVNYW5hZ2VyIGZyb20gJy4vU2NvcmVNYW5hZ2VyJ1xuaW1wb3J0IExvZ2ljIGZyb20gJy4vTG9naWMnXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fZG9tQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtYmxvY2snKTtcbiAgICAgICAgdGhpcy5fU2NvcmVNYW5hZ2VyID0gbmV3IFNjb3JlTWFuYWdlcigpXG4gICAgICAgIFBJWEkubG9hZGVyXG4gICAgICAgICAgICAuYWRkKFtPYmplY3QudmFsdWVzKENvbmZpZy5JTUFHRVMpXSlcbiAgICAgICAgICAgIC5sb2FkKCgpID0+IHRoaXMuX3N0YXJ0KCkpO1xuICAgIH1cblxuICAgIF9zdGFydCgpIHtcbiAgICAgICAgdGhpcy5faW5pdENhbnZhcygpO1xuICAgICAgICB0aGlzLl9Mb2dpYyA9IG5ldyBMb2dpYygpXG4gICAgICAgIHRoaXMuX3NjZW5lKCk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLl9sb29wKCkpO1xuXG4gICAgfVxuXG4gICAgX2luaXRDYW52YXMoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgUElYSS5DYW52YXNSZW5kZXJlcih0aGlzLl9nZXRDYW52YXNTaXplKCkuY2FudmFzX3dpZHRoLCB0aGlzLl9nZXRDYW52YXNTaXplKCkuY2FudmFzX2hlaWdodCwge1xuICAgICAgICAgICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICAgICAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDFcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmFja2dyb3VuZENvbG9yID0gMHgxNDBDMUM7XG4gICAgICAgIHRoaXMuX2RvbUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLnZpZXcpO1xuICAgICAgICB0aGlzLl9Db250cm9scyA9IG5ldyBDb250cm9scyh0aGlzLnJlbmRlcmVyKVxuICAgIH1cbiAgICAvLyBTVEFSVCBJTklUIFNUQUdFXG4gICAgX2luaXRTdGFnZSgpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0gUElYSS5sb2FkZXIucmVzb3VyY2VzO1xuICAgICAgICB0aGlzLl9pbml0Qm9hcmQoKTtcbiAgICAgICAgdGhpcy5faW5pdE1lc3NhZ2VzKCk7XG4gICAgICAgIHRoaXMuX2luaXRQcmV2aWV3KCk7XG4gICAgfVxuXG4gICAgX2luaXRCb2FyZCgpIHtcbiAgICAgICAgbGV0IGksXG4gICAgICAgICAgICBqLFxuICAgICAgICAgICAgc2xvdCxcbiAgICAgICAgICAgIGJhY2tncm91bmRCb2FyZCA9IHRoaXMucmVzb3VyY2VzW0NvbmZpZy5JTUFHRVMuYm9hcmRfYmxvY2tdLnRleHR1cmUsXG4gICAgICAgICAgICByZW5kZXJCYWNrZ3JvdW5kO1xuICAgICAgICB0aGlzLnNsb3RDb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF93aWR0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBzbG90ID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcmFjdGl2ZShzbG90LCBmYWxzZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfaGVpZ2h0OyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJCYWNrZ3JvdW5kID0gbmV3IFBJWEkuU3ByaXRlKGJhY2tncm91bmRCb2FyZCk7XG4gICAgICAgICAgICAgICAgcmVuZGVyQmFja2dyb3VuZC54ID0gQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3NpemUgKiBpO1xuICAgICAgICAgICAgICAgIHJlbmRlckJhY2tncm91bmQueSA9IENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplICogajtcbiAgICAgICAgICAgICAgICBzbG90LmFkZENoaWxkKHJlbmRlckJhY2tncm91bmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zbG90Q29udGFpbmVyLmFkZENoaWxkKHNsb3QpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLnNsb3RDb250YWluZXIpO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuc2V0Q2hpbGRJbmRleCh0aGlzLnNsb3RDb250YWluZXIsIDApO1xuICAgICAgICB0aGlzLmNoaXBDb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZENoaWxkKHRoaXMuY2hpcENvbnRhaW5lcik7XG4gICAgfVxuXG5cbiAgICBfaW5pdE1lc3NhZ2VzKCkge1xuICAgICAgICBsZXQgdGV4Qm9hcmQgPSB0aGlzLnJlc291cmNlc1tDb25maWcuSU1BR0VTLm1lc3NhZ2VfYm9hcmRdLnRleHR1cmUsXG4gICAgICAgICAgICB0ZXhNZXNzYWdlID0gdGhpcy5yZXNvdXJjZXNbQ29uZmlnLklNQUdFUy50cnlfYWdhaW5fYmx1ZV0udGV4dHVyZSxcbiAgICAgICAgICAgIHRleEJ0blJlcGxheSA9IHRoaXMucmVzb3VyY2VzW0NvbmZpZy5JTUFHRVMuYnRuX3JlcGxheV0udGV4dHVyZSxcbiAgICAgICAgICAgIHNwckJvYXJkID0gdGhpcy5fdG9DZW50ZXIodGV4Qm9hcmQpO1xuICAgICAgICB0aGlzLnNwck1lc3NhZ2UgPSB0aGlzLl90b0NlbnRlcih0ZXhNZXNzYWdlKTtcbiAgICAgICAgdGhpcy5yZWN0QnRuUmVwbGF5ID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIHRleEJ0blJlcGxheS53aWR0aCwgQ29uZmlnLkdSQVBISUNTLmJ0bl9oZWlnaHQpO1xuICAgICAgICB0ZXhCdG5SZXBsYXkuZnJhbWUgPSB0aGlzLnJlY3RCdG5SZXBsYXk7XG4gICAgICAgIHRoaXMuc3ByQnRuUmVwbGF5ID0gdGhpcy5fdG9DZW50ZXIodGV4QnRuUmVwbGF5KTtcbiAgICAgICAgdGhpcy5zcHJCdG5SZXBsYXkueSArPSBDb25maWcuR1JBUEhJQ1MucmVwbGF5X2J0bl9vZmZzZXQ7XG4gICAgICAgIHRoaXMubWVzc2FnZUNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLm1lc3NhZ2VDb250YWluZXIuYWRkQ2hpbGQoc3ByQm9hcmQpO1xuICAgICAgICB0aGlzLm1lc3NhZ2VDb250YWluZXIuYWRkQ2hpbGQodGhpcy5zcHJNZXNzYWdlKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlQ29udGFpbmVyLmFkZENoaWxkKHRoaXMuc3ByQnRuUmVwbGF5KTtcbiAgICAgICAgdGhpcy5tZXNzYWdlQ29udGFpbmVyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZENoaWxkKHRoaXMubWVzc2FnZUNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgX2luaXRQcmV2aWV3KCkge1xuICAgICAgICBsZXQgdGV4QXJyb3cgPSB0aGlzLnJlc291cmNlc1tDb25maWcuSU1BR0VTLmFycm93XS50ZXh0dXJlLFxuICAgICAgICAgICAgdGV4U2hhZG93ID0gdGhpcy5yZXNvdXJjZXNbQ29uZmlnLklNQUdFUy5jaGlwX2JsdWVfc2hhZG93XS50ZXh0dXJlO1xuICAgICAgICB0aGlzLnJlY3RBcnJvdyA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfc2l6ZSwgQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3NpemUsIENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplKTtcbiAgICAgICAgdGV4QXJyb3cuZnJhbWUgPSB0aGlzLnJlY3RBcnJvdztcbiAgICAgICAgdGhpcy5zcHJBcnJvdyA9IG5ldyBQSVhJLlNwcml0ZSh0ZXhBcnJvdyk7XG4gICAgICAgIHRoaXMuc3ByU2hhZG93ID0gbmV3IFBJWEkuU3ByaXRlKHRleFNoYWRvdyk7XG4gICAgICAgIHRoaXMuc3ByU2hhZG93LnkgPSAoQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX2hlaWdodCAtIDEpICogQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3NpemU7XG4gICAgICAgIHRoaXMuYXJyb3dDb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgdGhpcy5hcnJvd0NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLnNwckFycm93KTtcbiAgICAgICAgdGhpcy5hcnJvd0NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLnNwclNoYWRvdyk7XG4gICAgICAgIHRoaXMuYXJyb3dDb250YWluZXIuc2V0Q2hpbGRJbmRleCh0aGlzLnNwclNoYWRvdywgMCk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLmFycm93Q29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBfdG9DZW50ZXIoblRleCkge1xuICAgICAgICBsZXQgc3ByID0gbmV3IFBJWEkuU3ByaXRlKG5UZXgpO1xuICAgICAgICBzcHIuYW5jaG9yLnNldCgwLjUsIDAuNSk7XG4gICAgICAgIHNwci5wb3NpdGlvbi5zZXQoMC41ICogdGhpcy5fZ2V0Q2FudmFzU2l6ZSgpLmNhbnZhc193aWR0aCwgMC41ICogdGhpcy5fZ2V0Q2FudmFzU2l6ZSgpLmNhbnZhc19oZWlnaHQpO1xuICAgICAgICByZXR1cm4gc3ByO1xuICAgIH1cblxuICAgIF9nZXRDYW52YXNTaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FudmFzX2hlaWdodDogQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX2hlaWdodCAqIENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplLFxuICAgICAgICAgICAgY2FudmFzX3dpZHRoOiBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfd2lkdGggKiBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfc2l6ZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2ludGVyYWN0aXZlKGRpc3BPYmosIGlzQnV0dG9uLCBidXR0b25WYWx1ZSkge1xuICAgICAgICBkaXNwT2JqLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZGlzcE9iai5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgICAgICAgaWYgKGlzQnV0dG9uKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGJ1dHRvblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlcGxheVwiOlxuICAgICAgICAgICAgICAgICAgICBkaXNwT2JqLm9uKCdwb2ludGVyZG93bicsICgpID0+IHRoaXMub25DbGlja1JlcGxheSgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGRpc3BPYmoub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdGhpcy5fb25Ib3ZlcigpKTtcbiAgICAgICAgICAgIGRpc3BPYmoub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy5fb25DbGljaygpKTtcblxuICAgICAgICB9XG4gICAgfVxuICAgIF91bkludGVyYWN0aXZlKGRpc3BPYmopIHtcbiAgICAgICAgZGlzcE9iai5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBkaXNwT2JqLmJ1dHRvbk1vZGUgPSBmYWxzZTtcbiAgICB9XG4gICAgX29uSG92ZXIoKSB7XG4gICAgICAgIHRoaXMuX0NvbnRyb2xzLl9zZWxlY3RlZFNsb3QgPSB0aGlzLl9tb3VzZVNlbGVjdGlvbigpO1xuICAgICAgICBpZiAodGhpcy5fQ29udHJvbHMuQWxsb3dJbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5fZmVlZGJhY2tTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkNsaWNrKCkge1xuICAgICAgICB0aGlzLl9oYXJkSW5wdXQoKTtcbiAgICB9XG5cbiAgICBfaGFyZElucHV0KCkge1xuICAgICAgICBpZiAodGhpcy5fQ29udHJvbHMuQWxsb3dJbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5fQ29udHJvbHMuc2V0UGxheWVySW5wdXQoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkKHRoaXMuX0NvbnRyb2xzLl9zZWxlY3RlZFNsb3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NoZWNrSW5wdXRWYWxpZChTbG90SW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuX0xvZ2ljLl9pc1Nsb3RPY2N1cGllZChTbG90SW5kZXgpKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnZhbGlkSW5wdXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkSW5wdXQoU2xvdEluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaW52YWxpZElucHV0KCkge1xuICAgICAgICB0aGlzLl9mZWVkYmFja1RyeUFnYWluKCk7XG4gICAgfVxuXG4gICAgX3ZhbGlkSW5wdXQoU2xvdEluZGV4KSB7XG4gICAgICAgIHRoaXMuX0xvZ2ljLkFycmF5U2xvdFZhY2FuY3lbU2xvdEluZGV4XSAtPSAxO1xuICAgICAgICBsZXQgU2xvdEZpZWxkID0gdGhpcy5fTG9naWMuQXJyYXlTbG90VmFjYW5jeVtTbG90SW5kZXhdO1xuICAgICAgICB0aGlzLl9Mb2dpYy5GaWVsZHNWYWNhbnQgLT0gMTtcbiAgICAgICAgdGhpcy5fTG9naWMuQXJyYXlGaWVsZFZhbHVlc1tTbG90SW5kZXhdW1Nsb3RGaWVsZF0gPSB0aGlzLl9Mb2dpYy5QbGF5ZXJUdXJuO1xuICAgICAgICBpZiAoIXRoaXMuX0xvZ2ljLl9jaGVja1dpbihTbG90SW5kZXgsIFNsb3RGaWVsZCkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fTG9naWMuX2NoZWNrVGllKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZXh0VHVybigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aWVHYW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9Mb2dpYy5fd2luR2FtZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZlZWRiYWNrSW5wdXQoU2xvdEluZGV4LCBTbG90RmllbGQpO1xuICAgIH1cblxuICAgIF9tb3VzZVNlbGVjdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNNb3VzZUluc2lkZUNhbnZhcygpKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLl9Db250cm9scy5Nb3VzZVBvcy54IC8gQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3NpemUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNNb3VzZUluc2lkZUNhbnZhcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX0NvbnRyb2xzLk1vdXNlUG9zLnggPCB0aGlzLl9nZXRDYW52YXNTaXplKCkuY2FudmFzX3dpZHRoICYmIHRoaXMuX0NvbnRyb2xzLk1vdXNlUG9zLnggPiAtMSAmJiB0aGlzLl9Db250cm9scy5Nb3VzZVBvcy55IDwgdGhpcy5fZ2V0Q2FudmFzU2l6ZSgpLmNhbnZhc19oZWlnaHQgJiYgdGhpcy5fQ29udHJvbHMuTW91c2VQb3MueSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vR0FNRSBMT09QXG4gICAgX2xvb3AoKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLl9sb29wKCkpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLl9jb250YWluZXIpXG4gICAgfVxuXG4gICAgX2ZlZWRiYWNrVHJ5QWdhaW4oKSB7XG4gICAgICAgIGxldCBpbWdLZXksXG4gICAgICAgICAgICBzaG93QW5kSGlkZSxcbiAgICAgICAgICAgIHNob3dDb3VudGVyID0gMDtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9Mb2dpYy5QbGF5ZXJUdXJuKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaW1nS2V5ID0gQ29uZmlnLklNQUdFUy50cnlfYWdhaW5fYmx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpbWdLZXkgPSBDb25maWcuSU1BR0VTLnRyeV9hZ2Fpbl9yZWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zcHJNZXNzYWdlLnRleHR1cmUgPSB0aGlzLnJlc291cmNlc1tpbWdLZXldLnRleHR1cmU7XG4gICAgICAgIHRoaXMubWVzc2FnZUNvbnRhaW5lci52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zcHJCdG5SZXBsYXkudmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHNob3dBbmRIaWRlID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNob3dDb3VudGVyID09PSBDb25maWcuR1JBUEhJQ1MubWVzc2FnZV90aW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlQ29udGFpbmVyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9Db250cm9scy5zZXRQbGF5ZXJJbnB1dCh0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mZWVkYmFja0lucHV0QWxsb3dlZCgpO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc2hvd0FuZEhpZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hvd0NvdW50ZXIgKz0gMTtcbiAgICAgICAgfSwgQ29uZmlnLkdSQVBISUNTLmZyYW1lX3JhdGUpO1xuICAgIH1cblxuICAgIF9mZWVkYmFja0lucHV0KHZ4LCB2eSkge1xuICAgICAgICBsZXQgYW5pbUlucHV0LFxuICAgICAgICAgICAgYW5pbUxvb3BDb3VudGVyID0gMixcbiAgICAgICAgICAgIGFuaW1Db3VudGVyU3RvcCA9IDQ7XG4gICAgICAgIGFuaW1JbnB1dCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChhbmltTG9vcENvdW50ZXIgPCBhbmltQ291bnRlclN0b3ApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3RBcnJvdy55ID0gYW5pbUxvb3BDb3VudGVyICogQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3NpemU7XG4gICAgICAgICAgICAgICAgdGhpcy5zcHJBcnJvdy50ZXh0dXJlLmZyYW1lID0gdGhpcy5yZWN0QXJyb3c7XG4gICAgICAgICAgICAgICAgYW5pbUxvb3BDb3VudGVyICs9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZlZWRiYWNrSW5wdXRBbGxvd2VkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmVlZGJhY2tEcm9wKHZ4LCB2eSk7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhbmltSW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBDb25maWcuR1JBUEhJQ1MuZnJhbWVfcmF0ZSk7XG4gICAgfVxuXG5cbiAgICBfZmVlZGJhY2tEcm9wKHZ4LCB2eSkge1xuICAgICAgICBsZXQgaW1nS2V5LFxuICAgICAgICAgICAgY2hpcENvbG9yID0gdGhpcy5fTG9naWMuQXJyYXlGaWVsZFZhbHVlc1t2eF1bdnldLFxuICAgICAgICAgICAgcmVjdCA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfc2l6ZSwgQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3NpemUpLFxuICAgICAgICAgICAgdGV4Q2hpcCxcbiAgICAgICAgICAgIHNwckNoaXAsXG4gICAgICAgICAgICBmaXJzdExvb3AgPSB0cnVlLFxuICAgICAgICAgICAgYW5pbURyb3AsXG4gICAgICAgICAgICBhbmltTG9vcENvdW50ZXIgPSAwO1xuICAgICAgICBzd2l0Y2ggKGNoaXBDb2xvcikge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGltZ0tleSA9IENvbmZpZy5JTUFHRVMuY2hpcF9ibHVlX2Ryb3A7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaW1nS2V5ID0gQ29uZmlnLklNQUdFUy5jaGlwX3JlZF9kcm9wO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRleENoaXAgPSB0aGlzLnJlc291cmNlc1tpbWdLZXldLnRleHR1cmU7XG4gICAgICAgIHNwckNoaXAgPSBuZXcgUElYSS5TcHJpdGUodGV4Q2hpcCk7XG4gICAgICAgIHNwckNoaXAudGV4dHVyZS5mcmFtZSA9IHJlY3Q7XG4gICAgICAgIHNwckNoaXAueCA9IENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplICogdng7XG4gICAgICAgIHNwckNoaXAueSA9IDA7XG4gICAgICAgIHRoaXMuY2hpcENvbnRhaW5lci5hZGRDaGlsZChzcHJDaGlwKTtcblxuICAgICAgICBhbmltRHJvcCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChmaXJzdExvb3ApIHtcbiAgICAgICAgICAgICAgICBmaXJzdExvb3AgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5pbUxvb3BDb3VudGVyICs9IDAuNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhbmltTG9vcENvdW50ZXIgPCB2eSkge1xuICAgICAgICAgICAgICAgIGlmIChyZWN0LnkgPT09IENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplICogMikge1xuICAgICAgICAgICAgICAgICAgICByZWN0LnkgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWN0LnkgKz0gQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3NpemU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY3QueCA9IENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplO1xuICAgICAgICAgICAgICAgIHJlY3QueSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmVlZGJhY2tJbXBhY3Qoc3ByQ2hpcCwgcmVjdCwgY2hpcENvbG9yKTtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGFuaW1Ecm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNwckNoaXAueSA9IGFuaW1Mb29wQ291bnRlciAqIENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplO1xuICAgICAgICAgICAgc3ByQ2hpcC50ZXh0dXJlLmZyYW1lID0gcmVjdDtcbiAgICAgICAgfSwgQ29uZmlnLkdSQVBISUNTLmZyYW1lX3JhdGUpO1xuICAgIH1cblxuICAgIF9mZWVkYmFja0ltcGFjdChzcHJDaGlwLCByZWN0LCBjaGlwQ29sb3IpIHtcbiAgICAgICAgbGV0IGltZ0tleSxcbiAgICAgICAgICAgIGFuaW1JbXBhY3QsXG4gICAgICAgICAgICBhbmltTG9vcENvdW50ZXIgPSAwLFxuICAgICAgICAgICAgYW5pbUNvdW50ZXJTdG9wID0gMztcbiAgICAgICAgc3dpdGNoIChjaGlwQ29sb3IpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpbWdLZXkgPSBDb25maWcuSU1BR0VTLmNoaXBfYmx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpbWdLZXkgPSBDb25maWcuSU1BR0VTLmNoaXBfcmVkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJlY3QueCA9IENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplO1xuICAgICAgICByZWN0LnkgPSAwO1xuICAgICAgICBzcHJDaGlwLnRleHR1cmUuZnJhbWUgPSByZWN0O1xuXG4gICAgICAgIGFuaW1JbXBhY3QgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBhbmltTG9vcENvdW50ZXIgKz0gMTtcbiAgICAgICAgICAgIGlmIChhbmltTG9vcENvdW50ZXIgPCBhbmltQ291bnRlclN0b3ApIHtcbiAgICAgICAgICAgICAgICByZWN0LnkgPSBhbmltTG9vcENvdW50ZXIgKiBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfc2l6ZTtcbiAgICAgICAgICAgICAgICBzcHJDaGlwLnRleHR1cmUuZnJhbWUgPSByZWN0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzcHJDaGlwLnRleHR1cmUgPSB0aGlzLnJlc291cmNlc1tpbWdLZXldLnRleHR1cmU7XG4gICAgICAgICAgICAgICAgcmVjdC54ID0gMDtcbiAgICAgICAgICAgICAgICByZWN0LnkgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZlZWRiYWNrV2luKGNoaXBDb2xvcik7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhbmltSW1wYWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgQ29uZmlnLkdSQVBISUNTLmZyYW1lX3JhdGUpO1xuICAgIH1cblxuICAgIF9mZWVkYmFja1dpbihjaGlwQ29sb3IpIHtcbiAgICAgICAgbGV0IGltZ0tleSxcbiAgICAgICAgICAgIHRleEVmZmVjdCxcbiAgICAgICAgICAgIHNwckVmZmVjdCxcbiAgICAgICAgICAgIHJlY3QgPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwgMCwgQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3NpemUsIENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplKSxcbiAgICAgICAgICAgIGFuaW1XaW4sXG4gICAgICAgICAgICBkZWxheUNvdW50ZXIgPSAwLFxuICAgICAgICAgICAgYW5pbUxvb3BDb3VudGVyID0gMCxcbiAgICAgICAgICAgIGFuaW1GcmFtZUNvdW50ID0gNixcbiAgICAgICAgICAgIGFuaW1SdW5Db3VudCxcbiAgICAgICAgICAgIGFuaW1Db3VudGVyU3RvcCA9IGFuaW1GcmFtZUNvdW50ICogdGhpcy5fTG9naWMubWF4Q2hpcFJvdztcbiAgICAgICAgc3dpdGNoIChjaGlwQ29sb3IpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpbWdLZXkgPSBDb25maWcuSU1BR0VTLmNoaXBfYmx1ZV93aW47XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaW1nS2V5ID0gQ29uZmlnLklNQUdFUy5jaGlwX3JlZF93aW47XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGV4RWZmZWN0ID0gdGhpcy5yZXNvdXJjZXNbaW1nS2V5XS50ZXh0dXJlO1xuICAgICAgICBzcHJFZmZlY3QgPSBuZXcgUElYSS5TcHJpdGUodGV4RWZmZWN0KTtcbiAgICAgICAgc3ByRWZmZWN0LnRleHR1cmUuZnJhbWUgPSByZWN0O1xuICAgICAgICBzcHJFZmZlY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fTG9naWMuR2FtZU92ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpcENvbnRhaW5lci5hZGRDaGlsZChzcHJFZmZlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5pbVdpbiA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChkZWxheUNvdW50ZXIgPCBDb25maWcuR1JBUEhJQ1MuaW1wYWN0X2RlbGF5KSB7XG4gICAgICAgICAgICAgICAgZGVsYXlDb3VudGVyICs9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9Mb2dpYy5HYW1lT3Zlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbUxvb3BDb3VudGVyIDwgYW5pbUNvdW50ZXJTdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0LnkgPSAoYW5pbUxvb3BDb3VudGVyICUgYW5pbUZyYW1lQ291bnQpICogQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3NpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJFZmZlY3QudGV4dHVyZS5mcmFtZSA9IHJlY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltUnVuQ291bnQgPSBNYXRoLmZsb29yKGFuaW1Mb29wQ291bnRlciAvIGFuaW1GcmFtZUNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltTG9vcENvdW50ZXIgJSBhbmltRnJhbWVDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwckVmZmVjdC54ID0gdGhpcy5fTG9naWMuQXJyYXlXaW5YW2FuaW1SdW5Db3VudF0gKiBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJFZmZlY3QueSA9IHRoaXMuX0xvZ2ljLkFycmF5V2luWVthbmltUnVuQ291bnRdICogQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3NpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByRWZmZWN0LnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX0xvZ2ljLkFycmF5V2luWFthbmltUnVuQ291bnRdID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1Mb29wQ291bnRlciArPSBhbmltRnJhbWVDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbUxvb3BDb3VudGVyICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJFZmZlY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmVlZGJhY2tHYW1lT3ZlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhbmltV2luKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX0NvbnRyb2xzLnNldFBsYXllcklucHV0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mZWVkYmFja0lucHV0QWxsb3dlZCgpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGFuaW1XaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgQ29uZmlnLkdSQVBISUNTLmZyYW1lX3JhdGUpO1xuICAgIH1cblxuICAgIF9mZWVkYmFja0dhbWVPdmVyKCkge1xuICAgICAgICBsZXQgaW1nS2V5TWVzc2FnZSxcbiAgICAgICAgICAgIGltZ0tleVJvY2tldCxcbiAgICAgICAgICAgIHRleFNpemVSb2NrZXQgPSBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfc2l6ZSAqIDIsXG4gICAgICAgICAgICByZWN0ID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIHRleFNpemVSb2NrZXQsIHRleFNpemVSb2NrZXQpLFxuICAgICAgICAgICAgdGV4Um9ja2V0LFxuICAgICAgICAgICAgc3ByUm9ja2V0LFxuICAgICAgICAgICAgcm9ja2V0RGVzdCxcbiAgICAgICAgICAgIHJvY2tldFNwZWVkID0gMC41LFxuICAgICAgICAgICAgcm9ja2V0cyA9IHRydWUsXG4gICAgICAgICAgICB0cmF2ZWxpbmcgPSBmYWxzZSxcbiAgICAgICAgICAgIGZpcnN0TG9vcCA9IHRydWUsXG4gICAgICAgICAgICBhbmltRnJhbWVDb3VudCA9IDgsXG4gICAgICAgICAgICBhbmltUm9ja2V0LFxuICAgICAgICAgICAgYW5pbURlbGF5Q291bnRlciA9IDAsXG4gICAgICAgICAgICBhbmltTG9vcENvdW50ZXIgPSAwO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX0xvZ2ljLlBsYXllclR1cm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpbWdLZXlNZXNzYWdlID0gQ29uZmlnLklNQUdFUy5yZXN1bHRfdGllO1xuICAgICAgICAgICAgICAgIHJvY2tldHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpbWdLZXlNZXNzYWdlID0gQ29uZmlnLklNQUdFUy5yZXN1bHRfYmx1ZTtcbiAgICAgICAgICAgICAgICBpbWdLZXlSb2NrZXQgPSBDb25maWcuSU1BR0VTLnJvY2tldF9ibHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX1Njb3JlTWFuYWdlci5fdXBkYXRlU2NvcmVCbHVlKClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpbWdLZXlNZXNzYWdlID0gQ29uZmlnLklNQUdFUy5yZXN1bHRfcmVkO1xuICAgICAgICAgICAgICAgIGltZ0tleVJvY2tldCA9IENvbmZpZy5JTUFHRVMucm9ja2V0X3JlZDtcbiAgICAgICAgICAgICAgICB0aGlzLl9TY29yZU1hbmFnZXIuX3VwZGF0ZVNjb3JlUmVkKClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwck1lc3NhZ2UudGV4dHVyZSA9IHRoaXMucmVzb3VyY2VzW2ltZ0tleU1lc3NhZ2VdLnRleHR1cmU7XG4gICAgICAgIHRoaXMuX25vQm9hcmRJbnRlcmFjdGl2aXR5KCk7XG4gICAgICAgIHRoaXMuX2ludGVyYWN0aXZlKHRoaXMuc3ByQnRuUmVwbGF5LCB0cnVlLCBcInJlcGxheVwiKTtcbiAgICAgICAgdGhpcy5zcHJCdG5SZXBsYXkudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIGlmIChyb2NrZXRzKSB7XG4gICAgICAgICAgICB0ZXhSb2NrZXQgPSB0aGlzLnJlc291cmNlc1tpbWdLZXlSb2NrZXRdLnRleHR1cmU7XG4gICAgICAgICAgICBzcHJSb2NrZXQgPSBuZXcgUElYSS5TcHJpdGUodGV4Um9ja2V0KTtcbiAgICAgICAgICAgIHNwclJvY2tldC50ZXh0dXJlLmZyYW1lID0gcmVjdDtcbiAgICAgICAgICAgIHNwclJvY2tldC55ID0gQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX2hlaWdodCAqIENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplO1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZENoaWxkKHNwclJvY2tldCk7XG4gICAgICAgIH1cblxuICAgICAgICBhbmltUm9ja2V0ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFuaW1EZWxheUNvdW50ZXIgPCBDb25maWcuR1JBUEhJQ1MucmVzdWx0X2RlbGF5KSB7XG4gICAgICAgICAgICAgICAgYW5pbURlbGF5Q291bnRlciArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RMb29wKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZUNvbnRhaW5lci52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RMb29wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb2NrZXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmltTG9vcENvdW50ZXIgJSBhbmltRnJhbWVDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdC54ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwclJvY2tldC54ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF93aWR0aCAtIDEpKSAqIENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9ja2V0RGVzdCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfaGVpZ2h0IC0gMSkpICsgMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwclJvY2tldC55ID0gQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX2hlaWdodCAqIENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFuaW1Mb29wQ291bnRlciAlIGFuaW1GcmFtZUNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmF2ZWxpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9ja2V0RGVzdCAtPSByb2NrZXRTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwclJvY2tldC55IC09IHJvY2tldFNwZWVkICogQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3NpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjdC55ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjdC55ID0gdGV4U2l6ZVJvY2tldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjdC55ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb2NrZXREZXN0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhdmVsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5pbUxvb3BDb3VudGVyICUgKGFuaW1GcmFtZUNvdW50ICogMC41KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdC54ID0gdGV4U2l6ZVJvY2tldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYXZlbGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdC55ID0gKGFuaW1Mb29wQ291bnRlciAlIChhbmltRnJhbWVDb3VudCAqIDAuNSkpICogdGV4U2l6ZVJvY2tldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1Mb29wQ291bnRlciArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNwclJvY2tldC50ZXh0dXJlLmZyYW1lID0gcmVjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9Mb2dpYy5HYW1lT3ZlciB8fCAhcm9ja2V0cykge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGFuaW1Sb2NrZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgQ29uZmlnLkdSQVBISUNTLmZyYW1lX3JhdGUpO1xuICAgIH1cblxuICAgIF9ub0JvYXJkSW50ZXJhY3Rpdml0eSgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfd2lkdGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGhpcy5fdW5JbnRlcmFjdGl2ZSh0aGlzLnNsb3RDb250YWluZXIuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2ZlZWRiYWNrSW5wdXRBbGxvd2VkKCkge1xuICAgICAgICBpZiAodGhpcy5fQ29udHJvbHMuQWxsb3dJbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5fZmVlZGJhY2tTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMuYXJyb3dDb250YWluZXIudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFycm93Q29udGFpbmVyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9uZXh0VHVybigpIHtcbiAgICAgICAgbGV0IG5leHRQbGF5ZXIgPSB0aGlzLl9Mb2dpYy5QbGF5ZXJUdXJuICsgMTtcbiAgICAgICAgaWYgKG5leHRQbGF5ZXIgPiBDb25maWcuR0FNRV9DT05GSUcubnVtX3BsYXllcnMpIHtcbiAgICAgICAgICAgIG5leHRQbGF5ZXIgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX0xvZ2ljLlBsYXllclR1cm4gPSBuZXh0UGxheWVyO1xuICAgIH1cblxuICAgIF9zY2VuZSgpIHtcbiAgICAgICAgdGhpcy5fQ29udHJvbHMuX2ZpcmVDb250cm9scygpO1xuICAgICAgICB0aGlzLl9Mb2dpYy5faW5pdExvZ2ljKCk7XG4gICAgICAgIHRoaXMuX2luaXRTdGFnZSgpO1xuICAgIH1cblxuICAgIF9mZWVkYmFja1NlbGVjdGlvbigpIHtcbiAgICAgICAgbGV0IHJlY3RQb3NYLFxuICAgICAgICAgICAgaW1nS2V5O1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX0xvZ2ljLlBsYXllclR1cm4pIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZWN0UG9zWCA9IDA7XG4gICAgICAgICAgICAgICAgaW1nS2V5ID0gQ29uZmlnLklNQUdFUy5jaGlwX2JsdWVfc2hhZG93O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJlY3RQb3NYID0gQ29uZmlnLkdBTUVfQ09ORklHLmJvYXJkX3NpemU7XG4gICAgICAgICAgICAgICAgaW1nS2V5ID0gQ29uZmlnLklNQUdFUy5jaGlwX3JlZF9zaGFkb3c7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWN0QXJyb3cueCA9IHJlY3RQb3NYO1xuICAgICAgICBpZiAodGhpcy5fTG9naWMuX2lzU2xvdE9jY3VwaWVkKHRoaXMuX0NvbnRyb2xzLl9zZWxlY3RlZFNsb3QpKSB7XG4gICAgICAgICAgICB0aGlzLnJlY3RBcnJvdy55ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVjdEFycm93LnkgPSBDb25maWcuR0FNRV9DT05GSUcuYm9hcmRfc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwckFycm93LnRleHR1cmUuZnJhbWUgPSB0aGlzLnJlY3RBcnJvdztcbiAgICAgICAgdGhpcy5zcHJTaGFkb3cudGV4dHVyZSA9IHRoaXMucmVzb3VyY2VzW2ltZ0tleV0udGV4dHVyZTtcbiAgICAgICAgdGhpcy5hcnJvd0NvbnRhaW5lci54ID0gdGhpcy5fQ29udHJvbHMuX3NlbGVjdGVkU2xvdCAqIENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplO1xuICAgICAgICB0aGlzLnNwclNoYWRvdy55ID0gKHRoaXMuX0xvZ2ljLkFycmF5U2xvdFZhY2FuY3lbdGhpcy5fQ29udHJvbHMuX3NlbGVjdGVkU2xvdF0gLSAxKSAqIENvbmZpZy5HQU1FX0NPTkZJRy5ib2FyZF9zaXplO1xuICAgIH1cblxuICAgIG9uQ2xpY2tSZXBsYXkoKSB7XG4gICAgICAgIHRoaXMuX2ZlZWRiYWNrUmVwbGF5KCk7XG4gICAgfVxuXG4gICAgX2ZlZWRiYWNrUmVwbGF5KCkge1xuICAgICAgICBsZXQgZGVsYXlDb3VudGVyID0gMCxcbiAgICAgICAgICAgIHJlcGxheURlbGF5ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkZWxheUNvdW50ZXIgPT09IENvbmZpZy5HUkFQSElDUy5idG5fZGVsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2NlbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChyZXBsYXlEZWxheSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGF5Q291bnRlciArPSAxO1xuICAgICAgICAgICAgfSwgQ29uZmlnLkdSQVBISUNTLmZyYW1lX3JhdGUpO1xuICAgICAgICB0aGlzLnJlY3RCdG5SZXBsYXkueSA9IENvbmZpZy5HUkFQSElDUy5idG5faGVpZ2h0ICogMjtcbiAgICAgICAgdGhpcy5zcHJCdG5SZXBsYXkudGV4dHVyZS5mcmFtZSA9IHRoaXMucmVjdEJ0blJlcGxheTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==